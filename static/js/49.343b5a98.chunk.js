(this.webpackJsonpcudysg=this.webpackJsonpcudysg||[]).push([[49],{1530:function(e,t,a){e.exports=a.p+"static/media/for-login.912d9008.svg"},1685:function(e,t,a){"use strict";a.r(t);a(210);var n=a(83),r=(a(97),a(25)),o=a(19),i=a(28),c=(a(91),a(37)),l=a(5),s=a(0),m=a.n(s),u=a(27),d=a(40),p=a(45),g=a(15),b=a(55),E=a(9),f=a(1353),h=a(42),y=a(131),v=a(421),j=a(441),k=a(16),w=a(32),T=a(1530),O=a.n(T);function S(){var e=Object(l.a)(["\n\tbackground-color: #fff;\n"]);return S=function(){return e},e}function I(){var e=Object(l.a)(["\n\tbackground-image: ",";\n\tbackground-size: 25em;\n\tbackground-repeat: no-repeat;\n\tbackground-position: center;\n\tposition: relative;\n\theight: 100vh;\n\timg {\n\t\tposition: absolute;\n\t\tleft: 30px;\n\t\ttop: 20px;\n\t\tcursor: pointer;\n\t}\n"]);return I=function(){return e},e}var _=g.b.div(I(),"url(".concat(O.a,")")),x=Object(g.b)(c.a)(S());var q=function(e){return f.object().shape({email:f.string().required(e._({id:"This is required"})).email(e._({id:"Please enter a valid email"})),password:f.string().required(e._({id:"This is required"}))})};t.default=Object(E.withI18n)()((function(e){var t=e.i18n,a=Object(u.g)(),l=Object(u.h)(),g=new URLSearchParams(l.search),f=(l.state||{}).previousRoute||"",T=Object(s.useState)(null),O=Object(i.a)(T,2),S=O[0],I=O[1],B=Object(b.b)(v.c,Object(j.a)(I,g.get("from"),f)),C=Object(i.a)(B,2),L=C[0],z=C[1].loading,P=(l.state||{}).notLoggedIn;return Object(s.useEffect)((function(){localStorage.getItem("token")&&a.push("/".concat(w.d))}),[a]),m.a.createElement(x,null,!k.j&&m.a.createElement(r.a,{lg:12},m.a.createElement(_,null,m.a.createElement(h.p,{onClick:function(){return a.push("/".concat(w.d))}}))),m.a.createElement(r.a,{lg:12},k.j&&m.a.createElement(c.a,{type:"flex",justify:"center",style:{paddingTop:"2em"}},m.a.createElement(r.a,{lg:12},m.a.createElement(h.p,{onClick:function(){return a.push("/".concat(w.d))}}))),m.a.createElement(h.u,{style:{marginTop:"3em",marginBottom:0}},m.a.createElement(h.l,{content:m.a.createElement(E.Trans,{id:"Welcome back!"}),subheader:m.a.createElement(E.Trans,{id:"Please login into your account to continue using Cudy"})})),P&&m.a.createElement(h.u,null,m.a.createElement(h.a,{type:"warning",showIcon:!0,message:"Login first",description:P,className:"mb0"})),m.a.createElement(h.u,{marginBottom:0},m.a.createElement(p.b,{onSubmit:function(e){L({variables:Object(o.a)({},e)})},validationSchema:q(t),initialValues:{email:"",password:""}},(function(e){var o=e.handleSubmit,i=e.values;return m.a.createElement(n.a,{onSubmit:o,layout:"vertical"},m.a.createElement(y.a,{type:"email",label:m.a.createElement(E.Trans,{id:"Your email"}),name:"email",placeholder:t._({id:"Enter your email"})}),m.a.createElement(y.a,{password:!0,type:"password",label:m.a.createElement(E.Trans,{id:"Your password"}),name:"password",placeholder:t._({id:"Enter your password"})}),S&&10010===S.code&&m.a.createElement(h.u,{paddingHorizontal:0},m.a.createElement(h.a,{message:"Not verified",description:m.a.createElement(E.Trans,{id:"<0>It looks like your account is not verified yet. <1>Send me another email verification</1></0>",components:[m.a.createElement("span",null),m.a.createElement(d.b,{to:"/".concat(w.d,"/account/resend_email")})]}),type:"error",showIcon:!0})),m.a.createElement(h.u,{paddingHorizontal:0,textAlign:"right",style:{paddingTop:0},marginBottom:"very"},m.a.createElement(d.b,{to:"/".concat(w.d,"/forgot")},m.a.createElement(E.Trans,{id:"Forgot you password?"}))),m.a.createElement(c.a,{gutter:24},m.a.createElement(r.a,{lg:12,style:{marginBottom:k.j&&"1em"}},m.a.createElement(h.d,{type:"primary",htmlType:"submit",loading:z,block:!0},m.a.createElement(E.Trans,{id:"Login now"})))," ",m.a.createElement(r.a,{lg:12},m.a.createElement(h.d,{block:!0,type:"ghost",htmlType:"button",onClick:function(){return a.push({pathname:"/".concat(w.d,"/register"),state:{prepopulatedEmail:i.email}})}},m.a.createElement(E.Trans,{id:"Sign up instead"})))))})))))}))}}]);
//# sourceMappingURL=49.343b5a98.chunk.js.map