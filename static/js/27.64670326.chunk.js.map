{"version":3,"sources":["store/actions/contentfulActions.js","../../src/index.ts","../node_modules/react-intersection-observer/node_modules/@babel/runtime/helpers/esm/extends.js","../node_modules/react-intersection-observer/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/react-intersection-observer/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/react-intersection-observer/dist/react-intersection-observer.esm.js","../node_modules/react-intersection-observer/node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../node_modules/react-intersection-observer/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../src/LazyImageFull.tsx","../../src/LazyImage.tsx","components/common/TutorCard.jsx","pages/Lifelong/index.jsx"],"names":["loadingContentful","type","types","fetchEcommerceProducts","category","dispatch","contentfulClient","getEntries","content_type","then","items","payload","map","item","fields","catch","err","console","error","fetchEcommerceSites","fetchShopCategories","select","fetchConsultants","fetchLifelongSliders","fetchAssessments","data","fetchAssessmentOptions","fetchAssessmentCategories","fetchAssessmentResults","points","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_assertThisInitialized","self","ReferenceError","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","INSTANCE_MAP","Map","OBSERVER_MAP","observe","element","callback","options","rootId","invariant","has","threshold","_options","root","rootMargin","observerId","toString","observerInstance","get","IntersectionObserver","onChange","set","instance","visible","observer","undefined","unobserve","itemsLeft","forEach","disconnect","delete","changes","intersection","isIntersecting","intersectionRatio","_inView","Array","isArray","some","InView","_React$Component","subClass","superClass","_this","_len","args","_key","concat","inView","node","observeNode","setState","props","create","constructor","__proto__","_proto","componentDidMount","process","componentDidUpdate","prevProps","prevState","state","triggerOnce","componentWillUnmount","_this$props","handleChange","render","_this$props2","children","tag","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","_this$state","renderMethod","ref","handleNode","createElement","Component","ImageState","LazyImageFullState","unionize","NotAsked","Buffering","Loading","LoadSuccess","LoadError","ofType","Action","ViewChanged","BufferingEnded","getLoadingCmd","imageProps","experimentalDecode","loadingPromise","makeCancelable","loadImage","promise","update","e","isCanceled","msg","promiseCache","loading","cancelBufferingCmd","buffering","cancel","_super","initialState","bind","tslib_1.__extends","LazyImageFull","action","match","_a","src","debounceDurationMs","nextState","cmd","durationMs","bufferingPromise","delayedPromise","default","debugActions","warn","log","loadEagerly","observerProps","imageState","React","Observer","srcSet","alt","sizes","Promise","resolve","reject","image","Image","srcset","decode","onload","onerror","ms","setTimeout","hasCanceled_","val","LazyImage","actual","placeholder","rest","displayName","StyledCard","styled","Card","boxShadow","media","mobile","StyledAvatar","TitleHeading","Heading","attrs","level","marginBottom","baseStyles","greyColor","BottomButton","div","TutorCard","pricePerHour","firstName","lastName","education","resource","experienceYears","avatar","renderAvatar","path","experience","locexp","style","lineHeight","Paragraph","ellipsis","rows","address","Text","description","height","justify","className","lg","placeholderImage","width","size","content","subheader","title","testimonial","countryMap","country","symbol","pricer","block","StyledCarousel","SectionHeading","Lifelong","useTutors","searchTutors","allTutors","useDispatch","push","useHistory","sliders","useSelector","contentful","lifelongSliders","photographyCoaches","filter","nonAcademic","pvid","includes","designCoaches","musicCoaches","handleClickCoach","coach","token","useEffect","variables","nonAcademicPvid","centered","maxWidth","slidesToShow","slidesToScroll","FeaturedCoaches","coaches","onClick","CategorizedSection","emoji","icon","label","heading","noPadding","gutter","xs","padding","person","id","FeaturedCard","bg"],"mappings":"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","file":"static/js/27.64670326.chunk.js","sourcesContent":["import { contentfulClient } from \"App\"\nimport * as types from \"store/constants\"\n\nconst loadingContentful = () => ({ type: types.LOADING_CONTENTFUL })\n\nexport const fetchEcommerceProducts = ({ category = \"\" } = {}) => (dispatch) => {\n\tdispatch(loadingContentful())\n\treturn contentfulClient\n\t\t.getEntries({ content_type: \"product\", \"fields.category\": category })\n\t\t.then(({ items }) => {\n\t\t\tdispatch({ type: types.FETCH_ECOMMERCE_PRODUCTS, payload: items.map((item) => item.fields) })\n\t\t})\n\t\t.catch((err) => {\n\t\t\tdispatch({ type: types.FETCH_ECOMMERCE_PRODUCTS_ERROR })\n\t\t\tconsole.error(err)\n\t\t})\n}\n\nexport const fetchEcommerceSites = () => (dispatch) => {\n\tdispatch(loadingContentful())\n\treturn contentfulClient\n\t\t.getEntries({ content_type: \"eCommerceSites\" })\n\t\t.then(({ items }) => dispatch({ type: types.FETCH_ECOMMERCE_SITES, payload: items.map((item) => item.fields) }))\n\t\t.catch((err) => {\n\t\t\tdispatch({ type: types.FETCH_ECOMMERCE_SITES_ERROR })\n\t\t\tconsole.error(err)\n\t\t})\n}\n\nexport const fetchShopCategories = () => (dispatch) => {\n\tdispatch(loadingContentful())\n\treturn contentfulClient\n\t\t.getEntries({ content_type: \"product\", select: \"fields.category\" })\n\t\t.then(({ items }) => dispatch({ type: types.FETCH_SHOP_CATEGORIES, payload: items.map((item) => item.fields) }))\n\t\t.catch((err) => {\n\t\t\tdispatch({ type: types.FETCH_SHOP_CATEGORIES_ERROR })\n\t\t\tconsole.error(err)\n\t\t})\n}\n\nexport const fetchConsultants = () => (dispatch) => {\n\tdispatch(loadingContentful())\n\treturn contentfulClient\n\t\t.getEntries({ content_type: \"consultants\" })\n\t\t.then(({ items }) => {\n\t\t\tdispatch({ type: types.FETCH_CONSULTANTS, payload: items.map((item) => item.fields) })\n\t\t})\n\t\t.catch((err) => {\n\t\t\tdispatch({ type: types.FETCH_CONSULTANTS_ERROR })\n\t\t\tconsole.error(err)\n\t\t})\n}\n\nexport const fetchLifelongSliders = () => (dispatch) => {\n\tdispatch(loadingContentful())\n\treturn contentfulClient\n\t\t.getEntries({ content_type: \"lifelongSlider\" })\n\t\t.then(({ items }) => {\n\t\t\tdispatch({ type: types.FETCH_LIFELONG_SLIDERS, payload: items.map((item) => item.fields) })\n\t\t})\n\t\t.catch((err) => {\n\t\t\tdispatch({ type: types.FETCH_LIFELONG_SLIDERS_ERROR })\n\t\t\tconsole.error(err)\n\t\t})\n}\n\nexport const fetchAssessments = (category) => (dispatch) => {\n\tdispatch(loadingContentful())\n\treturn contentfulClient\n\t\t.getEntries({ content_type: \"counsellingAssessment\" })\n\t\t.then(({ items }) => {\n\t\t\tconst data = items.map((item) => item.fields)\n\t\t\tdispatch({ type: types.FETCH_ASSESSMENTS, payload: { data, category } })\n\t\t})\n\t\t.catch((err) => {\n\t\t\tdispatch({ type: types.FETCH_ASSESSMENTS_ERROR })\n\t\t\tconsole.error(err)\n\t\t})\n}\n\nexport const fetchAssessmentOptions = (category) => (dispatch) => {\n\tdispatch(loadingContentful())\n\treturn contentfulClient\n\t\t.getEntries({ content_type: \"counsellingOptions\" })\n\t\t.then(({ items }) => {\n\t\t\tdispatch({ type: types.FETCH_ASSESSMENT_OPTIONS, payload: { data: items.map((item) => item.fields), category } })\n\t\t})\n\t\t.catch((err) => {\n\t\t\tdispatch({ type: types.FETCH_ASSESSMENT_OPTIONS_ERROR })\n\t\t\tconsole.error(err)\n\t\t})\n}\n\nexport const fetchAssessmentCategories = () => (dispatch) => {\n\tdispatch(loadingContentful())\n\treturn contentfulClient\n\t\t.getEntries({ content_type: \"counsellingCategories\" })\n\t\t.then(({ items }) => {\n\t\t\tdispatch({ type: types.FETCH_ASSESSMENT_CATEGORIES, payload: items.map((item) => item.fields) })\n\t\t})\n\t\t.catch((err) => {\n\t\t\tdispatch({ type: types.FETCH_ASSESSMENT_CATEGORIES_ERROR })\n\t\t\tconsole.error(err)\n\t\t})\n}\n\nexport const fetchAssessmentResults = (points) => (dispatch) => {\n\tdispatch(loadingContentful())\n\treturn contentfulClient\n\t\t.getEntries({ content_type: \"counsellingResults\" })\n\t\t.then(({ items }) => {\n\t\t\tdispatch({ type: types.FETCH_ASSESSMENT_RESULTS, payload: items.map((item) => item.fields), points })\n\t\t})\n\t\t.catch((err) => {\n\t\t\tdispatch({ type: types.FETCH_ASSESSMENT_RESULTS_ERROR })\n\t\t\tconsole.error(err)\n\t\t})\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction unionize(record, config) {\n    var _a = config || {}, _b = _a.value, valProp = _b === void 0 ? undefined : _b, _c = _a.tag, tagProp = _c === void 0 ? 'tag' : _c;\n    var creators = {};\n    var _loop_1 = function (tag) {\n        creators[tag] = (function (value) {\n            var _a, _b;\n            if (value === void 0) { value = {}; }\n            return valProp ? (_a = {}, _a[tagProp] = tag, _a[valProp] = value, _a) : __assign({}, value, (_b = {}, _b[tagProp] = tag, _b));\n        });\n    };\n    for (var tag in record) {\n        _loop_1(tag);\n    }\n    var is = {};\n    var _loop_2 = function (tag) {\n        is[tag] = (function (variant) { return variant[tagProp] === tag; });\n    };\n    for (var tag in record) {\n        _loop_2(tag);\n    }\n    function evalMatch(variant, cases, defaultCase) {\n        if (defaultCase === void 0) { defaultCase = cases.default; }\n        var handler = cases[variant[tagProp]];\n        return handler ? handler(valProp ? variant[valProp] : variant) : defaultCase(variant);\n    }\n    var match = function (first, second) {\n        return second ? evalMatch(first, second) : function (variant) { return evalMatch(variant, first); };\n    };\n    var identity = function (x) { return x; };\n    var transform = function (first, second) {\n        return second\n            ? evalMatch(first, second, identity)\n            : function (variant) { return evalMatch(variant, first, identity); };\n    };\n    var as = {};\n    var _loop_3 = function (expectedTag) {\n        var _a;\n        as[expectedTag] = match((_a = {},\n            _a[expectedTag] = function (x) { return x; },\n            _a.default = function (val) {\n                throw new Error(\"Attempted to cast \" + val[tagProp] + \" as \" + expectedTag);\n            },\n            _a));\n    };\n    for (var expectedTag in record) {\n        _loop_3(expectedTag);\n    }\n    return Object.assign({\n        is: is,\n        as: as,\n        match: match,\n        transform: transform,\n        _Record: record,\n    }, creators);\n}\nexports.unionize = unionize;\n/**\n * Creates a pseudo-witness of a given type. That is, it pretends to return a value of\n * type `T` for any `T`, but it's really just returning `undefined`. This white lie\n * allows convenient expression of the value types in the record you pass to `unionize`.\n */\nexports.ofType = function () { return undefined; };\nexports.default = unionize;\n//# sourceMappingURL=index.js.map","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { useState, useEffect, createElement, Component } from 'react';\nimport invariant from 'invariant';\n\nvar INSTANCE_MAP = new Map();\nvar OBSERVER_MAP = new Map();\n/**\n * Monitor element, and trigger callback when element becomes visible\n * @param element {HTMLElement}\n * @param callback {Function} Called with inView\n * @param options {Object} InterSection observer options\n * @param options.threshold {Number} Number between 0 and 1, indicating how much of the element should be visible before triggering\n * @param options.root {HTMLElement} It should have a unique id or data-intersection-id in order for the Observer to reused.\n * @param options.rootMargin {String} The CSS margin to apply to the root element.\n * @param rootId {String} Unique identifier for the root element, to enable reusing the IntersectionObserver\n */\n\nfunction observe(element, callback, options, rootId) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  // Validate that the element is not being used in another <Observer />\n  invariant(!INSTANCE_MAP.has(element), \"react-intersection-observer: Trying to observe %s, but it's already being observed by another instance.\\nMake sure the `ref` is only used by a single <Observer /> instance.\\n\\n%s\", element); // IntersectionObserver needs a threshold to trigger, so set it to 0 if it's not defined.\n  // Modify the options object, since it's used in the onChange handler.\n\n  if (!options.threshold) options.threshold = 0;\n  var _options = options,\n      root = _options.root,\n      rootMargin = _options.rootMargin,\n      threshold = _options.threshold;\n  if (!element || !callback) return;\n  var observerId = rootMargin ? threshold.toString() + \"_\" + rootMargin : threshold.toString();\n\n  if (root) {\n    observerId = rootId ? rootId + \"_\" + observerId : null;\n  }\n\n  var observerInstance = observerId ? OBSERVER_MAP.get(observerId) : null;\n\n  if (!observerInstance) {\n    observerInstance = new IntersectionObserver(onChange, options);\n    if (observerId) OBSERVER_MAP.set(observerId, observerInstance);\n  }\n\n  var instance = {\n    callback: callback,\n    visible: false,\n    options: options,\n    observerId: observerId,\n    observer: !observerId ? observerInstance : undefined\n  };\n  INSTANCE_MAP.set(element, instance);\n  observerInstance.observe(element);\n  return instance;\n}\n/**\n * Stop observing an element. If an element is removed from the DOM or otherwise destroyed,\n * make sure to call this method.\n * @param element {HTMLElement}\n */\n\nfunction unobserve(element) {\n  if (!element) return;\n  var instance = INSTANCE_MAP.get(element);\n\n  if (instance) {\n    var observerId = instance.observerId,\n        observer = instance.observer;\n    var observerInstance = observerId ? OBSERVER_MAP.get(observerId) : observer;\n\n    if (observerInstance) {\n      observerInstance.unobserve(element);\n    } // Check if we are still observing any elements with the same threshold.\n\n\n    var itemsLeft = false;\n\n    if (observerId) {\n      INSTANCE_MAP.forEach(function (item, key) {\n        if (item && item.observerId === observerId && key !== element) {\n          itemsLeft = true;\n        }\n      });\n    }\n\n    if (observerInstance && !itemsLeft) {\n      // No more elements to observe for threshold, disconnect observer\n      observerInstance.disconnect();\n      OBSERVER_MAP.delete(observerId);\n    } // Remove reference to element\n\n\n    INSTANCE_MAP.delete(element);\n  }\n}\n\nfunction onChange(changes) {\n  changes.forEach(function (intersection) {\n    var isIntersecting = intersection.isIntersecting,\n        intersectionRatio = intersection.intersectionRatio,\n        target = intersection.target;\n    var instance = INSTANCE_MAP.get(target); // Firefox can report a negative intersectionRatio when scrolling.\n\n    if (instance && intersectionRatio >= 0) {\n      var options = instance.options;\n      var _inView = false;\n\n      if (Array.isArray(options.threshold)) {\n        // If threshold is an array, check if any of them intersects. This just triggers the onChange event multiple times.\n        _inView = options.threshold.some(function (threshold) {\n          return instance.visible ? intersectionRatio > threshold : intersectionRatio >= threshold;\n        });\n      } else if (options.threshold !== undefined) {\n        // Trigger on 0 ratio only when not visible. This is fallback for browsers without isIntersecting support\n        _inView = instance.visible ? intersectionRatio > options.threshold : intersectionRatio >= options.threshold;\n      }\n\n      if (isIntersecting !== undefined) {\n        // If isIntersecting is defined, ensure that the element is actually intersecting.\n        // Otherwise it reports a threshold of 0\n        _inView = _inView && isIntersecting;\n      }\n\n      instance.visible = _inView;\n      instance.callback(_inView, intersectionRatio);\n    }\n  });\n}\n\nfunction useInView(ref, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  // $FlowFixMe - useState is not exposed in React Flow lib yet\n  var _React$useState = useState(false),\n      isInView = _React$useState[0],\n      setInView = _React$useState[1]; // $FlowFixMe - useEffect is not exposed in React Flow lib yet\n\n\n  useEffect(function () {\n    if (ref.current) {\n      observe(ref.current, function (inView) {\n        setInView(inView);\n\n        if (inView && options.triggerOnce) {\n          // If it should only trigger once, unobserve the element after it's inView\n          unobserve(ref.current);\n        }\n      }, {\n        threshold: options.threshold,\n        root: options.root,\n        rootMargin: options.rootMargin\n      }, options.rootId);\n    }\n\n    return function () {\n      unobserve(ref.current);\n    };\n  }, [options.threshold, options.root, options.rootMargin, options.rootId]);\n  return isInView;\n}\n\n/**\n * Monitors scroll, and triggers the children function with updated props\n *\n <InView>\n {({inView, ref}) => (\n   <h1 ref={ref}>{`${inView}`}</h1>\n )}\n </InView>\n */\nvar InView =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(InView, _React$Component);\n\n  function InView() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {\n      inView: false,\n      intersectionRatio: 0\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"node\", null);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleNode\", function (node) {\n      if (_this.node) unobserve(_this.node);\n      _this.node = node;\n\n      _this.observeNode();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleChange\", function (inView, intersectionRatio) {\n      _this.setState({\n        inView: inView,\n        intersectionRatio: intersectionRatio\n      });\n\n      if (_this.props.onChange) {\n        _this.props.onChange(inView, intersectionRatio);\n      }\n    });\n\n    return _this;\n  }\n\n  var _proto = InView.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (process.env.NODE_ENV !== 'production') {\n      if (this.props.hasOwnProperty('render')) {\n        console.warn(\"react-intersection-observer: \\\"render\\\" is deprecated, and should be replaced with \\\"children\\\"\", this.node);\n      }\n\n      invariant(this.node, \"react-intersection-observer: No DOM node found. Make sure you forward \\\"ref\\\" to the root DOM element you want to observe.\");\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    // If a IntersectionObserver option changed, reinit the observer\n    if (prevProps.rootMargin !== this.props.rootMargin || prevProps.root !== this.props.root || prevProps.threshold !== this.props.threshold) {\n      unobserve(this.node);\n      this.observeNode();\n    }\n\n    if (prevState.inView !== this.state.inView) {\n      if (this.state.inView && this.props.triggerOnce) {\n        unobserve(this.node);\n        this.node = null;\n      }\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.node) {\n      unobserve(this.node);\n      this.node = null;\n    }\n  };\n\n  _proto.observeNode = function observeNode() {\n    if (!this.node) return;\n    var _this$props = this.props,\n        threshold = _this$props.threshold,\n        root = _this$props.root,\n        rootMargin = _this$props.rootMargin,\n        rootId = _this$props.rootId;\n    observe(this.node, this.handleChange, {\n      threshold: threshold,\n      root: root,\n      rootMargin: rootMargin\n    }, rootId);\n  };\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        children = _this$props2.children,\n        render = _this$props2.render,\n        tag = _this$props2.tag,\n        triggerOnce = _this$props2.triggerOnce,\n        threshold = _this$props2.threshold,\n        root = _this$props2.root,\n        rootId = _this$props2.rootId,\n        rootMargin = _this$props2.rootMargin,\n        props = _objectWithoutPropertiesLoose(_this$props2, [\"children\", \"render\", \"tag\", \"triggerOnce\", \"threshold\", \"root\", \"rootId\", \"rootMargin\"]);\n\n    var _this$state = this.state,\n        inView = _this$state.inView,\n        intersectionRatio = _this$state.intersectionRatio;\n    var renderMethod = children || render;\n\n    if (typeof renderMethod === 'function') {\n      return renderMethod({\n        inView: inView,\n        intersectionRatio: intersectionRatio,\n        ref: this.handleNode\n      });\n    }\n\n    return createElement(tag || 'div', _extends({\n      ref: this.handleNode\n    }, props), children);\n  };\n\n  return InView;\n}(Component);\n\n_defineProperty(InView, \"defaultProps\", {\n  threshold: 0,\n  triggerOnce: false\n});\n\nexport default InView;\nexport { InView, useInView };\n","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React from \"react\";\nimport Observer from \"react-intersection-observer\";\nimport { unionize, ofType, UnionOf } from \"unionize\";\n\n/**\n * Valid props for LazyImage components\n */\nexport type CommonLazyImageProps = ImageProps & {\n  // NOTE: if you add props here, remember to destructure them out of being\n  // passed to the children, in the render() callback.\n\n  /** Whether to skip checking for viewport and always show the 'actual' component\n   * @see https://github.com/fpapado/react-lazy-images/#eager-loading--server-side-rendering-ssr\n   */\n  loadEagerly?: boolean;\n\n  /** Subset of props for the IntersectionObserver\n   * @see https://github.com/thebuilder/react-intersection-observer#props\n   */\n  observerProps?: ObserverProps;\n\n  /** Use the Image Decode API;\n   * The call to a new HTML <img> elementâ€™s decode() function returns a promise, which,\n   * when fulfilled, ensures that the image can be appended to the DOM without causing\n   * a decoding delay on the next frame.\n   *  @see: https://www.chromestatus.com/feature/5637156160667648\n   */\n  experimentalDecode?: boolean;\n\n  /** Whether to log out internal state transitions for the component */\n  debugActions?: boolean;\n\n  /** Delay a certain duration before starting to load, in ms.\n   * This can help avoid loading images while the user scrolls quickly past them.\n   * TODO: naming things.\n   */\n  debounceDurationMs?: number;\n};\n\n/** Valid props for LazyImageFull */\nexport interface LazyImageFullProps extends CommonLazyImageProps {\n  /** Children should be either a function or a node */\n  children: (args: RenderCallbackArgs) => React.ReactNode;\n}\n\n/** Values that the render props take */\nexport interface RenderCallbackArgs {\n  imageState: ImageState;\n  imageProps: ImageProps;\n  /** When not loading eagerly, a ref to bind to the DOM element. This is needed for the intersection calculation to work. */\n  ref?: React.RefObject<any>;\n}\n\nexport interface ImageProps {\n  /** The source of the image to load */\n  src: string;\n\n  /** The source set of the image to load */\n  srcSet?: string;\n\n  /** The alt text description of the image you are loading */\n  alt?: string;\n\n  /** Sizes descriptor */\n  sizes?: string;\n}\n\n/** Subset of react-intersection-observer's props */\nexport interface ObserverProps {\n  /**\n   * Margin around the root that expands the area for intersection.\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver/rootMargin\n   * @default \"50px 0px\"\n   * @example Declaration same as CSS margin:\n   *  `\"10px 20px 30px 40px\"` (top, right, bottom, left).\n   */\n  rootMargin?: string;\n\n  /** Number between 0 and 1 indicating the the percentage that should be\n   * visible before triggering.\n   * @default `0.01`\n   */\n  threshold?: number;\n}\n\n/** States that the image loading can be in.\n * Used together with LazyImageFull render props.\n * External representation of the internal state.\n * */\nexport enum ImageState {\n  NotAsked = \"NotAsked\",\n  Loading = \"Loading\",\n  LoadSuccess = \"LoadSuccess\",\n  LoadError = \"LoadError\"\n}\n\n/** The component's state */\nconst LazyImageFullState = unionize({\n  NotAsked: {},\n  Buffering: {},\n  // Could try to make it Promise<HTMLImageElement>,\n  // but we don't use the element anyway, and we cache promises\n  Loading: {},\n  LoadSuccess: {},\n  LoadError: ofType<{ msg: string }>()\n});\n\ntype LazyImageFullState = UnionOf<typeof LazyImageFullState>;\n\n/** Actions that change the component's state.\n * These are not unlike Actions in Redux or, the ones I'm inspired by,\n * Msg in Elm.\n */\nconst Action = unionize({\n  ViewChanged: ofType<{ inView: boolean }>(),\n  BufferingEnded: {},\n  // MAYBE: Load: {},\n  LoadSuccess: {},\n  LoadError: ofType<{ msg: string }>()\n});\n\ntype Action = UnionOf<typeof Action>;\n\n/** Commands (Cmd) describe side-effects as functions that take the instance */\n// FUTURE: These should be tied to giving back a Msg / asynchronoulsy giving a Msg with conditions\ntype Cmd = (instance: LazyImageFull) => void;\n\n/** The output from a reducer is the next state and maybe a command */\ntype ReducerResult = {\n  nextState: LazyImageFullState;\n  cmd?: Cmd;\n};\n\n///// Commands, things that perform side-effects /////\n/** Get a command that sets a buffering Promise */\nconst getBufferingCmd = (durationMs: number): Cmd => instance => {\n  // Make cancelable buffering Promise\n  const bufferingPromise = makeCancelable(delayedPromise(durationMs));\n\n  // Kick off promise chain\n  bufferingPromise.promise\n    .then(() => instance.update(Action.BufferingEnded()))\n    .catch(\n      _reason => {}\n      //console.log({ isCanceled: _reason.isCanceled })\n    );\n\n  // Side-effect; set the promise in the cache\n  instance.promiseCache.buffering = bufferingPromise;\n};\n\n/** Get a command that sets an image loading Promise */\nconst getLoadingCmd = (\n  imageProps: ImageProps,\n  experimentalDecode?: boolean\n): Cmd => instance => {\n  // Make cancelable loading Promise\n  const loadingPromise = makeCancelable(\n    loadImage(imageProps, experimentalDecode)\n  );\n\n  // Kick off request for Image and attach listeners for response\n  loadingPromise.promise\n    .then(_res => instance.update(Action.LoadSuccess({})))\n    .catch(e => {\n      // If the Loading Promise was canceled, it means we have stopped\n      // loading due to unmount, rather than an error.\n      if (!e.isCanceled) {\n        // TODO: think more about the error here\n        instance.update(Action.LoadError({ msg: \"Failed to load\" }));\n      }\n    });\n\n  // Side-effect; set the promise in the cache\n  instance.promiseCache.loading = loadingPromise;\n};\n\n/** Command that cancels the buffering Promise */\nconst cancelBufferingCmd: Cmd = instance => {\n  // Side-effect; cancel the promise in the cache\n  // We know this exists if we are in a Buffering state\n  instance.promiseCache.buffering.cancel();\n};\n\n/**\n * Component that preloads the image once it is in the viewport,\n * and then swaps it in. Takes a render prop that allows to specify\n * what is rendered based on the loading state.\n */\nexport class LazyImageFull extends React.Component<\n  LazyImageFullProps,\n  LazyImageFullState\n> {\n  static displayName = \"LazyImageFull\";\n\n  /** A central place to store promises.\n   * A bit silly, but passing promsises directly in the state\n   * was giving me weird timing issues. This way we can keep\n   * the promises in check, and pick them up from the respective methods.\n   * FUTURE: Could pass the relevant key in Buffering and Loading, so\n   * that at least we know where they are from a single source.\n   */\n  promiseCache: {\n    [key: string]: CancelablePromise;\n  } = {};\n\n  initialState = LazyImageFullState.NotAsked();\n\n  /** Emit the next state based on actions.\n   *  This is the core of the component!\n   */\n  static reducer(\n    action: Action,\n    prevState: LazyImageFullState,\n    props: LazyImageFullProps\n  ): ReducerResult {\n    return Action.match(action, {\n      ViewChanged: ({ inView }) => {\n        if (inView === true) {\n          // If src is not specified, then there is nothing to preload; skip to Loaded state\n          if (!props.src) {\n            return { nextState: LazyImageFullState.LoadSuccess() }; // Error wtf\n          } else {\n            // If in view, only load something if NotAsked, otherwise leave untouched\n            return LazyImageFullState.match(prevState, {\n              NotAsked: () => {\n                // If debounce is specified, then start buffering\n                if (!!props.debounceDurationMs) {\n                  return {\n                    nextState: LazyImageFullState.Buffering(),\n                    cmd: getBufferingCmd(props.debounceDurationMs)\n                  };\n                } else {\n                  // If no debounce is specified, then start loading immediately\n                  return {\n                    nextState: LazyImageFullState.Loading(),\n                    cmd: getLoadingCmd(props, props.experimentalDecode)\n                  };\n                }\n              },\n              // Do nothing in other states\n              default: () => ({ nextState: prevState })\n            });\n          }\n        } else {\n          // If out of view, cancel if Buffering, otherwise leave untouched\n          return LazyImageFullState.match(prevState, {\n            Buffering: () => ({\n              nextState: LazyImageFullState.NotAsked(),\n              cmd: cancelBufferingCmd\n            }),\n            // Do nothing in other states\n            default: () => ({ nextState: prevState })\n          });\n        }\n      },\n      // Buffering has ended/succeeded, kick off request for image\n      BufferingEnded: () => ({\n        nextState: LazyImageFullState.Loading(),\n        cmd: getLoadingCmd(props, props.experimentalDecode)\n      }),\n      // Loading the image succeeded, simple\n      LoadSuccess: () => ({ nextState: LazyImageFullState.LoadSuccess() }),\n      // Loading the image failed, simple\n      LoadError: e => ({ nextState: LazyImageFullState.LoadError(e) })\n    });\n  }\n\n  constructor(props: LazyImageFullProps) {\n    super(props);\n    this.state = this.initialState;\n\n    // Bind methods\n    this.update = this.update.bind(this);\n  }\n\n  update(action: Action) {\n    // Get the next state and any effects\n    const { nextState, cmd } = LazyImageFull.reducer(\n      action,\n      this.state,\n      this.props\n    );\n\n    // Debugging\n    if (this.props.debugActions) {\n      if (process.env.NODE_ENV === \"production\") {\n        console.warn(\n          'You are running LazyImage with debugActions=\"true\" in production. This might have performance implications.'\n        );\n      }\n      console.log({ action, prevState: this.state, nextState });\n    }\n\n    // Actually set the state, and kick off any effects after that\n    this.setState(nextState, () => cmd && cmd(this));\n  }\n\n  componentWillUnmount() {\n    // Clear the Promise Cache\n    if (this.promiseCache.loading) {\n      // NOTE: This does not cancel the request, only the callback.\n      // We weould need fetch() and an AbortHandler for that.\n      this.promiseCache.loading.cancel();\n    }\n    if (this.promiseCache.buffering) {\n      this.promiseCache.buffering.cancel();\n    }\n    this.promiseCache = {};\n  }\n\n  // Render function\n  render() {\n    // This destructuring is silly\n    const {\n      children,\n      loadEagerly,\n      observerProps,\n      experimentalDecode,\n      debounceDurationMs,\n      debugActions,\n      ...imageProps\n    } = this.props;\n\n    if (loadEagerly) {\n      // If eager, skip the observer and view changing stuff; resolve the imageState as loaded.\n      return children({\n        // We know that the state tags and the enum match up\n        imageState: LazyImageFullState.LoadSuccess().tag as ImageState,\n        imageProps\n      });\n    } else {\n      return (\n        <Observer\n          rootMargin=\"50px 0px\"\n          // TODO: reconsider threshold\n          threshold={0.01}\n          {...observerProps}\n          onChange={inView => this.update(Action.ViewChanged({ inView }))}\n        >\n          {({ ref }) =>\n            children({\n              // We know that the state tags and the enum match up, apart\n              // from Buffering not being exposed\n              imageState:\n                this.state.tag === \"Buffering\"\n                  ? ImageState.Loading\n                  : (this.state.tag as ImageState),\n              imageProps,\n              ref\n            })\n          }\n        </Observer>\n      );\n    }\n  }\n}\n\n///// Utilities /////\n\n/** Promise constructor for loading an image */\nconst loadImage = (\n  { src, srcSet, alt, sizes }: ImageProps,\n  experimentalDecode = false\n) =>\n  new Promise((resolve, reject) => {\n    const image = new Image();\n    if (srcSet) {\n      image.srcset = srcSet;\n    }\n    if (alt) {\n      image.alt = alt;\n    }\n    if (sizes) {\n      image.sizes = sizes;\n    }\n    image.src = src;\n\n    /** @see: https://www.chromestatus.com/feature/5637156160667648 */\n    if (experimentalDecode && \"decode\" in image) {\n      return (\n        image\n          // NOTE: .decode() is not in the TS defs yet\n          // TODO: consider writing the .decode() definition and sending a PR\n          //@ts-ignore\n          .decode()\n          .then((image: HTMLImageElement) => resolve(image))\n          .catch((err: any) => reject(err))\n      );\n    }\n\n    image.onload = resolve;\n    image.onerror = reject;\n  });\n\n/** Promise that resolves after a specified number of ms */\nconst delayedPromise = (ms: number) =>\n  new Promise(resolve => setTimeout(resolve, ms));\n\ninterface CancelablePromise {\n  promise: Promise<{}>;\n  cancel: () => void;\n}\n\n/** Make a Promise \"cancelable\".\n *\n * Rejects with {isCanceled: true} if canceled.\n *\n * The way this works is by wrapping it with internal hasCanceled_ state\n * and checking it before resolving.\n */\nconst makeCancelable = (promise: Promise<any>): CancelablePromise => {\n  let hasCanceled_ = false;\n\n  const wrappedPromise = new Promise((resolve, reject) => {\n    promise.then(\n      (val: any) => (hasCanceled_ ? reject({ isCanceled: true }) : resolve(val))\n    );\n    promise.catch(\n      (error: any) =>\n        hasCanceled_ ? reject({ isCanceled: true }) : reject(error)\n    );\n  });\n\n  return {\n    promise: wrappedPromise,\n    cancel() {\n      hasCanceled_ = true;\n    }\n  };\n};\n","import React from \"react\";\nimport {\n  LazyImageFull,\n  CommonLazyImageProps,\n  ImageState,\n  ImageProps\n} from \"./LazyImageFull\";\n\n/**\n * Valid props for LazyImage\n */\nexport interface LazyImageRenderPropArgs {\n  imageProps: ImageProps;\n}\n\nexport interface RefArg {\n  /** When not loading eagerly, a ref to bind to the DOM element. This is needed for the intersection calculation to work. */\n  ref?: React.RefObject<any>;\n}\n\nexport interface LazyImageProps extends CommonLazyImageProps {\n  /** Component to display once image has loaded */\n  actual: (args: LazyImageRenderPropArgs) => React.ReactElement<{}>;\n\n  /** Component to display while image has not been requested\n   * @default: undefined\n   */\n  placeholder: (\n    args: LazyImageRenderPropArgs & RefArg\n  ) => React.ReactElement<{}>;\n\n  /** Component to display while the image is loading\n   * @default placeholder, if defined\n   */\n  loading?: () => React.ReactElement<{}>;\n\n  /** Component to display if the image fails to load\n   * @default actual (broken image)\n   */\n  error?: () => React.ReactElement<{}>;\n}\n\n/**\n * Component that preloads the image once it is in the viewport,\n * and then swaps it in. Has predefined rendering logic, but the\n * specifics are up to the caller.\n */\nexport const LazyImage: React.StatelessComponent<LazyImageProps> = ({\n  actual,\n  placeholder,\n  loading,\n  error,\n  ...rest\n}) => (\n  <LazyImageFull {...rest}>\n    {({ imageState, imageProps, ref }) => {\n      // Call the appropriate render callback based on the state\n      // and the props specified, passing on relevant props.\n      switch (imageState) {\n        case ImageState.NotAsked:\n          return !!placeholder && placeholder({ imageProps, ref });\n\n        case ImageState.Loading:\n          // Only render loading if specified, otherwise placeholder\n          return !!loading\n            ? loading()\n            : !!placeholder && placeholder({ imageProps, ref });\n\n        case ImageState.LoadSuccess:\n          return actual({ imageProps });\n\n        case ImageState.LoadError:\n          // Only render error if specified, otherwise actual (broken image)\n          return !!error ? error() : actual({ imageProps });\n      }\n    }}\n  </LazyImageFull>\n);\n\nLazyImage.displayName = \"LazyImage\";\n","import React from \"react\"\nimport { Card, Heading, Button, Avatar } from \"components\"\nimport { Row, Col, Tooltip, Typography } from \"antd\"\nimport styled from \"styled-components\"\nimport { baseStyles } from \"styles/base\"\nimport { media, pricer, placeholderImage, renderAvatar } from \"helpers\"\nimport { Trans } from \"@lingui/macro\"\nimport DynamicIcon from \"./DynamicIcon\"\nimport { countryMap } from \"helpers/countryMapping\"\nimport { country } from \"App\"\nimport { LazyImage } from \"react-lazy-images\"\n\nconst StyledCard = styled(Card)`\n\t&& {\n\t\tposition: relative;\n\t\tborder-radius: 12px;\n\t\tcursor: pointer;\n\t\tbox-shadow: ${({ boxShadow }) => boxShadow || \"0 12px 20px 0 rgba(0, 0, 0, 0.1), 0 17px 10px 0 rgba(0, 0, 0, 0.1)\"};\n\t\t${media.mobile`\n            margin-bottom: 2em;\n        `}\n\t}\n`\n\nconst StyledAvatar = styled(LazyImage)`\n\theight: 110px;\n\tobject-fit: cover;\n\tmargin-bottom: 1em;\n\tborder-radius: 50%;\n\t${media.mobile`\n\t\theight: 130px;\n\t`}\n`\n\nconst TitleHeading = styled(Heading).attrs(() => ({\n\tlevel: 4,\n\tmarginBottom: \"0.5em\"\n}))`\n\tline-height: 1;\n\t> .ant-typography:not(h4) {\n\t\tfont-size: 0.85em;\n\t\tcolor: ${baseStyles.greyColor};\n\t}\n\t&& {\n\t\th4 {\n\t\t\tfont-size: 1.1em;\n\t\t\tmargin-bottom: 0.7em;\n\t\t}\n\t}\n`\n\n// const DescriptionHeading = styled(Heading).attrs(() => ({\n// \tlevel: 4\n// }))`\n// \t> .ant-typography:not(h4) {\n// \t\tfont-size: 0.85em;\n// \t}\n// \th4 {\n// \t\tfont-size: 0.9em;\n// \t}\n// `\n\nconst BottomButton = styled.div`\n\tposition: absolute;\n\tbottom: 20px;\n\tleft: 50%;\n\ttransform: translate(-50%);\n\twidth: 80%;\n`\n\nexport default function TutorCard({ pricePerHour = \"\", firstName = \"\", lastName = \"\", ...props }) {\n\tconst { education = [], resource = {}, experienceYears = \"\" } = props\n\tconst avatar = renderAvatar(resource.path)\n\n\tconst experience =\n\t\texperienceYears === \"0\" || !experienceYears ? <Trans>No experience yet</Trans> : <Trans>{experienceYears} y exp</Trans>\n\n\tconst locexp = (\n\t\t<Typography style={{ lineHeight: 1.4 }}>\n\t\t\t<Typography.Paragraph ellipsis={{ rows: 3 }}>{props.address || <Trans>No location specified</Trans>}</Typography.Paragraph>{\" \"}\n\t\t\t<Typography.Text type=\"secondary\">{experience}</Typography.Text>\n\t\t</Typography>\n\t)\n\n\t// const mostExpensive = pricePerHour.reduce(\n\t//     (acc, curr) => (curr.price > (acc.price || 0) ? curr.price : acc.price),\n\t//     {}\n\t// )\n\t// const cheapest = pricePerHour.reduceRight(\n\t//     (acc, curr) => (curr.price > (acc.price || 0) ? curr.price : acc.price),\n\t//     {}\n\t// )\n\t// const pph =\n\t//     pricePerHour.length > 1\n\t//         ? `$${cheapest} - $${mostExpensive}`\n\t//         : pricePerHour.map(item => `$${item.price}`)\n\n\treturn (\n\t\t<StyledCard {...props} description={null} height=\"100%\">\n\t\t\t<Row type=\"flex\" justify=\"center\" className=\"ta-center mb0\">\n\t\t\t\t<Col lg={24}>\n\t\t\t\t\t{/* <Avatar src={avatar} size={75} style={{ marginBottom: \".5em\" }} /> */}\n\t\t\t\t\t<StyledAvatar\n\t\t\t\t\t\tsrc={avatar}\n\t\t\t\t\t\talt={firstName + \" \" + lastName}\n\t\t\t\t\t\tplaceholder={({ imageProps, ref }) => <img ref={ref} src={placeholderImage} alt={imageProps.alt} width=\"100%\" />}\n\t\t\t\t\t\tactual={({ imageProps }) => <Avatar {...imageProps} size={75} style={{ marginBottom: \".5em\" }} />}\n\t\t\t\t\t/>\n\t\t\t\t\t<TitleHeading\n\t\t\t\t\t\tcontent={\n\t\t\t\t\t\t\t<Typography.Paragraph ellipsis={{ rows: 2 }} className=\"mb0\">\n\t\t\t\t\t\t\t\t{firstName + \" \" + lastName}\n\t\t\t\t\t\t\t</Typography.Paragraph>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsubheader={locexp}\n\t\t\t\t\t/>\n\t\t\t\t\t{/* <Rate value={<Trans>{rating || \"no ratings received yet\"}</Trans>} style={{ fontSize: \".9em\" }} allowHalf disabled /> */}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row type=\"flex\" justify=\"center\">\n\t\t\t\t{/* <Col lg={24} className=\"ta-center\">\n\t\t\t\t\t<DescriptionHeading subheader={((education && education[0]) || {}).name || \"\"} />\n\t\t\t\t</Col> */}\n\t\t\t\t<Col lg={12} className=\"ta-center\">\n\t\t\t\t\t<Tooltip title={<Trans>Amount of testimonials received</Trans>}>\n\t\t\t\t\t\t<DynamicIcon type=\"icon-chat\" /> <br />\n\t\t\t\t\t\t<span className=\"grey fs-09em\">{props.testimonial || 0}</span>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Col>\n\t\t\t\t<Col lg={12} className=\"ta-center\">\n\t\t\t\t\t<Tooltip title={<Trans>Price for a lesson per hour</Trans>}>\n\t\t\t\t\t\t<DynamicIcon type=\"icon-price_tag_usd\" /> <br />\n\t\t\t\t\t\t<span className=\"grey fs-09em\" style={{ lineHeight: 1.1 }}>\n\t\t\t\t\t\t\t{countryMap[country].symbol} {pricer(pricePerHour) || \"0\"}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<BottomButton>\n\t\t\t\t<Button block type=\"primary\" size=\"medium\">\n\t\t\t\t\t<Trans>See profile</Trans>\n\t\t\t\t</Button>\n\t\t\t</BottomButton>\n\t\t</StyledCard>\n\t)\n}\n","import React from \"react\"\nimport { Layout, Section, Card, Heading } from \"components\"\nimport { Row, Col, Typography, Carousel, Divider } from \"antd\"\nimport TutorCard from \"components/common/TutorCard\"\nimport { HorizontalRow } from \"components\"\nimport DynamicIcon from \"components/common/DynamicIcon\"\nimport styled from \"styled-components/macro\"\nimport { mobile, media } from \"helpers\"\nimport { useTutors } from \"helpers/hooks/data\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { useEffect } from \"react\"\nimport { fetchLifelongSliders } from \"store/actions/contentfulActions\"\nimport { Emoji } from \"components\"\nimport { Empty } from \"components\"\nimport { Button } from \"components\"\nimport { useHistory } from \"react-router\"\nimport { country } from \"App\"\n\nconst StyledCarousel = styled(Carousel)`\n\t.slick-track {\n\t\tmax-height: 300px;\n\t\toverflow-y: hidden;\n\t\timg {\n\t\t\theight: 100%;\n\t\t\tobject-fit: contain;\n\t\t}\n\t}\n`\n\nconst SectionHeading = styled(Heading).attrs({\n\tlevel: 4,\n\tmarginBottom: \"0\"\n})``\n\nexport default function Lifelong() {\n\tconst [searchTutors, { data: allTutors }] = useTutors()\n\tconst dispatch = useDispatch()\n\tconst { push } = useHistory()\n\tconst sliders = useSelector(({ contentful }) => contentful.lifelongSliders)\n\n\tconst photographyCoaches = allTutors.filter((item) => {\n\t\tconst ids = item.nonAcademic.map((item) => item.pvid)\n\t\treturn ids.includes(22)\n\t})\n\n\tconst designCoaches = allTutors.filter((item) => {\n\t\tconst ids = item.nonAcademic.map((item) => item.pvid)\n\t\treturn ids.includes(20)\n\t})\n\n\tconst musicCoaches = allTutors.filter((item) => {\n\t\tconst ids = item.nonAcademic.map((item) => item.pvid)\n\t\treturn ids.includes(24)\n\t})\n\n\tconst handleClickCoach = (coach) => {\n\t\tpush(`/${country}/${coach.token}--${coach.pvid}--${coach.firstName}--${coach.lastName}`)\n\t}\n\n\tuseEffect(() => {\n\t\tdispatch(fetchLifelongSliders())\n\t\tsearchTutors({ variables: { nonAcademicPvid: \"all\" } })\n\t}, [dispatch, searchTutors])\n\n\treturn (\n\t\t<Layout>\n\t\t\t<Section centered maxWidth=\"1200px\">\n\t\t\t\t<Heading\n\t\t\t\t\tcontent={\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tCudy <span className=\"primary\">Lifelong</span>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t}\n\t\t\t\t\tsubheader=\"Find experienced coaches to teach you everything\"\n\t\t\t\t\tmarginBottom=\"3em\"\n\t\t\t\t/>\n\n\t\t\t\t<StyledCarousel slidesToShow={1} slidesToScroll={1} className=\"mb4em\">\n\t\t\t\t\t{sliders.map((item) => (\n\t\t\t\t\t\t<img key={item.image} src={item.image} width=\"100%\" />\n\t\t\t\t\t))}\n\t\t\t\t</StyledCarousel>\n\n\t\t\t\t<FeaturedCoaches coaches={allTutors} onClick={handleClickCoach} />\n\n\t\t\t\t<CategorizedSection\n\t\t\t\t\tcoaches={musicCoaches}\n\t\t\t\t\temoji={<Emoji icon=\"ðŸŽ¸\" label=\"music\" />}\n\t\t\t\t\theading={{ title: \"music\", description: \"They teach best at musics\" }}\n\t\t\t\t\tonClick={handleClickCoach}\n\t\t\t\t/>\n\n\t\t\t\t<CategorizedSection\n\t\t\t\t\tcoaches={designCoaches}\n\t\t\t\t\temoji={<Emoji icon=\"ðŸŽ¨\" label=\"art\" />}\n\t\t\t\t\theading={{ title: \"design\", description: \"They teach best at design and art\" }}\n\t\t\t\t\tonClick={handleClickCoach}\n\t\t\t\t/>\n\n\t\t\t\t<CategorizedSection\n\t\t\t\t\tcoaches={photographyCoaches}\n\t\t\t\t\temoji={<Emoji icon=\"ðŸ“¸\" label=\"camera\" />}\n\t\t\t\t\theading={{ title: \"photography\", description: \"They teach best at producing phenomenal images\" }}\n\t\t\t\t\tonClick={handleClickCoach}\n\t\t\t\t/>\n\n\t\t\t\t<Divider />\n\n\t\t\t\t<Row type=\"flex\" justify=\"center\" className=\"mb4em\">\n\t\t\t\t\t<Col lg={12}>\n\t\t\t\t\t\t<Button block type=\"dashed\" onClick={() => push(`/${country}/lifelong/browse`)}>\n\t\t\t\t\t\t\t<DynamicIcon type=\"icon-male\" />\n\t\t\t\t\t\t\t&nbsp; Find other categories our coaches teaching\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Section>\n\t\t</Layout>\n\t)\n}\n\n/**\n * ðŸ£ðŸ£ðŸ£ðŸ£ðŸ£ðŸ£ // =======================================================================================================\n * @name CATEGORIZED_SECTION\n * @memberof LIFELONG\n */\n\nfunction CategorizedSection({ coaches = [], heading = {}, emoji, onClick }) {\n\tconst { title, description } = heading\n\n\treturn (\n\t\t<Section noPadding>\n\t\t\t<SectionHeading\n\t\t\t\tcontent={\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\tBest in <span className=\"primary\">{title}</span>&nbsp; {emoji}\n\t\t\t\t\t</Typography>\n\t\t\t\t}\n\t\t\t\tsubheader={description}\n\t\t\t/>\n\t\t\t<Row gutter={32} type=\"flex\" className=\"mb2em\">\n\t\t\t\t<Col lg={24} xs={24}>\n\t\t\t\t\t{coaches.length === 0 ? (\n\t\t\t\t\t\t<Empty description={`No ${title} coaches found`} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<HorizontalRow height=\"100%\" padding=\"2em 0\">\n\t\t\t\t\t\t\t{coaches.map((person) => (\n\t\t\t\t\t\t\t\t<Col lg={5} xs={16} key={person.id}>\n\t\t\t\t\t\t\t\t\t<TutorCard {...person} onClick={() => onClick(person)} boxShadow=\"none\" />\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</HorizontalRow>\n\t\t\t\t\t)}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Section>\n\t)\n}\n\n/**\n * ðŸ£ðŸ£ðŸ£ðŸ£ðŸ£ðŸ£ // =======================================================================================================\n * @name FEATURED_CARD\n * @memberof LIFELONG\n */\n\nconst FeaturedCard = styled(Card).attrs({\n\theight: \"auto\",\n\tbg: \"aliceblue\"\n})`\n\t&& {\n\t\tmargin-bottom: 0;\n\t}\n\n\t${media.mobile`\n\t\t.ant-card-body {\n\t\t\tpadding: 0 24px;\n\t\t}\n\t`}\n`\n\nfunction FeaturedCoaches({ coaches = [], onClick }) {\n\treturn (\n\t\t<Row gutter={32} type=\"flex\" className=\"mb4em\">\n\t\t\t<Col lg={6} xs={24} className={mobile && \"mb2em\"}>\n\t\t\t\t<FeaturedCard padding={mobile ? \"1em\" : \"2em\"}>\n\t\t\t\t\t<DynamicIcon type=\"icon-CloudSunWeatherTe\" size={46} />\n\t\t\t\t\t<SectionHeading\n\t\t\t\t\t\tcontent=\"Featured coaches\"\n\t\t\t\t\t\tsubheader=\"Here's a few of our best coaches among many others who have an expertise at what they do\"\n\t\t\t\t\t/>\n\t\t\t\t\t{mobile && (\n\t\t\t\t\t\t<HorizontalRow height=\"100%\" padding=\"2em 0\">\n\t\t\t\t\t\t\t{coaches.map((person) => (\n\t\t\t\t\t\t\t\t<Col lg={7} xs={16} key={person.pvid}>\n\t\t\t\t\t\t\t\t\t<TutorCard {...person} onClick={() => onClick(person)} className=\"mb0\" boxShadow=\"none\" />\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</HorizontalRow>\n\t\t\t\t\t)}\n\t\t\t\t</FeaturedCard>\n\t\t\t</Col>\n\t\t\t{!mobile && (\n\t\t\t\t<Col lg={18} xs={24}>\n\t\t\t\t\t<HorizontalRow height=\"350px\">\n\t\t\t\t\t\t{coaches.map((person) => (\n\t\t\t\t\t\t\t<Col lg={7} xs={10} key={person.pvid}>\n\t\t\t\t\t\t\t\t<TutorCard {...person} onClick={() => onClick(person)} className=\"mb0\" boxShadow=\"none\" />\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</HorizontalRow>\n\t\t\t\t</Col>\n\t\t\t)}\n\t\t</Row>\n\t)\n}\n"],"sourceRoot":""}