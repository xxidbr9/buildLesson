(this.webpackJsonpcudysg=this.webpackJsonpcudysg||[]).push([[15],{1336:function(e,t,a){"use strict";var n=a(183),r=a(1337),i=a(1338);n.a.Button=i.a,n.a.Group=r.a,t.a=n.a},1346:function(e,t,a){"use strict";a(210);var n=a(83),r=a(23),i=(a(668),a(1336)),c=a(5),l=a(0),o=a.n(l),u=a(1386),s=a(300),m=a(15);function d(){var e=Object(c.a)(["\n\t> label {\n\t\tdisplay: ",";\n\t\twidth: ",";\n\t\tmargin-bottom: ",";\n\t\tpadding: ",";\n\t\theight: ",";\n\t}\n"]);return d=function(){return e},e}function b(){var e=Object(c.a)(["\n\t> label {\n\t\tdisplay: ",";\n\t\twidth: ",";\n\t}\n"]);return b=function(){return e},e}var p=Object(m.b)(u.a.Group)(b(),(function(e){return e.labelBlock&&"block"}),(function(e){return e.labelBlock&&"100%"})),f=Object(m.b)(i.a.Group)(d(),(function(e){return e.labelBlock&&"block"}),(function(e){return e.labelBlock&&"100%"}),(function(e){return e.labelBlock&&"1em"}),(function(e){return e.labelBlock&&"1em"}),(function(e){return e.labelBlock&&"auto"}));t.a=function(e){var t=e.options,a=void 0===t?[]:t,c=e.name,l=e.label,m=e.independent,d=e.isButton,b=void 0===d||d,E=Object(r.a)(e,["options","name","label","independent","isButton"]);return m?o.a.createElement(n.a.Item,{name:c,label:l},o.a.createElement(f,Object.assign({},E,{name:c,buttonStyle:"solid"}),a.map((function(e){return o.a.createElement(i.a.Button,Object.assign({},e,{value:e.value,key:e.value}),e.label)})))):o.a.createElement(s.a,{name:c,label:l},b?o.a.createElement(p,Object.assign({},E,{name:c,buttonStyle:"solid"}),a.map((function(e){return o.a.createElement(u.a.Button,{value:e.value,key:e.value},e.label)}))):o.a.createElement(p,Object.assign({},E,{options:a,name:c})))}},1351:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(0),c=(n=i)&&n.__esModule?n:{default:n},l=a(1);var o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.scriptLoaderId="id"+a.constructor.idCount++,a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.onError,a=e.onLoad,n=e.url;this.constructor.loadedScripts[n]?a():this.constructor.erroredScripts[n]?t():this.constructor.scriptObservers[n]?this.constructor.scriptObservers[n][this.scriptLoaderId]=this.props:(this.constructor.scriptObservers[n]=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},this.scriptLoaderId,this.props),this.createScript())}},{key:"componentWillUnmount",value:function(){var e=this.props.url,t=this.constructor.scriptObservers[e];t&&delete t[this.scriptLoaderId]}},{key:"createScript",value:function(){var e=this,t=this.props,a=t.onCreate,n=t.url,r=t.attributes,i=document.createElement("script");a(),r&&Object.keys(r).forEach((function(e){return i.setAttribute(e,r[e])})),i.src=n,i.hasAttribute("async")||(i.async=1);var c=function(t){var a=e.constructor.scriptObservers[n];Object.keys(a).forEach((function(r){t(a[r])&&delete e.constructor.scriptObservers[n][e.scriptLoaderId]}))};i.onload=function(){e.constructor.loadedScripts[n]=!0,c((function(e){return e.onLoad(),!0}))},i.onerror=function(){e.constructor.erroredScripts[n]=!0,c((function(e){return e.onError(),!0}))},document.body.appendChild(i)}},{key:"render",value:function(){return null}}]),t}(c.default.Component);o.propTypes={attributes:l.PropTypes.object,onCreate:l.PropTypes.func,onError:l.PropTypes.func.isRequired,onLoad:l.PropTypes.func.isRequired,url:l.PropTypes.string.isRequired},o.defaultProps={attributes:{},onCreate:function(){},onError:function(){},onLoad:function(){}},o.scriptObservers={},o.loadedScripts={},o.erroredScripts={},o.idCount=0,t.default=o,e.exports=t.default},1364:function(e,t,a){"use strict";var n=a(23),r=(a(210),a(83)),i=a(5),c=a(0),l=a.n(c),o=a(300),u=a(1707),s=a(15);function m(){var e=Object(i.a)(["\n\t.ant-input {\n\t\twidth: ",";\n\t}\n"]);return m=function(){return e},e}var d=Object(s.b)(r.a.Item)(m(),(function(e){return e.width||"100%"}));t.a=function(e){var t=e.monthly,a=e.width,r=Object(n.a)(e,["monthly","width"]);return t?l.a.createElement(o.a,{name:r.name,label:r.label},l.a.createElement(u.a.MonthPicker,Object.assign({name:r.name},r,{style:{width:"100%"}}))):l.a.createElement(d,{name:r.name,label:r.label},l.a.createElement(u.a,Object.assign({},r,{style:{width:a||"100%"}})))}},1373:function(e,t,a){var n=a(1378),r=a(1379);e.exports=function(e,t,a){var i=t&&a||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var c=(e=e||{}).random||(e.rng||n)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,t)for(var l=0;l<16;++l)t[i+l]=c[l];return t||r(c)}},1378:function(e,t){var a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(a){var n=new Uint8Array(16);e.exports=function(){return a(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},1379:function(e,t){for(var a=[],n=0;n<256;++n)a[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,r=a;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}},1380:function(e,t,a){e.exports=a.p+"static/media/decorating.794e4ad9.png"},1386:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(3),r=a(1336),i=a(45),c=a(0),l=function(e){var t=e.name,a=e.validate,l=e.onChange,o=Object(n.e)(e,["name","validate","onChange"]);return c.createElement(i.a,{name:t,validate:a},(function(e){var a=e.field.value,n=e.form,i=n.setFieldValue,u=n.setFieldTouched;return c.createElement(r.a,Object.assign({value:a,onChange:function(e){i(t,e.target.value),u(t,!0),l&&l(e)}},o))}))};l.Group=function(e){var t=e.name,a=e.validate,l=e.onChange,o=Object(n.e)(e,["name","validate","onChange"]);return c.createElement(i.a,{name:t,validate:a},(function(e){var a=e.field.value,n=e.form,i=n.setFieldValue,u=n.setFieldTouched;return c.createElement(r.a.Group,Object.assign({value:a,onChange:function(e){i(t,e.target.value),u(t,!0),l&&l(e)}},o))}))},l.Button=r.a.Button},1398:function(e,t,a){e.exports=a.p+"static/media/ellipse-orange.b77438c1.png"},1399:function(e,t,a){e.exports=a.p+"static/media/ellipse-purple.32f7a042.png"},1709:function(e,t,a){"use strict";a.r(t);a(92);var n=a(8),r=(a(91),a(37)),i=(a(97),a(25)),c=(a(672),a(433)),l=a(19),o=a(28),u=a(5),s=a(0),m=a.n(s),d=a(42),b=a(27),p=a(15),f=a(1373),E=a.n(f),v=a(1398),h=a.n(v),g=a(1399),j=a.n(g),y=a(16),O=a(55),T=a(80),S=a(1380),x=a.n(S),P=a(182),k=a(9),D=a(221),C=a(46),N=(a(210),a(83)),_=(a(418),a(181)),w=a(45),A=a(131),Y=a(38),L=a.n(Y);var B=function(e){var t={};return e.firstName||(t.firstName="You have to tell us your first name"),e.lastName||(t.lastName="You have to tell us your last name"),t},I=Object(k.withI18n)()((function(e){var t=e.handlers,a=e.onData,c=e.loading,o=e.i18n,u=(t.handleNext,t.handleUpdateProfile),s=a.userData,b=void 0===s?{}:s,p=(a.setUserData,a.initialValues);return 0===Object.keys(b).length?m.a.createElement(d.o,null):m.a.createElement(i.a,{lg:16,xs:24,style:{padding:"2em 3em"}},m.a.createElement(d.l,{content:m.a.createElement(k.Trans,{id:"Your name"}),subheader:m.a.createElement(k.Trans,{id:"<0>Tell us your name</0>",components:[m.a.createElement("span",null)]}),level:4,marginBottom:"2em"}),m.a.createElement(w.b,{onSubmit:function(e,t){var a=t.setSubmitting;e=Object(l.a)({},p,{},e,{dob:L()(p.dob).format("YYYY/MM/DD")}),u(e,"preferfield"),a(!1)},validate:B,initialValues:{firstName:b.firstName||"",lastName:b.lastName||""}},(function(e){var t=e.handleSubmit;return m.a.createElement(N.a,{layout:"vertical",onSubmit:t},m.a.createElement(r.a,{gutter:32},m.a.createElement(i.a,{lg:12},m.a.createElement(A.a,{name:"firstName",label:m.a.createElement(k.Trans,{id:"First name"}),placeholder:o._({id:"Your first name..."})})),m.a.createElement(i.a,{lg:12},m.a.createElement(A.a,{name:"lastName",label:m.a.createElement(k.Trans,{id:"Last name"}),placeholder:o._({id:"Your last name..."})}))),m.a.createElement(_.a,{className:"mb4em"}),m.a.createElement(d.u,{textAlign:"right",noPadding:!0},m.a.createElement(d.d,{type:"primary",htmlType:"submit",loading:c},c?m.a.createElement(k.Trans,{id:"Please wait..."}):m.a.createElement(k.Trans,{id:"Next"})," ",m.a.createElement(n.a,{type:"right"}))))})))})),M=(a(667),a(420)),H=a(157),U=a(213),z=a(23),q=(a(156),a(62)),V=a(212),F=a(1343),R=a(71),G=a(419),J=a(163),W=Object(y.k)("programme");var Q=Object(k.withI18n)()((function(e){var t=e.handlers,a=e.onData,c=e.fetchUser,u=e.loading,b=e.i18n,p=localStorage.getItem("onboarding_preferrable_field"),f=a.userData,v=void 0===f?{}:f,h=v.nonAcademic||[],g="non_academic"===p,j=g?h:v.subjectList,S=Object(s.useState)([]),x=Object(o.a)(S,2),D=x[0],C=x[1],Y=Object(s.useState)(!1),L=Object(o.a)(Y,2),B=L[0],I=L[1],Q=t.handleNext,X=t.handlePrev,K=Object(s.useState)(j),Z=Object(o.a)(K,2),$=Z[0],ee=Z[1],te=Object(G.b)().options,ae=JSON.parse(localStorage.getItem("userDetails"))||{},ne=Object(O.c)(P.c,{client:W,variables:{country:ae.country||"sg"}}).data,re=void 0===ne?{}:ne,ie=Object(O.c)(P.b,{client:W,variables:{country:ae.country||"sg"}}).data,ce=void 0===ie?{}:ie,le=(re.getProgrammeSubjectList||[]).map((function(e){return{value:Number(e.pvid),label:e.name}})),oe=(ce.getProgrammeLevelList||[]).map((function(e){return{value:Number(e.pvid),label:e.name}})),ue=Object(O.b)(T.u,{client:Object(y.k)(),onCompleted:function(){c().then((function(){return q.a.success(b._({id:"The subject item has been added"}),2)}))},onError:function(e){return Object(y.q)(e)}}),se=Object(o.a)(ue,2),me=se[0],de=se[1].loading,be=Object(O.b)(T.L,{client:Object(y.k)(),onCompleted:function(){c().then((function(){return q.a.success(b._({id:"The subject item has been updated"}),2)}))},onError:function(e){return Object(y.q)(e)}}),pe=Object(o.a)(be,2),fe=pe[0],Ee=pe[1].loading,ve=Object(O.b)(T.B,{client:Object(y.k)(),onCompleted:function(){c().then((function(){return q.a.success(b._({id:"The subject item has been deleted"}),2)}))},onError:function(e){return Object(y.q)(e)}}),he=Object(o.a)(ve,2),ge=he[0],je=he[1].loading,ye=Object(O.b)(J.a,{client:Object(y.k)(),onCompleted:function(){c().then((function(){return q.a.success(b._({id:"The subject item has been deleted"}),2)}))},onError:function(e){return Object(y.q)(e)}}),Oe=Object(o.a)(ye,1)[0],Te=Object(O.b)(J.g,{client:Object(y.k)(),onCompleted:function(){c().then((function(){q.a.success(b._({id:"The subject item has been updated"}),2),I(!1)}))},onError:function(e){return Object(y.q)(e)}}),Se=Object(o.a)(Te,2),xe=Se[0],Pe=Se[1].loading,ke=Object(O.b)(T.d,{client:Object(y.k)(),onCompleted:function(){return C([])},onError:function(e){return Object(y.q)(e)}}),De=Object(o.a)(ke,1)[0],Ce=function(e,t){var a=t.setSubmitting,n=e.programmeSubjectSubNonAcademicPvid,r=e=Object(l.a)({},e,{orderList:1,isDeleted:!1,profileNonAcademicPvid:B?"":e.profileNonAcademicPvid,programmeSubjectSubNonAcademicPvid:n[1],pricePerHour:parseFloat(e.pricePerHour)}),i=(r.pvid,Object(z.a)(r,["pvid"]));xe({variables:{list:[i]}}).finally((function(){return a(!1)}))},Ne=function(e,t){var a=t.setSubmitting,n=e,r=(n.source,n.programmeLevelPvid,n.pricePerHour,n.pvid),i=Object(z.a)(n,["source","programmeLevelPvid","pricePerHour","pvid"]),c=e,o=c.programmeSubjectPvid,u=c.programmeLevelPvid,s=c.pricePerHour,m=u.map((function(e,t){var a,n,i=$.findIndex((function(e){return e.subject.pvid===r})),c=(null===(a=$[i])||void 0===a||null===(n=a.subject)||void 0===n?void 0:n.level.find((function(t){return t.name===e})))||{};return"string"===typeof e&&(e=oe.find((function(t){return t.label===e})).value),{programmeLevelPvid:e,pricePerHour:Number(s),pvid:c.pvid||""}})),d="number"===typeof o?o:le.find((function(e){return e.label===o})).value;if(e=Object(l.a)({},i,{programmeLevel:m,programmeSubjectPvid:d,orderList:1,isStore:!1}),D.length>0){var b=D.map((function(e){return e.pvid})).filter((function(e){return Boolean(e)}));De({variables:{pvidList:b}})}fe({variables:{list:Object(l.a)({},e)}}).finally((function(){return a(!1)}))},_e=function(e,t){var a=t.setSubmitting,n=e.programmeLevelPvid.map((function(t){return{programmeLevelPvid:t,pricePerHour:Number(e.pricePerHour)}})),r=e=Object(l.a)({},e,{orderList:1,isStore:!0,pricePerHour:Number(e.pricePerHour),programmeLevel:n}),i=(r.programmeLevelPvid,r.pricePerHour,Object(z.a)(r,["programmeLevelPvid","pricePerHour"]));me({variables:{list:[Object(l.a)({},i)]}}).finally((function(){a(!1),I(!1)}))},we=function(e){var t=$.find((function(t){return g?t.subNonAcademic[0].profileNonAcademicPvid===e:t.subject.pvid===e})),a=g?Oe:ge,n=g?t.subNonAcademic[0].profileNonAcademicPvid:t.subject.pvid,r=g?"pvidList":"pvid";a({variables:Object(U.a)({},r,n)})},Ae=function(){I(!1),ee(j)};return Object(s.useEffect)((function(){ee(j)}),[j]),m.a.createElement(i.a,{lg:16,xs:24,style:{padding:"2em"}},m.a.createElement(d.l,{content:m.a.createElement(k.Trans,{id:"Subjects"}),subheader:m.a.createElement(k.Trans,{id:"Please fill the subjects you are teaching"}),level:4,marginBottom:"2em"}),B?g?m.a.createElement(w.b,{onSubmit:Ce,initialValues:{programmeSubjectSubNonAcademicPvid:"",pricePerHour:0}},(function(e){var t=e.handleSubmit;return m.a.createElement(N.a,{layout:"vertical",onSubmit:t,className:"mb2em"},m.a.createElement(r.a,{gutter:16,className:"mb0"},m.a.createElement(i.a,{lg:12,xs:24},m.a.createElement(V.a,{cascader:!0,name:"programmeSubjectSubNonAcademicPvid",placeholder:b._({id:"Subject name"}),label:m.a.createElement(k.Trans,{id:"Subject"}),options:te,marginBottom:"5px"})),m.a.createElement(i.a,{lg:12,xs:12},m.a.createElement(A.a,{name:"pricePerHour",label:m.a.createElement(k.Trans,{id:"Price per hour"}),placeholder:b._({id:"Your price per hour..."}),addonBefore:R.b[ae.country].symbol}))),m.a.createElement(F.a,{block:!0},m.a.createElement(k.Trans,{id:"Save this subject"}))," ","\xa0"," ",m.a.createElement(d.e,{block:!0,onClick:Ae},m.a.createElement(k.Trans,{id:"Cancel"})))})):m.a.createElement(w.b,{onSubmit:_e,initialValues:{pricePerHour:0}},(function(e){var t=e.handleSubmit;return m.a.createElement(N.a,{layout:"vertical",onSubmit:t,className:"mb2em"},m.a.createElement(r.a,{gutter:16,type:"flex",className:"mb0"},m.a.createElement(i.a,{lg:12,xs:24},m.a.createElement(V.a,{name:"programmeSubjectPvid",placeholder:b._({id:"Subject name"}),label:m.a.createElement(k.Trans,{id:"Subject"}),options:le,marginBottom:"5px"})),m.a.createElement(i.a,{lg:12,xs:24},m.a.createElement(V.a,{name:"programmeLevelPvid",mode:"multiple",placeholder:b._({id:"Curriculum"}),label:m.a.createElement(k.Trans,{id:"Curriculum"}),options:oe,marginBottom:"5px"})),m.a.createElement(i.a,{lg:12},m.a.createElement(A.a,{label:m.a.createElement(k.Trans,{id:"Price per hour"}),name:"pricePerHour",addonBefore:R.b[ae.country].symbol}))),m.a.createElement(F.a,{block:!0},m.a.createElement(k.Trans,{id:"Save this subject"}))," ","\xa0"," ",m.a.createElement(d.e,{block:!0,onClick:Ae},m.a.createElement(k.Trans,{id:"Cancel"})))})):u||je||de||Ee||Pe?m.a.createElement(d.o,null):0===($||[]).length?m.a.createElement(d.j,null):($||[]).map((function(e){var t,a,n,c,l,o,u,s=e.subNonAcademic&&e.subNonAcademic[0]||{},p=s.programmeSubjectSubNonAcademicPvid,f=s.profileNonAcademicPvid;return g?m.a.createElement(w.b,{enableReinitialize:!0,onSubmit:Ce,initialValues:{programmeSubjectSubNonAcademicPvid:[e.pvid,p],pricePerHour:s.pricePerHour,profileNonAcademicPvid:s.profileNonAcademicPvid}},(function(e){var t=e.handleSubmit;return m.a.createElement(N.a,{layout:"vertical",onSubmit:t,className:"mb2em"},m.a.createElement(r.a,{gutter:16,className:"mb0"},m.a.createElement(i.a,{lg:12,xs:24},m.a.createElement(V.a,{cascader:!0,name:"programmeSubjectSubNonAcademicPvid",placeholder:b._({id:"Subject name"}),label:m.a.createElement(k.Trans,{id:"Subject"}),options:te,marginBottom:"5px"})),m.a.createElement(i.a,{lg:12,xs:12},m.a.createElement(A.a,{name:"pricePerHour",label:m.a.createElement(k.Trans,{id:"Price per hour"}),placeholder:b._({id:"Your price per hour..."}),addonBefore:R.b[ae.country].symbol}))),m.a.createElement(F.a,{type:"primary"},m.a.createElement(k.Trans,{id:"Update"}))," ","\xa0"," ",m.a.createElement(M.a,{title:m.a.createElement(k.Trans,{id:"Delete this subject?"}),onConfirm:function(){return we(f)}},m.a.createElement(d.e,{icon:"close"},"\xa0 ",m.a.createElement(k.Trans,{id:"Delete"}))),m.a.createElement(_.a,null))})):m.a.createElement(w.b,{enableReinitialize:!0,key:e.subject.name,onSubmit:Ne,initialValues:{pvid:null===(t=e.subject)||void 0===t?void 0:t.pvid,programmeSubjectPvid:Number(null===(a=e.subject)||void 0===a?void 0:a.pvid),programmeLevelPvid:null===(n=e.subject)||void 0===n||null===(c=n.level)||void 0===c?void 0:c.map((function(e){return e.name})),pricePerHour:null===(l=e.subject)||void 0===l||null===(o=l.level)||void 0===o||null===(u=o[0])||void 0===u?void 0:u.pricePerHour}},(function(t){var a,n=t.handleSubmit;return m.a.createElement(N.a,{layout:"vertical",onSubmit:n},m.a.createElement(r.a,{gutter:16,type:"flex"},m.a.createElement(i.a,{lg:12,xs:24},m.a.createElement(V.a,{name:"programmeSubjectPvid",placeholder:b._({id:"Subject name"}),label:m.a.createElement(k.Trans,{id:"Subject"}),options:le,marginBottom:"5px"})),m.a.createElement(i.a,{lg:12,xs:24},m.a.createElement(V.a,{name:"programmeLevelPvid",mode:"multiple",placeholder:b._({id:"Curriculum"}),label:m.a.createElement(k.Trans,{id:"Curriculum"}),options:oe,marginBottom:"5px",onDeselect:(a=e.subject.name,function(e){var t,n,r=$.findIndex((function(e){return e.subject.name===a})),i=(null===(t=$[r].subject)||void 0===t||null===(n=t.level)||void 0===n?void 0:n.find((function(t){return t.name===e})))||{};C((function(e){return[].concat(Object(H.a)(e),[i])}))})})),m.a.createElement(i.a,{lg:12,xs:12},m.a.createElement(A.a,{name:"pricePerHour",label:m.a.createElement(k.Trans,{id:"Price per hour"}),placeholder:b._({id:"Your price per hour..."}),addonBefore:R.b[ae.country].symbol}))),m.a.createElement(F.a,{type:"primary"},m.a.createElement(k.Trans,{id:"Update"}))," ","\xa0"," ",m.a.createElement(M.a,{title:m.a.createElement(k.Trans,{id:"Delete this subject?"}),onConfirm:function(){return we(e.subject.pvid)}},m.a.createElement(d.e,{icon:"close"},"\xa0 ",m.a.createElement(k.Trans,{id:"Delete"}))),m.a.createElement(_.a,null))}))})),!B&&m.a.createElement("div",{className:"mb2em"},m.a.createElement(d.d,{block:!0,type:"dashed",size:"medium",icon:"plus",onClick:function(){I(!0),ee((function(e){return[].concat(Object(H.a)(e),[{id:E()(),programmeSubjectPvid:"",pricePerHour:0,subject:{pvid:null},level:{pvid:null},orderList:0}])}))},className:"mb2em"},"\xa0 ",m.a.createElement(k.Trans,{id:"Add a new subject"}))),m.a.createElement(_.a,{className:"mb4em"}),m.a.createElement(r.a,{type:"flex",justify:"space-between"},m.a.createElement(i.a,{lg:12,xs:24},m.a.createElement(d.e,{type:"primary",size:"large",block:y.j,onClick:function(){return X("aboutme")}},m.a.createElement(k.Trans,{id:"<0/> Back to About me",components:[m.a.createElement(n.a,{type:"left"})]}))),m.a.createElement(i.a,{lg:12,xs:24,style:{textAlign:!y.j&&"right"}},m.a.createElement(d.d,{type:"primary",size:"large",block:y.j,onClick:function(){return Q("educations")}},m.a.createElement(k.Trans,{id:"Go to Educations <0/>",components:[m.a.createElement(n.a,{type:"right"})]})))))})),X=a(1351),K=a.n(X),Z=a(1364),$=a(1346),ee=null;var te=Object(k.withI18n)()((function(e){var t=e.handlers,a=e.onData,c=e.loading,u=e.i18n,b=(t.handleNext,t.handlePrev),p=t.handleUpdateProfile,f=a.userData,E=void 0===f?{}:f,v=Object(s.useState)(""),h=Object(o.a)(v,2),g=h[0],j=h[1],O=Object(s.useState)({}),T=Object(o.a)(O,2),S=(T[0],T[1]),x=JSON.parse(localStorage.getItem("userDetails"))||{},P=function(){var e={types:[],componentRestrictions:{country:x.country}};(ee=new google.maps.places.Autocomplete(document.getElementById("location"),e)).addListener("place_changed",D)},D=function(){var e=ee.getPlace();e.address_components&&(S({location:e.formatted_address}),j(e.formatted_address))};return Object(s.useEffect)((function(){j(E.address)}),[E.address]),Object.keys(E).length<1?m.a.createElement(i.a,{lg:14,xs:24},m.a.createElement(d.o,null)):m.a.createElement(i.a,{lg:16,xs:24,style:{padding:"2em 3em"}},m.a.createElement(d.l,{content:m.a.createElement(k.Trans,{id:"About me"}),subheader:m.a.createElement(k.Trans,{id:"<0>Tell us some of your details</0>",components:[m.a.createElement("span",null)]}),level:4,marginBottom:"2em"}),m.a.createElement(w.b,{enableReinitialize:!0,onSubmit:function(e,t){var a=t.setSubmitting,n={firstName:E.firstName,lastName:E.lastName};e=Object(l.a)({},e,{},n,{address:g,phone:"".concat(R.b[E.country].phoneCode).concat(e.phone),dob:L()(e.dob).format("YYYY-MM-DD"),nric:""}),p(e,"subjects"),a(!1)},initialValues:{gender:(E.gender||"").toLowerCase()||"m",race:E.race||void 0,dob:L()(E.dob).format("YYYY-MM-DD"),address:E.address,description:E.description,phone:(E.phone||"").startsWith("+")?E.phone.slice(3):E.phone}},(function(e){var t=e.handleSubmit;return m.a.createElement(N.a,{layout:"vertical",onSubmit:t},m.a.createElement(r.a,{gutter:32},m.a.createElement(i.a,{lg:12},m.a.createElement(Z.a,{name:"dob",label:m.a.createElement(k.Trans,{id:"Date of birth"}),placeholder:"Your date of birth...",disabledDate:function(e){return e&&e>L()()}})),m.a.createElement(i.a,{lg:12},m.a.createElement(A.a,{name:"phone",label:m.a.createElement(k.Trans,{id:"Your mobile"}),placeholder:u._({id:"E.g. 87888788"}),addonBefore:R.b[x.country].phoneCode}))),m.a.createElement(r.a,{gutter:32},m.a.createElement(i.a,{lg:12},m.a.createElement(K.a,{url:y.g,onLoad:P}),m.a.createElement(A.a,{special:!0,allowClear:!0,id:"location",name:"address",placeholder:u._({id:"Your location..."}),label:m.a.createElement(k.Trans,{id:"Your location"}),value:g,helpText:m.a.createElement(k.Trans,{id:"Start typing some characters to show place options"}),onChange:function(e){return j(e.target.value)}})),m.a.createElement(i.a,{lg:12},m.a.createElement($.a,{name:"gender",label:m.a.createElement(k.Trans,{id:"Gender"}),options:[{value:"m",label:m.a.createElement(k.Trans,{id:"Male"})},{value:"f",label:m.a.createElement(k.Trans,{id:"Female"})}]}))),m.a.createElement(A.a,{textarea:!0,rows:4,name:"description",label:m.a.createElement(k.Trans,{id:"Short description about you"}),placeholder:u._({id:"E.g. I am Jenny Ang, a 24-year old professional English tutor. I have 6-year experiences tutoring, both in freelance and worked under agency."})}),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement(r.a,{type:"flex",justify:"space-between",align:"middle"},m.a.createElement(i.a,{lg:8},m.a.createElement(d.e,{size:"large",htmllType:"button",icon:"left",onClick:function(){return b("preferfield")}},"\xa0 ",m.a.createElement(k.Trans,{id:"Back"}))),m.a.createElement(i.a,{lg:8,style:{textAlign:"right"}},m.a.createElement(d.d,{type:"primary",htmlType:"submit",loading:c},m.a.createElement(k.Trans,{id:"Next <0/>",components:[m.a.createElement(n.a,{type:"right"})]})))))})))})),ae=(a(121),a(35)),ne=a(223),re=a(98);function ie(){var e=Object(u.a)(["\n        && {\n            height: auto;\n        }\n    "]);return ie=function(){return e},e}function ce(){var e=Object(u.a)(["\n\t&& {\n\t\theight: 200px;\n\t\tborder: ",";\n\t\tbackground-color: ",";\n\t}\n\n\t","\n"]);return ce=function(){return e},e}var le=Object(p.b)(d.g)(ce(),(function(e){return e.isSelected&&"2px solid ".concat(C.a.primaryColor)}),(function(e){return e.isSelected&&C.a.primaryColorRgba}),y.i.mobile(ie())),oe=ae.a.Text,ue=ae.a.Paragraph;var se=Object(k.withI18n)()((function(e){var t=e.handlers,a=e.onData,c=e.loading,l=(e.i18n,t.handleNext),u=(t.handleUpdateProfile,a.userData),b=void 0===u?{}:u,p=(a.setUserData,a.initialValues,Object(s.useState)({})),f=Object(o.a)(p,2),E=f[0],v=f[1],h=0===Object.keys(E).length,g=[{key:"academic",title:m.a.createElement(k.Trans,{id:"Academic"}),description:m.a.createElement(k.Trans,{id:"If you teach something like Mathematic, History, English, Chemical, etc"}),call:"tutor"},{key:"non_academic",title:m.a.createElement(k.Trans,{id:"Non-academic"}),description:m.a.createElement(k.Trans,{id:"If you teach something like Music, Photography, Digital Marketing, etc"}),call:"coach"}];return 0===Object.keys(b).length?m.a.createElement(d.o,null):m.a.createElement(i.a,{lg:16,xs:24,style:{padding:"2em 3em"}},m.a.createElement(d.l,{content:m.a.createElement(k.Trans,{id:"Your preferrable field"}),subheader:m.a.createElement(k.Trans,{id:"<0>Tell us whether you'd like to teach academic or non-academic lessons</0>",components:[m.a.createElement("span",null)]}),level:4,marginBottom:"2em"}),m.a.createElement(ne.a,{type:"info",showIcon:!0,message:m.a.createElement(k.Trans,{id:"You can change this later, or even you can teach both of these fields. However, for now, you need to choose first"})}),m.a.createElement(r.a,{gutter:16},g.map((function(e){var t=e.key===E.key;return m.a.createElement(i.a,{lg:12,key:e.key},m.a.createElement(le,{padding:"2em",hoverable:!0,onClick:function(){return v(e)},isSelected:t},m.a.createElement(ae.a,{className:"mb2em"},m.a.createElement(ue,{strong:!0},e.title),m.a.createElement(oe,{type:"secondary"},e.description)),t&&m.a.createElement(oe,null,m.a.createElement(re.a,{type:"icon-male"})," Then we'll call you ",m.a.createElement("strong",null,e.call))))}))),m.a.createElement(_.a,{className:"mb4em"}),m.a.createElement(d.u,{textAlign:"right",noPadding:!0},m.a.createElement(d.d,{type:"primary",onClick:function(){localStorage.setItem("onboarding_preferrable_field",E.key),l("aboutme")},loading:c,disabled:h},c?m.a.createElement(k.Trans,{id:"Please wait..."}):m.a.createElement(k.Trans,{id:"Next"})," ",m.a.createElement(n.a,{type:"right"}))))})),me=a(669);var de=Object(k.withI18n)()((function(e){var t=e.onNext,a=e.onPrev,c=e.onData,u=e.loading,b=e.fetchUser,p=e.i18n,f=Object(s.useState)([]),E=Object(o.a)(f,2),v=E[0],h=E[1],g=Object(s.useState)(!1),j=Object(o.a)(g,2),S=j[0],x=j[1],P=c.userData,D=void 0===P?{}:P,C=Object(O.b)(T.C,{client:Object(y.k)(),onCompleted:function(){return b()},onError:function(e){return Object(y.q)(e)}}),Y=Object(o.a)(C,1)[0],B=Object(O.b)(T.H,{client:Object(y.k)(),onCompleted:function(){return b()},onError:function(e){return Object(y.q)(e)}}),I=Object(o.a)(B,1)[0],H=Object(O.b)(T.x,{client:Object(y.k)()}),U=Object(o.a)(H,1)[0],V=function(e,t){var a=t.setSubmitting,n=(e=Object(l.a)({},e,{fromDate:L()(e.fromDate).format("YYYY-MM-DD"),toDate:e.isPresent?L()().format("YYYY-MM-DD"):L()(e.toDate).format("YYYY-MM-DD")})).hasOwnProperty("pvid");if(n){var r=e;r.source;e=Object(z.a)(r,["source"])}(n?I:Y)({variables:{list:[e]}}).then((function(){return q.a.success(p._({id:"The education has been updated"}))})).then((function(){a(!1),x(!1)}))},R=function(){x(!1),h(D.educationList)};return Object(s.useEffect)((function(){h(D.educationList)}),[D.educationList]),m.a.createElement(i.a,{lg:16,xs:24,style:{padding:"2em"}},m.a.createElement(d.l,{content:m.a.createElement(k.Trans,{id:"Educational background"}),subheader:m.a.createElement(k.Trans,{id:"Please fill in your educational background"}),level:4,marginBottom:"2em"}),0!==(v||[]).length||S?u?m.a.createElement(d.o,null):S?m.a.createElement(w.b,{onSubmit:V,initialValues:{isPresent:!1}},(function(e){var t=e.handleSubmit,a=e.values;return m.a.createElement(N.a,{layout:"vertical",onSubmit:t,style:{marginBottom:"2em"}},m.a.createElement(A.a,{name:"institution",placeholder:p._({id:"E.g. Nanyang Polytechnic"}),label:m.a.createElement(k.Trans,{id:"Your school/college"})}),m.a.createElement(r.a,{style:{marginBottom:"1em"}},m.a.createElement(i.a,{lg:14},m.a.createElement(me.a,{name:"isPresent"},m.a.createElement(k.Trans,{id:"I'm currently studying here"})))),m.a.createElement(r.a,{gutter:16},m.a.createElement(i.a,{lg:12,xs:12},m.a.createElement(Z.a,{monthly:!0,name:"fromDate",label:m.a.createElement(k.Trans,{id:"From"}),placeholder:p._({id:"Choose the date"}),disabledDate:function(e){return e&&e>L()()}})),m.a.createElement(i.a,{lg:12,xs:12},m.a.createElement(Z.a,{monthly:!0,name:"toDate",label:m.a.createElement(k.Trans,{id:"To"}),placeholder:p._({id:"Choose the date"}),disabled:a.isPresent,disabledDate:function(e){return e&&e>L()()}}))),m.a.createElement(F.a,{block:!0},m.a.createElement(k.Trans,{id:"Save this education"}))," ","\xa0"," ",m.a.createElement(d.e,{block:!0,onClick:R},m.a.createElement(k.Trans,{id:"Cancel"})))})):(v||[]).map((function(e){return m.a.createElement(w.b,{enableReinitialize:!0,onSubmit:V,key:e.pvid,initialValues:{pvid:e.pvid,institution:e.institution,fromDate:L()(e.fromDate).format("YYYY-MM-DD"),toDate:L()(e.toDate).format("YYYY-MM-DD"),isPresent:e.isPresent}},(function(t){var a=t.handleSubmit,n=t.values,c=t.dirty;return m.a.createElement(N.a,{layout:"vertical",onSubmit:a,style:{marginBottom:"2em"}},m.a.createElement(A.a,{name:"institution",placeholder:p._({id:"E.g. Nanyang Polytechnic"}),label:m.a.createElement(k.Trans,{id:"Your school/college"})}),m.a.createElement(r.a,{style:{marginBottom:"1em"}},m.a.createElement(i.a,{lg:14},m.a.createElement(me.a,{name:"isPresent"},m.a.createElement(k.Trans,{id:"I'm currently studying here"})))),m.a.createElement(r.a,{gutter:16},m.a.createElement(i.a,{lg:12,xs:12},m.a.createElement(Z.a,{monthly:!0,name:"fromDate",label:m.a.createElement(k.Trans,{id:"From"}),placeholder:p._({id:"Choose the date"})})),m.a.createElement(i.a,{lg:12,xs:12},m.a.createElement(Z.a,{monthly:!0,name:"toDate",label:m.a.createElement(k.Trans,{id:"To"}),placeholder:p._({id:"Choose the date"}),disabled:n.isPresent}))),m.a.createElement(F.a,{disabled:!c},m.a.createElement(k.Trans,{id:"Save changes"}))," ","\xa0"," ",m.a.createElement(M.a,{title:m.a.createElement(k.Trans,{id:"Delete this education?"}),onConfirm:function(){return function(e){var t=v.find((function(t){return t.pvid===e}))||{};U({variables:{pvidList:[t.pvid]}}).then((function(){return b()})).then((function(){return q.a.success(p._({id:"The education item has been deleted"}),2)}))}(e.pvid)}},m.a.createElement(d.e,{icon:"close"},"\xa0 ",m.a.createElement(k.Trans,{id:"Delete"}))))}))})):m.a.createElement(d.j,null),!S&&m.a.createElement("div",{style:{marginBottom:"2em"}},m.a.createElement(d.d,{block:!0,type:"dashed",size:"medium",icon:"plus",onClick:function(){return x(!0)},style:{marginBottom:"2em"}},"\xa0 ",m.a.createElement(k.Trans,{id:"Add a new education"}))),m.a.createElement(_.a,{className:"mb4em"}),m.a.createElement(r.a,{type:"flex",justify:"space-between"},m.a.createElement(i.a,{lg:12,xs:24},m.a.createElement(d.e,{type:"primary",block:y.j,size:"large",onClick:function(){return a("subjects")}},m.a.createElement(k.Trans,{id:"<0/> Back to Subjects",components:[m.a.createElement(n.a,{type:"left"})]}))),m.a.createElement(i.a,{lg:12,xs:24,style:{textAlign:!y.j&&"right"}},m.a.createElement(d.d,{type:"primary",block:y.j,size:"large",onClick:function(){return t("experiences")}},m.a.createElement(k.Trans,{id:"Go to Experiences <0/>",components:[m.a.createElement(n.a,{type:"right"})]})))))})),be=function(e){return null};function pe(e){var t=e.data,a=e.handlers,n=e.i18n,c=e.isAdding,l=a.handleSave,o=a.handleCancel,u=a.handleDelete,s=a.handleDeleteLocalLevels,b=t.isNonAcademic,p=t.levelOptions,f=t.subjectOptions,E=t.userExperiences,v=void 0===E?[]:E,h=Object(G.b)().options;return c?m.a.createElement(w.b,{onSubmit:l,initialValues:{institution:"",isPresent:!1,isPrivateTutor:!1}},(function(e){var t=e.handleSubmit,a=e.values;return m.a.createElement(N.a,{layout:"vertical",onSubmit:t,style:{marginBottom:"2em"}},m.a.createElement(r.a,{gutter:16,type:"flex"},m.a.createElement(i.a,{lg:b?12:24,xs:b?12:24},m.a.createElement(A.a,{name:"institution",placeholder:n._({id:"Tuition's name"}),label:m.a.createElement(k.Trans,{id:"Tuition's name"}),disabled:a.isPrivateTutor})),m.a.createElement(i.a,{lg:12,xs:12},m.a.createElement(V.a,{cascader:b,name:"subject",label:m.a.createElement(k.Trans,{id:"Subject"}),placeholder:n._({id:"Subject"}),options:f})),!b&&m.a.createElement(i.a,{lg:12,xs:12},m.a.createElement(V.a,{mode:"multiple",name:"curriculum",label:m.a.createElement(k.Trans,{id:"Curriculum"}),placeholder:n._({id:"Curriculum"}),options:p}))),m.a.createElement(r.a,{gutter:16},m.a.createElement(i.a,{lg:12,xs:12},m.a.createElement(Z.a,{monthly:!0,name:"fromDate",label:m.a.createElement(k.Trans,{id:"Date joined"}),placeholder:n._({id:"Date joined"}),className:"width-100",disabledDate:function(e){return e&&e>L()()}})),m.a.createElement(i.a,{lg:12,xs:12},m.a.createElement(Z.a,{monthly:!0,name:"toDate",label:m.a.createElement(k.Trans,{id:"Date resigned"}),placeholder:n._({id:"Date resigned"}),style:{width:"100%"},disabledDate:function(e){return e&&e>L()()},disabled:a.isPresent})),m.a.createElement(i.a,{lg:24,xs:24},m.a.createElement(me.a,{name:"isPrivateTutor"},m.a.createElement(k.Trans,{id:"I was a private tutor"})))),m.a.createElement(r.a,null,m.a.createElement(i.a,{lg:24,xs:24,style:{marginBottom:"2em"}},m.a.createElement(me.a,{name:"isPresent"},m.a.createElement(k.Trans,{id:"I'm currently working here"})))),m.a.createElement(F.a,{block:!0},m.a.createElement(k.Trans,{id:"Save this experience"}))," ","\xa0"," ",m.a.createElement(d.e,{block:!0,onClick:o},m.a.createElement(k.Trans,{id:"Cancel"})),m.a.createElement(be,null))})):v.map((function(e,t){var a,c=null===(a=e.subject)||void 0===a?void 0:a.level,o={subject:function(){var a,n=v[t].subject.name.split(" > "),r=h.find((function(e){return e.label===n[0]}))||{},i=(null===r||void 0===r||null===(a=r.children)||void 0===a?void 0:a.find((function(e){return e.label===n[1]})))||{};return b?[r.label,i.label]:e.subject.name}(),pvid:c&&c[0].pvid,fromDate:c&&c[0].fromDate,toDate:c&&c[0].toDate,institution:c&&c[0].institution,isPrivateTutor:c&&c[0].isPrivateTutor,isPresent:c&&c[0].isPresent,curriculum:c&&c.map((function(e){return e.curriculum}))};return m.a.createElement(w.b,{key:e.subject.name,onSubmit:l,initialValues:o},(function(t){var a=t.handleSubmit,c=t.values,l=t.dirty;return m.a.createElement(N.a,{layout:"vertical",onSubmit:a,style:{marginBottom:"2em"}},m.a.createElement(r.a,{gutter:16},m.a.createElement(i.a,{lg:b?12:24,xs:b?12:24},m.a.createElement(A.a,{name:"institution",label:m.a.createElement(k.Trans,{id:"Tuition's name"}),placeholder:n._({id:"Tuition's name"}),disabled:c.isPrivateTutor||e.isPrivateTutor})),m.a.createElement(i.a,{lg:12,xs:12},m.a.createElement(V.a,{cascader:b,name:"subject",label:m.a.createElement(k.Trans,{id:"Subject"}),placeholder:n._({id:"Subject"}),options:f})),!b&&m.a.createElement(i.a,{lg:12,xs:12},m.a.createElement(V.a,{mode:"multiple",name:"curriculum",label:m.a.createElement(k.Trans,{id:"Curriculum"}),placeholder:n._({id:"Curriculum"}),options:p,onDeselect:s(e.subject.name)}))),m.a.createElement(r.a,{gutter:16},m.a.createElement(i.a,{lg:12,xs:12},m.a.createElement(Z.a,{monthly:!0,name:"fromDate",label:m.a.createElement(k.Trans,{id:"Date joined"}),placeholder:n._({id:"Date joined"}),className:"width-100",disabledDate:function(e){return e&&e>L()()}})),m.a.createElement(i.a,{lg:12,xs:12},m.a.createElement(Z.a,{monthly:!0,name:"toDate",label:m.a.createElement(k.Trans,{id:"Date resigned"}),placeholder:n._({id:"Date resigned"}),disabled:c.isPresent||e.isPresent,className:"width-100",disabledDate:function(e){return e&&e>L()()}})),m.a.createElement(i.a,{lg:24},m.a.createElement(me.a,{name:"isPrivateTutor"},m.a.createElement(k.Trans,{id:"I was a private tutor"}))),m.a.createElement(i.a,{lg:24},m.a.createElement(me.a,{name:"isPresent"},m.a.createElement(k.Trans,{id:"I'm currently working here"})))),m.a.createElement(F.a,{type:"primary",disabled:!l},m.a.createElement(k.Trans,{id:"Update"}))," ","\xa0"," ",m.a.createElement(M.a,{title:m.a.createElement(k.Trans,{id:"Delete this experience?"}),onConfirm:function(){return u(e.subject.name)}},m.a.createElement(d.e,{icon:"close"},"\xa0 ",m.a.createElement(k.Trans,{id:"Delete"}))),m.a.createElement(_.a,null))}))}))}var fe=Object(k.withI18n)()((function(e){var t=e.onNext,a=e.onPrev,c=(e.onExperiences,e.data),u=e.fetchUser,b=(e.loading,e.i18n),p=Object(s.useState)([]),f=Object(o.a)(p,2),E=f[0],v=f[1],h=Object(s.useState)(!1),g=Object(o.a)(h,2),j=g[0],S=g[1],x=Object(G.b)(0,!0).options,P=Object(s.useState)([]),D=Object(o.a)(P,2),C=D[0],N=D[1],w="non_academic"===localStorage.getItem("onboarding_preferrable_field"),A=c.dataSubjects,Y=void 0===A?{}:A,B=c.dataLevels,I=void 0===B?{}:B,M=c.userData,U=void 0===M?{}:M,V=Object(O.b)(T.D,{client:y.d.profileClient,onCompleted:function(){u(),q.a.success(b._({id:"The experience item has been added"}),2)},onError:function(e){return Object(y.q)(e)}}),F=(Object(o.a)(V,1)[0],Object(O.b)(T.q,{client:Object(y.k)(),onCompleted:function(){u(),S(!1)},onError:function(e){return Object(y.q)(e)}})),R=Object(o.a)(F,1)[0],J=Object(O.b)(T.I,{client:y.d.profileClient,onCompleted:function(){u().then((function(){q.a.success(b._({id:"The experience item has been updated"}),2),S(!1)}))},onError:function(e){return Object(y.q)(e)}}),W=Object(o.a)(J,1)[0],Q=Object(O.b)(T.a,{client:Object(y.k)(),onCompleted:function(){u().then((function(){q.a.success(b._({id:"The experience item has been deleted"}),2),S(!1)}))},onError:function(e){return Object(y.q)(e)}}),X=Object(o.a)(Q,1)[0],K=Object(O.b)(T.b,{client:Object(y.k)(),onCompleted:function(){return N([])},onError:function(e){return Object(y.q)(e)}}),Z=Object(o.a)(K,1)[0],$=Object(O.b)(T.c,{client:Object(y.k)(),onCompleted:function(){S(!1),u().then((function(){return q.a.success(b._({id:"The experience item has been deleted"}),2)}))},onError:function(e){return Object(y.q)(e)}}),ee=Object(o.a)($,1)[0],te=(I.getProgrammeLevelList||[]).map((function(e){return{value:e.name,label:e.name}})),ae=(Y.getProgrammeSubjectList||[]).map((function(e){return{value:e.name,label:e.name}}));return ae=w?x:ae,Object(s.useEffect)((function(){v(w?U.experienceNonAcademicList:U.experienceList)}),[w,U.experienceList,U.experienceNonAcademicList]),m.a.createElement(i.a,{lg:16,xs:24,style:{padding:"2em"}},m.a.createElement(d.l,{content:m.a.createElement(k.Trans,{id:"Tutoring experiences"}),subheader:m.a.createElement(k.Trans,{id:"Please fill in your tutoring experiences"}),level:4,marginBottom:"2em"}),m.a.createElement(pe,{isAdding:j,i18n:b,data:{isNonAcademic:w,levelOptions:te,subjectOptions:ae,userExperiences:E},handlers:{handleSave:function(e,t){var a=t.setSubmitting,n=e.hasOwnProperty("pvid"),r=L()(e.fromDate).format("YYYY-MM-DD"),i=e.isPresent?L()().format("YYYY-MM-DD"):L()(e.toDate).format("YYYY-MM-DD"),c=e.isPrivateTutor?"-":e.institution||"-";if(w)e={subject:Array.isArray(e.subject)?e.subject.join(" > "):e.subject,isNonAcademic:!0,isStore:!n,level:[{pvid:e.pvid||"",fromDate:r,toDate:i,institution:c,isPrivateTutor:e.isPrivateTutor,isPresent:e.isPresent,curriculum:""}]};else{var o=e,u=(o.subject,Object(z.a)(o,["subject"])),s=e.curriculum.map((function(t){var a,n,o=E.findIndex((function(t){return t.subject.name===e.subject})),s=(null===(a=E[o])||void 0===a||null===(n=a.subject)||void 0===n?void 0:n.level.find((function(e){return e.curriculum===t})))||{};return Object(l.a)({},u,{pvid:s.pvid||"",curriculum:t,fromDate:r,toDate:i,institution:c})}));e={subject:e.subject,isNonAcademic:!1,isStore:!n,level:s}}if(n){var m=e,d=(m.source,Object(z.a)(m,["source"]));e=d}if(C.length>0){var b=C.map((function(e){return e.pvid})).filter((function(e){return Boolean(e)}));Z({variables:{pvidList:b}})}(w?R:W)({variables:{list:e}}).finally((function(){return a(!1)}))},handleCancel:function(){v(U.experienceList),S(!1)},handleDelete:function(e){(w?ee:X)({variables:{subject:e}})},handleDeleteLocalLevels:function(e){return function(t){var a,n,r=E.findIndex((function(t){return t.subject.name===e})),i=(null===(a=E[r].subject)||void 0===a||null===(n=a.level)||void 0===n?void 0:n.find((function(e){return e.curriculum===t})))||{};N((function(e){return[].concat(Object(H.a)(e),[i])}))}}}}),!j&&m.a.createElement("div",{style:{marginBottom:"2em"}},m.a.createElement(d.d,{block:!0,type:"dashed",size:"medium",icon:"plus",onClick:function(){return S(!0)},style:{marginBottom:"2em"}},"\xa0 ",m.a.createElement(k.Trans,{id:"Add a new experience"}))),m.a.createElement(_.a,{className:"mb4em"}),m.a.createElement(r.a,{type:"flex",justify:"space-between"},m.a.createElement(i.a,{lg:12,xs:24},m.a.createElement(d.e,{type:"primary",block:y.j,size:"large",onClick:function(){return a("educations")}},m.a.createElement(k.Trans,{id:"<0/> Back to Educations",components:[m.a.createElement(n.a,{type:"left"})]}))),m.a.createElement(i.a,{lg:12,xs:24,style:{textAlign:!y.j&&"right"}},m.a.createElement(d.d,{type:"primary",block:y.j,size:"large",htmlType:"submit",onClick:function(){return t("certifications")}},m.a.createElement(k.Trans,{id:"Go to Certifications <0/>",components:[m.a.createElement(n.a,{type:"right"})]})))))})),Ee=a(305),ve=a(1353),he=a(32);function ge(){var e=Object(u.a)(["\n\ttext-align: center;\n\tdisplay: block;\n\tpadding: 2em;\n\tbackground: #f3f3f3;\n\tborder-radius: 8px;\n\tmargin-bottom: 2em;\n\th4 {\n\t\tfont-size: 1.2em;\n\t}\n\t> p {\n\t\tfont-size: 4em;\n\t}\n"]);return ge=function(){return e},e}function je(){var e=Object(u.a)(["\n\tposition: relative;\n\t&:hover {\n\t\t.delete {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tvisibility: visible;\n\t\t}\n\t}\n\t.delete {\n\t\tdisplay: none;\n\t\tcursor: pointer;\n\t\tvisibility: hidden;\n\t\tposition: absolute;\n\t\tright: 0;\n\t\tborder-radius: 50%;\n\t\twidth: 25px;\n\t\tcolor: #ff9d00;\n\t\theight: 25px;\n\t\tz-index: 99;\n\t\t&:hover {\n\t\t\tbackground: #eee;\n\t\t}\n\t}\n\t.ant-upload.ant-upload-select {\n\t\tdisplay: block;\n\t}\n"]);return je=function(){return e},e}var ye=p.b.div(je()),Oe=p.b.div(ge()),Te=Ee.h.map((function(e){return{value:String(e),label:e}}));var Se=ve.object().shape({name:ve.string().required("You have to tell the name of the certificate"),issuer:ve.string().required("You have to tell the issuer"),issuedDate:ve.string().required("You have to tell when the certificate is issued")}),xe=Object(k.withI18n)()(Object(b.j)((function(e){var t=e.onPrev,a=e.history,c=e.onCertifications,u=e.fetchUser,b=e.i18n,p=c.certifications,f=void 0===p?[]:p,E=(c.setCertifications,Object(s.useState)(!1)),v=Object(o.a)(E,2),h=v[0],g=v[1],j=Object(s.useState)({file:"",imagePreview:""}),S=Object(o.a)(j,2),x=S[0],P=S[1],D=Object(O.b)(T.M,{client:y.d.resourceClient,onCompleted:function(e){P((function(t){return Object(l.a)({},t,{actual:(e.uploadCertification||{}).path})}))}}),C=Object(o.a)(D,2),Y=C[0],L=C[1].loading,B=Object(O.b)(T.r,{client:y.d.profileClient,onCompleted:function(){u(),q.a.success(b._({id:"Your certificate has been added"}))},onError:function(e){return Object(y.q)(e)}}),I=Object(o.a)(B,1)[0],H=Object(O.b)(T.j,{client:y.d.profileClient,onCompleted:function(){u(),q.a.success(b._({id:"Your certificate has been updated"}))},onError:function(e){return Object(y.q)(e)}}),U=Object(o.a)(H,1)[0],z=Object(O.b)(T.w,{client:y.d.profileClient,onCompleted:function(){u(),q.a.success(b._({id:"Your certificate has been deleted"}))},onError:function(e){return Object(y.q)(e)}}),R=Object(o.a)(z,1)[0],G=function(){g(!1),P({})},J=function(e){var t=new FileReader;return t.onloadend=function(){P((function(a){return Object(l.a)({},a,{file:e,imagePreview:t.result})}))},t.readAsDataURL(e),!1},W=function(e,t){var a=t.setSubmitting,n=e.hasOwnProperty("pvid");n||(e=Object(l.a)({},e,{relativePath:x.actual,issuedDate:e.issuedDate+"/01/01"})),(n?U:I)({variables:e}).finally((function(){g(!1),a(!1),P({})}))},Q=function(){Y({variables:{file:x.file}})};return m.a.createElement(i.a,{lg:16,xs:24,style:{padding:"2em"}},m.a.createElement(d.l,{content:m.a.createElement(k.Trans,{id:"Certifications"}),subheader:m.a.createElement(k.Trans,{id:"Please fill in your certifications"}),level:4,marginBottom:"2em"}),0===f.length&&!h&&m.a.createElement(d.j,{description:m.a.createElement(k.Trans,{id:"No certifications for now"})}),h?m.a.createElement(w.b,{onSubmit:W,initialValues:{name:"",issuer:""},validationSchema:Se},(function(e){var t=e.handleSubmit;return m.a.createElement(N.a,{layout:"vertical",onSubmit:t,style:{marginBottom:"2em"}},m.a.createElement(ye,null,x.file?x.actual?m.a.createElement(d.a,{type:"success",showIcon:!0,message:m.a.createElement(k.Trans,{id:"Your certificate is uploaded. Now please fill in the details of the certificate."})}):m.a.createElement(d.d,{block:!0,type:"dashed",icon:"upload",loading:L,style:{marginBottom:"2em"},onClick:Q},"\xa0 ",m.a.createElement(k.Trans,{id:"Upload this certificate now"})):m.a.createElement(d.y,{beforeUpload:J,multiple:!1,listType:"picture",style:{marginBottom:"2em",display:"block"}},m.a.createElement(Oe,null,m.a.createElement("p",null,m.a.createElement(n.a,{type:"inbox"})),m.a.createElement(d.l,{content:m.a.createElement(k.Trans,{id:"Drag and drop your certification"}),subheader:m.a.createElement(k.Trans,{id:"Supported formats: .pdf, .doc, .docx, .png, .jpg, .jpeg"}),level:4}))),m.a.createElement(A.a,{name:"name",placeholder:b._({id:"Name of certification"}),label:m.a.createElement(k.Trans,{id:"Name of certification"}),disabled:!x.actual}),m.a.createElement(r.a,{gutter:16},m.a.createElement(i.a,{lg:16},m.a.createElement(A.a,{name:"issuer",placeholder:b._({id:"Issuer"}),label:m.a.createElement(k.Trans,{id:"Issuer"}),disabled:!x.actual})),m.a.createElement(i.a,{lg:8},m.a.createElement(V.a,{name:"issuedDate",placeholder:b._({id:"Year issued"}),options:Te,label:m.a.createElement(k.Trans,{id:"Year issued"}),disabled:!x.actual})))),m.a.createElement(F.a,{type:"primary",size:"large"},m.a.createElement(k.Trans,{id:"Save changes"}))," ","\xa0",m.a.createElement(d.e,{size:"large",onClick:G},m.a.createElement(k.Trans,{id:"Cancel"})))})):m.a.createElement(m.a.Fragment,null,f.map((function(e,t){var a=e.name,n=void 0===a?"":a,c=e.issuer,l=void 0===c?"":c,o=e.issuedDate,u=void 0===o?"":o,s=e.pvid;return m.a.createElement(m.a.Fragment,null,m.a.createElement(w.b,{onSubmit:W,initialValues:{pvid:Number(s),name:n,issuer:l,issuedDate:u}},(function(t){var a=t.handleSubmit,n=t.dirty;return m.a.createElement(N.a,{layout:"vertical",onSubmit:a,style:{marginBottom:"2em"}},m.a.createElement(ye,null,m.a.createElement(A.a,{name:"name",placeholder:b._({id:"Name of certification"}),label:m.a.createElement(k.Trans,{id:"Name of certification"})}),m.a.createElement(r.a,{gutter:16},m.a.createElement(i.a,{lg:16},m.a.createElement(A.a,{name:"issuer",placeholder:b._({id:"Issuer"}),label:m.a.createElement(k.Trans,{id:"Issuer"})})),m.a.createElement(i.a,{lg:8},m.a.createElement(V.a,{name:"issuedDate",placeholder:b._({id:"Year issued"}),options:Te,label:m.a.createElement(k.Trans,{id:"Year issued"})}))),m.a.createElement(F.a,{type:"primary",disabled:!n},m.a.createElement(k.Trans,{id:"Update certificate"}))," ","\xa0"," ",m.a.createElement(M.a,{title:m.a.createElement(k.Trans,{id:"Delete this certificate?"}),onConfirm:function(){return function(e){return R({variables:{pvid:Number(e)}})}(e.pvid)}},m.a.createElement(d.e,{icon:"close"},"\xa0",m.a.createElement(k.Trans,{id:"Delete"})))))})),t!==f.length-1&&m.a.createElement(_.a,null))})),m.a.createElement(d.d,{block:!0,type:"dashed",size:"medium",icon:"plus",onClick:function(){g(!0)},style:{marginBottom:"2em"}},"\xa0 ",m.a.createElement(k.Trans,{id:"Add a new certificate"}))),m.a.createElement(_.a,{className:"mb4em"}),m.a.createElement(r.a,{type:"flex",justify:"space-between"},m.a.createElement(i.a,{lg:12,xs:24},m.a.createElement(d.e,{type:"primary",block:y.j,size:"large",onClick:function(){return t("experiences")}},m.a.createElement(k.Trans,{id:"<0/> Back to Experiences",components:[m.a.createElement(n.a,{type:"left"})]}))),m.a.createElement(i.a,{lg:12,xs:24,style:{textAlign:!y.j&&"right"}},m.a.createElement(d.d,{type:"primary",block:y.j,size:"large",onClick:function(){a.push("/".concat(he.d,"/profile/info/thankyou"))}},m.a.createElement(k.Trans,{id:"Next <0/>",components:[m.a.createElement(n.a,{type:"right"})]})))))})));function Pe(){var e=Object(u.a)(["\n        && {\n            h2 {\n                line-height: 1;\n                margin-bottom: .5em;\n            }\n        }\n    "]);return Pe=function(){return e},e}function ke(){var e=Object(u.a)(["\n\t","\n"]);return ke=function(){return e},e}function De(){var e=Object(u.a)(["\n        && {\n            .steps {\n                width: 100%;\n                overflow-x: scroll;\n            }\n        }\n    "]);return De=function(){return e},e}function Ce(){var e=Object(u.a)(["\n\theight: 100%;\n\tposition: relative;\n\tpadding: 0;\n\t/* background: url(",') no-repeat; */\n\tbackground-size: cover;\n\tbackground-blend-mode: darken;\n\tborder-radius: 10px 0 0 10px;\n\t&:before {\n\t\tcontent: "";\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tposition: absolute;\n\t\tbackground-color: ',";\n\t\tz-index: 0;\n\t}\n\t&& {\n\t\t.steps {\n\t\t\tpadding-left: 4em;\n\t\t\tpadding-top: 3em;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tcolor: #fff;\n\t\t\t.ant-steps-item-title {\n\t\t\t\tcolor: #fff;\n\t\t\t}\n\t\t}\n\t}\n\n\t","\n"]);return Ce=function(){return e},e}function Ne(){var e=Object(u.a)(["\n\tposition: relative;\n\t.ant-card-body {\n\t\tpadding: 0;\n\t\t.ant-card-meta {\n\t\t\tdisplay: none;\n\t\t\tvisibility: hidden;\n\t\t}\n\t\timg {\n\t\t\tborder-radius: 10px 0 0 10px;\n\t\t}\n\t}\n"]);return Ne=function(){return e},e}var _e=Object(p.b)(d.g).attrs({autoHeight:!0,noHover:!0})(Ne()),we=Object(p.b)(d.u)(Ce(),x.a,C.a.primaryColorRgba,y.i.mobile(De())),Ae=Object(p.b)(d.l)(ke(),y.i.mobile(Pe())),Ye={aboutme:{firstName:"",lastName:"",dob:Date.now(),nric:"",phone:"",gender:"",race:"",address:"",description:""},subjects:[{pvid:E()(),programmeLevelPvid:"",programmeSubjectPvid:"",pricePerHour:0,orderList:0},{pvid:E()(),programmeLevelPvid:"",programmeSubjectPvid:"",pricePerHour:0,orderList:0}],educations:[{id:E()(),institution:"",monthFrom:"01",monthTo:"01",yearFrom:"2000",yearTo:"2000",isPresent:!1},{id:E()(),institution:"",monthFrom:"01",monthTo:"01",yearFrom:"2000",yearTo:"2000",isPresent:!1}],experiences:[{id:E()(),curriculum:"",level:"",subject:"",monthFrom:"01",monthTo:"01",yearFrom:"2000",yearTo:"2000",institution:"",isPrivateTutor:!1,isPresent:!1},{id:E()(),curriculum:"",level:"",subject:"",monthFrom:"01",monthTo:"01",yearFrom:"2000",yearTo:"2000",institution:"",isPrivateTutor:!1,isPresent:!1}]},Le=function(e){switch(e){case"name":return 0;case"preferfield":return 1;case"aboutme":return 2;case"subjects":return 3;case"educations":return 4;case"experiences":return 5;case"certifications":return 6;case"done":return 7;default:return-1}},Be=Object(y.k)("programme");t.default=Object(b.j)(Object(k.withI18n)()((function(e){var t=e.history,a=e.location,u=e.country,p=e.i18n,f=(a.pathname||"").split("/")[4],E=JSON.parse(localStorage.getItem("userDetails"))||{},v=Object(O.c)(P.c,{client:Be,variables:{country:E.country}}).data,g=void 0===v?{}:v,S=Object(O.c)(P.b,{client:Be,variables:{country:E.country}}).data,x=void 0===S?{}:S,C=Object(O.c)(P.a,{client:Be,variables:{country:E.country}}).data,N=void 0===C?{}:C,_=Object(s.useState)(Le(f)),w=Object(o.a)(_,2),A=w[0],Y=w[1],L=Object(s.useState)(""),B=Object(o.a)(L,2),M=B[0],H=B[1],U=Object(s.useState)(Ye.educations),z=Object(o.a)(U,2),q=z[0],V=z[1],F=Object(s.useState)(Ye.experiences),R=Object(o.a)(F,2),G=R[0],J=R[1],W=Object(s.useState)([]),X=Object(o.a)(W,2),K=X[0],Z=X[1],$=Object(s.useState)({}),ee=Object(o.a)($,2),ae=ee[0],ne=ee[1],re=Object(O.b)(T.Q,{client:Object(y.k)(),onCompleted:function(e){e=e.getProfile||{},ne(e),H(e.description),Z(e.certificateList)}}),ie=Object(o.a)(re,2),ce=ie[0],le=ie[1].loading,oe=Object(O.b)(T.J,{client:Object(y.k)("account"),onCompleted:function(e){ne(e),ce()}}),ue=Object(o.a)(oe,1)[0],me=function(e,t){ue({variables:Object(l.a)({},e)}).then((function(){return be(t)}))},be=function(e){Y((function(e){return e+1})),t.push("/".concat(u,"/profile/onboarding_steps/").concat(e.toLowerCase()))},pe=function(e){Y((function(e){return e-1})),t.push("/".concat(u,"/profile/onboarding_steps/").concat(e.toLowerCase()))},Ee=Le(f);return Object(s.useEffect)((function(){var e="true"===localStorage.getItem("firstTime");localStorage.getItem("token")&&e||t.push("/".concat(u,"/404")),ce(),Y(Ee)}),[u,t,Ee]),m.a.createElement(r.a,{type:"flex",justify:"center",align:"middle",style:{marginTop:!y.j&&"2em"}},m.a.createElement(i.a,{lg:20,xs:24},m.a.createElement(d.u,{textAlign:"center",centered:!0,width:y.j?"100%":"80%"},m.a.createElement(Ae,{content:m.a.createElement(k.Trans,{id:"You are almost done"}),subheader:m.a.createElement(k.Trans,{id:"A better profile is the one that has a lot of informations to dig in. Therefore, it's recommended for you, as a tutor, to fill out additional informations you might have to complete your profile."})})),m.a.createElement(_e,null,m.a.createElement(d.h,{src:h.a,bottom:"-140px",left:"-180px",style:{zIndex:-1}}),m.a.createElement(d.h,{src:j.a,width:"200px",top:"-90px",right:"-90px",style:{zIndex:-1}}),m.a.createElement(r.a,{type:"flex"},!y.j&&m.a.createElement(i.a,{lg:8,xs:24},m.a.createElement(we,null,m.a.createElement("div",{className:"steps"},m.a.createElement(d.v,{progressDot:!0,current:A,steps:["Name","Prefer field","About me","Subjects","Educations","Experiences","Certifications","Done"]})),m.a.createElement("div",null,m.a.createElement(D.a,{src:"https://assets1.lottiefiles.com/packages/lf20_IJauXS.json",style:{width:"100%",height:"80%",position:"relative",top:70}})))),m.a.createElement(b.d,null,m.a.createElement(b.a,{exact:!0,from:"/".concat(u,"/profile/onboarding_steps"),to:"/".concat(u,"/profile/onboarding_steps/name")}),m.a.createElement(b.b,{path:"/:country/profile/onboarding_steps/name",render:function(){return m.a.createElement(I,{onActiveStep:{activeStep:A,setActiveStep:Y},handlers:{handleNext:be,handleUpdateProfile:me},onAboutme:{aboutme:M,setAboutme:H},onData:{userData:ae,setUserData:ne,initialValues:Ye.aboutme}})}}),m.a.createElement(b.b,{path:"/:country/profile/onboarding_steps/preferfield",render:function(){return m.a.createElement(se,{onActiveStep:{activeStep:A,setActiveStep:Y},handlers:{handleNext:be,handleUpdateProfile:me},onAboutme:{aboutme:M,setAboutme:H},onData:{userData:ae,setUserData:ne,initialValues:Ye.aboutme}})}}),m.a.createElement(b.b,{path:"/:country/profile/onboarding_steps/aboutme",render:function(){return m.a.createElement(te,{onActiveStep:{activeStep:A,setActiveStep:Y},handlers:{handleNext:be,handlePrev:pe,handleUpdateProfile:me},onAboutme:{aboutme:M,setAboutme:H},onData:{userData:ae}})}}),m.a.createElement(b.b,{path:"/:country/profile/onboarding_steps/subjects",render:function(){return m.a.createElement(Q,{onActiveStep:{activeStep:A,setActiveStep:Y},handlers:{handleNext:be,handlePrev:pe},onData:{userData:ae},loading:le,fetchUser:ce})}}),m.a.createElement(b.b,{path:"/:country/profile/onboarding_steps/educations",render:function(){return m.a.createElement(de,{onActiveStep:{activeStep:A,setActiveStep:Y},onNext:be,onPrev:pe,onData:{userData:ae},onEducations:{educations:q,setEducations:V},loading:le,fetchUser:ce})}}),m.a.createElement(b.b,{path:"/:country/profile/onboarding_steps/experiences",render:function(){return m.a.createElement(fe,{onActiveStep:{activeStep:A,setActiveStep:Y},onNext:be,onPrev:pe,data:{dataSubjects:g,dataCurriculums:N,dataLevels:x,userData:ae},onExperiences:{experiences:G,setExperiences:J},fetchUser:ce,loading:le})}}),m.a.createElement(b.b,{path:"/:country/profile/onboarding_steps/certifications",render:function(){return m.a.createElement(xe,{onActiveStep:{activeStep:A,setActiveStep:Y},onNext:be,onPrev:pe,fetchUser:ce,onCertifications:{certifications:K,setCertifications:Z}})}})))),m.a.createElement(d.u,{centered:!0,textAlign:"center"},A>0&&m.a.createElement(d.e,{onClick:function(){c.a.confirm({title:p._({id:"Skip this?"}),content:p._({id:"Are you sure want to skip this at the moment?"}),centered:!0,onOk:function(){t.push("/".concat(u))}})}},m.a.createElement(k.Trans,{id:"Let me fill out everything later <0/>",components:[m.a.createElement(n.a,{type:"right"})]})))))})))}}]);
//# sourceMappingURL=15.f9f2a387.chunk.js.map