(this.webpackJsonpcudysg=this.webpackJsonpcudysg||[]).push([[70],{1321:function(e,t,n){"use strict";n.r(t);n(568);var a=n(367),r=(n(282),n(99)),i=n(155),l=(n(365),n(115)),o=(n(154),n(61)),c=n(28),m=n(19),d=n(3),s=n(0),u=n.n(s),f=n(43),p=n(10),b=n(1145),h=n(368),E=n(364),v=n(66),k=n(82),g=n(13),y=n(80),O=n(177),j=n(1083),T=n(5);function P(){var e=Object(d.a)(["\n\tposition: relative;\n\tmargin-bottom: 2em;\n\t&:hover {\n\t\t.delete {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tvisibility: visible;\n\t\t}\n\t}\n\t.delete {\n\t\tdisplay: none;\n\t\tcursor: pointer;\n\t\tvisibility: hidden;\n\t\tposition: absolute;\n\t\tright: 0;\n\t\tborder-radius: 50%;\n\t\twidth: 25px;\n\t\tcolor: #ff9d00;\n\t\theight: 25px;\n\t\tz-index: 99;\n\t\t&:hover {\n\t\t\tbackground: #eee;\n\t\t}\n\t}\n"]);return P=function(){return e},e}var S=p.b.div(P());Object(g.l)();var C=function(e){return function(t){var n={};return t.link?t.link.length<8?n.link="Are you sure this is the correct URL?":(t.link.includes("twitter")||t.link.includes("facebook")||t.link.includes("linkedin")||t.link.includes("instagram"))&&(n.link=e._({id:"This section is not meant to fill in your social media accounts"})):n.link=e._({id:"You have to fill in the URL link"}),n}};t.default=Object(T.withI18n)()((function(e){var t=e.onOtherPlat,n=e.onEditMode,d=e.unauthorizedUser,p=e.i18n,P=Object(m.a)(e,["onOtherPlat","onEditMode","unauthorizedUser","i18n"]),L=P.loading,_=P.fetchUser,U=n.editMode,z=n.setEditMode,B=t.userOtherPlat,w=(t.setUserOtherPlat,Object(s.useState)([])),x=Object(c.a)(w,2),I=x[0],M=x[1],R=Object(s.useState)(!1),N=Object(c.a)(R,2),Y=N[0],A=N[1],q=Object(b.a)(h.d,"profileClient").data.getOtherPlatformMasterList,D=void 0===q?[]:q,H=Object(v.b)(k.n,{client:g.e.profileClient,onCompleted:function(){A(!1),z(!1)},onError:function(e,t){return Object(g.q)(e)}}),J=Object(c.a)(H,1)[0],V=Object(v.b)(k.u,{client:g.e.profileClient,onCompleted:function(e){A(!1),z(!1)},onError:function(e,t){return Object(g.q)(e)}}),F=Object(c.a)(V,1)[0],G=D.map((function(e){return{value:e.pvid,label:e.name}})),K=function(){A(!1),z(!1),M(B)},Q=function(e,t){var n=t.setSubmitting,a=e.hasOwnProperty("pvid");if(a){var r=e;r.source;e=Object(m.a)(r,["source"])}J({variables:{list:e}}).then((function(){_(),o.a.success(p._({id:"The platform item has been {0}",values:{0:a?"updated":"added"}}),2)})),n(!1)};return Object(s.useEffect)((function(){M(B)}),[B]),L?u.a.createElement(f.o,null):u.a.createElement(f.u,{paddingHorizontal:0,noPadding:g.k,marginBottom:0},"otherplatforms"===U?Y?u.a.createElement(y.c,{onSubmit:Q,validate:C(p),initialValues:{otherPlatformPvid:void 0}},(function(e){var t=e.handleSubmit;return u.a.createElement(r.a,{layout:"vertical",onSubmit:t,style:{marginBottom:"2em"}},u.a.createElement(E.a,{name:"otherPlatformPvid",label:u.a.createElement(T.Trans,{id:"Name of platform"}),placeholder:p._({id:"Name of platform"}),options:G,marginBottom:"10px"}),u.a.createElement(O.a,{name:"link",addonBefore:"https://",label:u.a.createElement(T.Trans,{id:"Profile's URL"}),placeholder:p._({id:"Your profile's URL"})}),u.a.createElement(j.a,{block:!0},u.a.createElement(T.Trans,{id:"Save this platform"}))," ","\xa0"," ",u.a.createElement(f.e,{block:!0,onClick:K},u.a.createElement(T.Trans,{id:"Cancel"})))})):u.a.createElement(u.a.Fragment,null,I.map((function(e){return u.a.createElement(y.c,{key:e.pvid,onSubmit:Q,initialValues:e},(function(t){var n=t.handleSubmit;return u.a.createElement(S,null,u.a.createElement(r.a,{layout:"vertical",onSubmit:n},u.a.createElement(E.a,{name:"otherPlatformPvid",label:u.a.createElement(T.Trans,{id:"Name of platform"}),placeholder:p._({id:"Name of platform"}),options:G,marginBottom:"10px"}),u.a.createElement(O.a,{name:"link",addonBefore:"https://",label:u.a.createElement(T.Trans,{id:"Profile's URL"}),placeholder:p._({id:"Your profile's URL"})})),u.a.createElement(j.a,{type:"primary",className:"mb1em",block:!0},"\xa0 ",u.a.createElement(T.Trans,{id:"Update"}))," ","\xa0"," ",u.a.createElement(a.a,{title:u.a.createElement(T.Trans,{id:"Delete this platform?"}),onConfirm:function(){return function(e){var t=I.find((function(t){return t.pvid===e}))||{};F({variables:{pvidList:[t.pvid]}}).then((function(){_(),o.a.success(p._({id:"The platform item has been deleted"}),2)}))}(e.pvid)}},u.a.createElement(f.e,{icon:"close",block:!0},"\xa0 ",u.a.createElement(T.Trans,{id:"Delete"}))))}))})),u.a.createElement(f.d,{block:!0,type:"dashed",size:"medium",icon:"plus",onClick:function(){A(!0),M((function(e){return[].concat(Object(i.a)(e),[{otherPlatformPvid:"",link:""}])}))},style:{marginBottom:"2em"}},"\xa0 ",u.a.createElement(T.Trans,{id:"Add a new platform"})),u.a.createElement(f.e,{block:!0,icon:"close",onClick:function(){return z(!1)}},"\xa0 ",u.a.createElement(T.Trans,{id:"Cancel"}))):d?0===I.length?u.a.createElement(f.j,{cudyLogo:!0,description:u.a.createElement(T.Trans,{id:"This tutor is exclusive to Cudy"})}):u.a.createElement(l.a,{itemLayout:"horizontal",dataSource:I,renderItem:function(e){var t=e.source,n=void 0===t?{}:t,a=e.link;return u.a.createElement(l.a.Item,null,u.a.createElement(l.a.Item.Meta,{avatar:n&&u.a.createElement(f.b,{src:n.iconLink||"",size:"large"}),title:n&&n.name||"",description:u.a.createElement("a",{href:a,target:"__blank"},u.a.createElement(T.Trans,{id:"See my profile \u2197"}))}))}}):0===I.length?u.a.createElement(f.u,{centered:!0,paddingHorizontal:0,marginBottom:0},u.a.createElement(f.j,{description:u.a.createElement(T.Trans,{id:"You haven't set any platforms yet"})}),u.a.createElement(f.d,{icon:"plus",type:"primary",onClick:function(){return z("otherplatforms")}},"\xa0 ",u.a.createElement(T.Trans,{id:"Add one"}))):u.a.createElement(l.a,{itemLayout:"horizontal",dataSource:I,renderItem:function(e){var t=e.source,n=void 0===t?{}:t,a=e.link;return u.a.createElement(l.a.Item,null,u.a.createElement(l.a.Item.Meta,{avatar:n&&u.a.createElement(f.b,{src:n.iconLink,size:"large"}),title:n&&n.name,description:u.a.createElement("a",{href:a,target:"__blank"},u.a.createElement(T.Trans,{id:"See my profile \u2197"}))}))}}))}))}}]);
//# sourceMappingURL=70.d1211130.chunk.js.map