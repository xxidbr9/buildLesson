(this.webpackJsonpcudysg=this.webpackJsonpcudysg||[]).push([[44],{1261:function(e,t,a){e.exports=a.p+"static/media/for-login.912d9008.svg"},1352:function(e,t,a){"use strict";a.r(t);a(282);var n=a(99),r=(a(98),a(23)),o=a(26),i=a(28),c=(a(91),a(34)),l=a(3),s=a(0),u=a.n(s),m=a(39),d=a(27),p=a(80),g=a(10),b=a(66),E=a(5),f=a(1096),h=a(43),y=a(177),v=a(370),k=a(392),w=a(13),j=a(29),T=a(1261),O=a.n(T);function S(){var e=Object(l.a)(["\n\tbackground-color: #fff;\n"]);return S=function(){return e},e}function I(){var e=Object(l.a)(["\n\tbackground-image: ",";\n\tbackground-size: 25em;\n\tbackground-repeat: no-repeat;\n\tbackground-position: center;\n\tposition: relative;\n\theight: 100vh;\n\timg {\n\t\tposition: absolute;\n\t\tleft: 30px;\n\t\ttop: 20px;\n\t\tcursor: pointer;\n\t}\n"]);return I=function(){return e},e}var _=g.b.div(I(),"url(".concat(O.a,")")),x=Object(g.b)(c.a)(S());var q=function(e){return f.object().shape({email:f.string().required(e._({id:"This is required"})).email(e._({id:"Please enter a valid email"})),password:f.string().required(e._({id:"This is required"}))})};t.default=Object(E.withI18n)()(Object(d.j)((function(e){var t=e.history,a=e.location,l=e.i18n,d=new URLSearchParams(a.search),g=(a.state||{}).previousRoute||"",f=Object(s.useState)(null),T=Object(i.a)(f,2),O=T[0],S=T[1],I=Object(b.b)(v.c,Object(k.a)(S,d.get("from"),g)),B=Object(i.a)(I,2),C=B[0],L=B[1].loading,z=(a.state||{}).notLoggedIn;return Object(s.useEffect)((function(){localStorage.getItem("token")&&t.push("/".concat(j.d))}),[t]),u.a.createElement(x,null,!w.k&&u.a.createElement(r.a,{lg:12},u.a.createElement(_,null,u.a.createElement(h.p,{onClick:function(){return t.push("/".concat(j.d))}}))),u.a.createElement(r.a,{lg:12},w.k&&u.a.createElement(c.a,{type:"flex",justify:"center",style:{paddingTop:"2em"}},u.a.createElement(r.a,{lg:12},u.a.createElement(h.p,{onClick:function(){return t.push("/".concat(j.d))}}))),u.a.createElement(h.u,{style:{marginTop:"3em",marginBottom:0}},u.a.createElement(h.l,{content:u.a.createElement(E.Trans,{id:"Welcome back!"}),subheader:u.a.createElement(E.Trans,{id:"Please login into your account to continue using Cudy"})})),z&&u.a.createElement(h.u,null,u.a.createElement(h.a,{type:"warning",showIcon:!0,message:"Login first",description:z,className:"mb0"})),u.a.createElement(h.u,{marginBottom:0},u.a.createElement(p.c,{onSubmit:function(e){C({variables:Object(o.a)({},e)})},validationSchema:q(l),initialValues:{email:"",password:""}},(function(e){var a=e.handleSubmit;return u.a.createElement(n.a,{onSubmit:a,layout:"vertical"},u.a.createElement(y.a,{type:"email",label:u.a.createElement(E.Trans,{id:"Your email"}),name:"email",placeholder:l._({id:"Enter your email"})}),u.a.createElement(y.a,{password:!0,type:"password",label:u.a.createElement(E.Trans,{id:"Your password"}),name:"password",placeholder:l._({id:"Enter your password"})}),O&&10010===O.code&&u.a.createElement(h.u,{paddingHorizontal:0},u.a.createElement(h.a,{message:"Not verified",description:u.a.createElement(E.Trans,{id:"<0>It looks like your account is not verified yet. <1>Send me another email verification</1></0>",components:[u.a.createElement("span",null),u.a.createElement(m.b,{to:"/".concat(j.d,"/account/resend_email")})]}),type:"error",showIcon:!0})),u.a.createElement(h.u,{paddingHorizontal:0,textAlign:"right",style:{paddingTop:0},marginBottom:"very"},u.a.createElement(m.b,{to:"/".concat(j.d,"/forgot")},u.a.createElement(E.Trans,{id:"Forgot you password?"}))),u.a.createElement(c.a,{gutter:24},u.a.createElement(r.a,{lg:12,style:{marginBottom:w.k&&"1em"}},u.a.createElement(h.d,{type:"primary",htmlType:"submit",loading:L,block:!0},u.a.createElement(E.Trans,{id:"Login now"})))," ",u.a.createElement(r.a,{lg:12},u.a.createElement(h.d,{block:!0,type:"ghost",htmlType:"button",onClick:function(){return t.push("/".concat(j.d,"/register"))}},u.a.createElement(E.Trans,{id:"Sign up instead"})))))})))))})))}}]);