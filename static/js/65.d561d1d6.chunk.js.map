{"version":3,"sources":["pages/ResultPayment/index.jsx"],"names":["ResultPayment","axios","defaults","baseURL","process","headers","common","useState","message","setMessage","loading","setLoading","params","q","result","replace","split","forEach","x","getQS","useLocation","search","useEffect","data","payment_id","session_id","token","post","then","a","catch","error","console","log","className","style","height","gutter","type","justify"],"mappings":"yQAce,SAASA,IACvBC,IAAMC,SAASC,QAAUC,uCACzBH,IAAMC,SAASG,QAAQC,OAAO,WAAaF,uCAFJ,MAITG,mBAAS,IAJA,mBAIhCC,EAJgC,KAIvBC,EAJuB,OAKTF,oBAAS,GALA,mBAKhCG,EALgC,KAKvBC,EALuB,KAOjCC,EAfO,SAACC,GACd,IAAIC,EAAS,GAIb,OAHAD,EAAEE,QAAQ,IAAK,IACbC,MAAM,KACNC,SAAQ,SAACC,GAAD,OAAQJ,EAAOI,EAAEF,MAAM,KAAK,IAAME,EAAEF,MAAM,KAAK,MAClDF,EAUQK,CADIC,cAAXC,QAqBR,OAlBAC,qBAAU,WACT,IAAMC,EAAO,CACZC,WAAYZ,EAAOa,WACnBC,MAAOd,EAAOc,OAGfzB,IACE0B,KADF,iCACyCJ,GACvCK,KAFF,+BAAAC,EAAA,MAEO,6BAAAA,EAAA,sDAASN,EAAT,EAASA,KACdZ,GAAW,GACXF,EAAWc,EAAKf,SAFX,2CAFP,uDAMEsB,OAAM,SAACC,GACPC,QAAQC,IAAIF,GACZtB,EAAW,2BAIVC,EACI,kBAAC,IAAD,MAIP,kBAAC,IAAD,KACC,kBAAC,IAAD,CAASwB,UAAU,OAAOC,MAAO,CAAEC,OAAQ,SAC1C,uBAAKC,OAAQ,GAAIC,KAAK,OAAOC,QAAQ,UACpC,uBAAKL,UAAU,0BACd,4BAAK1B","file":"static/js/65.d561d1d6.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { Section, Layout, Loading } from \"components\"\nimport { Row, Col } from \"antd\"\nimport { useLocation } from \"react-router-dom\"\nimport axios from \"axios\"\n\nconst getQS = (q) => {\n\tlet result = {}\n\tq.replace(\"?\", \"\")\n\t\t.split(\"&\")\n\t\t.forEach((x) => (result[x.split(\"=\")[0]] = x.split(\"=\")[1]))\n\treturn result\n}\n\nexport default function ResultPayment() {\n\taxios.defaults.baseURL = process.env.REACT_APP_PAYMENT_URL\n\taxios.defaults.headers.common[\"api-key\"] = process.env.REACT_APP_PAYMENT_API_KEY\n\n\tconst [message, setMessage] = useState(\"\")\n\tconst [loading, setLoading] = useState(true)\n\tconst { search } = useLocation()\n\tconst params = getQS(search)\n\n\tuseEffect(() => {\n\t\tconst data = {\n\t\t\tpayment_id: params.session_id,\n\t\t\ttoken: params.token,\n\t\t}\n\n\t\taxios\n\t\t\t.post(`/payments/validate/transaction`, data)\n\t\t\t.then(async ({ data }) => {\n\t\t\t\tsetLoading(false)\n\t\t\t\tsetMessage(data.message)\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error)\n\t\t\t\tsetMessage(\"Transaction error\")\n\t\t\t})\n\t})\n\n\tif (loading) {\n\t\treturn <Loading />\n\t}\n\n\treturn (\n\t\t<Layout>\n\t\t\t<Section className=\"p2em\" style={{ height: \"60vh\" }}>\n\t\t\t\t<Row gutter={64} type=\"flex\" justify=\"center\">\n\t\t\t\t\t<Col className=\"ta-center border-right\">\n\t\t\t\t\t\t<h1>{message}</h1>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Section>\n\t\t</Layout>\n\t)\n}\n"],"sourceRoot":""}