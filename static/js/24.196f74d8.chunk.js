(this.webpackJsonpcudysg=this.webpackJsonpcudysg||[]).push([[24],{1077:function(e,a,t){"use strict";var n=t(179),r=t(1078),l=t(1079);n.a.Button=l.a,n.a.Group=r.a,a.a=n.a},1086:function(e,a,t){"use strict";t(282);var n=t(99),r=(t(569),t(1077)),l=t(19),o=t(3),c=t(0),i=t.n(c),s=t(1114),u=t(281),m=t(10);function d(){var e=Object(o.a)(["\n\t> label {\n\t\tdisplay: ",";\n\t}\n"]);return d=function(){return e},e}var p=Object(m.b)(s.a.Group)(d(),(function(e){return e.labelBlock&&"block"}));a.a=function(e){var a=e.options,t=e.name,o=e.label,c=e.independent,m=e.isButton,d=void 0===m||m,b=Object(l.a)(e,["options","name","label","independent","isButton"]);return c?i.a.createElement(n.a.Item,{name:t,label:o},i.a.createElement(r.a.Group,Object.assign({},b,{name:t,buttonStyle:"solid"}),a.map((function(e){return i.a.createElement(r.a.Button,{value:e.value,key:e.value},e.label)})))):i.a.createElement(u.a,{name:t,label:o},d?i.a.createElement(p,Object.assign({},b,{name:t,buttonStyle:"solid"}),a.map((function(e){return i.a.createElement(s.a.Button,{value:e.value,key:e.value},e.label)}))):i.a.createElement(p,Object.assign({},b,{options:a,name:t})))}},1114:function(e,a,t){"use strict";t.d(a,"a",(function(){return c}));var n=t(22),r=t(1077),l=t(0),o=t(67),c=function(e){var a=e.name,t=e.validate,c=e.fast,i=e.onChange,s=Object(n.c)(e,["name","validate","fast","onChange"]);return l.createElement(o.a,{name:a,validate:t,fast:c},(function(e){var t=e.field.value,n=e.form,o=n.setFieldValue,c=n.setFieldTouched;return l.createElement(r.a,Object.assign({value:t,onChange:function(e){o(a,e.target.value),c(a,!0,!1),i&&i(e)}},s))}))};c.Group=function(e){var a=e.name,t=e.validate,c=e.fast,i=e.onChange,s=Object(n.c)(e,["name","validate","fast","onChange"]);return l.createElement(o.a,{name:a,validate:t,fast:c},(function(e){var t=e.field.value,n=e.form,o=n.setFieldValue,c=n.setFieldTouched;return l.createElement(r.a.Group,Object.assign({value:t,onChange:function(e){o(a,e.target.value),c(a,!0,!1),i&&i(e)}},s))}))},c.Button=r.a.Button},1260:function(e,a,t){e.exports=t.p+"static/media/for-regis.ea07a65a.svg"},1350:function(e,a,t){"use strict";t.r(a);t(282);var n=t(99),r=(t(579),t(215)),l=(t(98),t(23)),o=t(19),c=t(26),i=t(28),s=(t(91),t(34)),u=t(3),m=t(0),d=t.n(m),p=t(39),b=t(27),f=t(80),g=t(10),E=t(1083),v=t(5),h=t(66),y=t(1096),j=t(43),O=t(177),w=t(1086),k=t(13),T=t(370),S=t(82),_=t(29),C=t(1260),N=t.n(C),B=t(100),P=t(73),I=t(364);function x(){var e=Object(u.a)(["\n\tbackground-color: #fff;\n"]);return x=function(){return e},e}function z(){var e=Object(u.a)(["\n\tbackground-image: ",";\n\tbackground-size: 25em;\n\tbackground-repeat: no-repeat;\n\tbackground-position: center;\n\tposition: relative;\n\theight: 100vh;\n\timg {\n\t\tposition: absolute;\n\t\tleft: 30px;\n\t\ttop: 20px;\n\t\tcursor: pointer;\n\t}\n"]);return z=function(){return e},e}var J=g.b.div(z(),"url(".concat(N.a,")")),G=Object(g.b)(s.a)(x());var Y=function(e){return y.object().shape({email:y.string().required(e._({id:"You have to tell your email"})).email(e._({id:"Please provide a valid email address"})),password:y.string().required(e._({id:"You have to fill in your password"})).min(8,e._({id:"Eight characters minimum"})),repeat_password:y.string().required("Please repeat your password").oneOf([y.ref("password")],e._({id:"Password should match"}))})};a.default=Object(v.withI18n)()(Object(b.j)((function(e){var a=e.history,t=e.location,u=e.i18n,b=Object(m.useState)({}),g=Object(i.a)(b,2),y=g[0],C=g[1],N=Object(m.useState)(!1),x=Object(i.a)(N,2),z=(x[0],x[1],Object(m.useState)(!1)),q=Object(i.a)(z,2),F=q[0],V=q[1],L=new URLSearchParams(t.search),R=JSON.parse(localStorage.getItem("referral_code"))||{},H=window.location.pathname.split("/"),U=y.avatar,A=void 0===U?[]:U,D=L.get("referral")&&L.get("code")&&L.get("upline"),K=k.r+(A[0]||{}).path,M=_.d!==H[1]?H[1]:_.d,Q=Object(h.b)(S.O,{client:Object(k.l)("profile"),onCompleted:function(e){e=e.getProfile,C(e)}}),W=Object(i.a)(Q,1)[0],X=Object(h.b)(T.e,{client:Object(k.l)("account"),onCompleted:function(e){e=e.register||{},a.push({pathname:"/".concat(_.d,"/register/success"),state:{success:!0,country:e.country,rolePvid:e.rolePvid}})},onError:function(e){return Object(k.q)(e)}}),Z=Object(i.a)(X,1)[0],$=d.a.createElement("span",null,d.a.createElement(v.Trans,{id:"You are being referred by"})," \xa0",d.a.createElement("a",{href:"/".concat(_.d,"/").concat(y.userCode,"-").concat(y.pvid,"-").concat(y.firstName,"-").concat(y.lastName),target:"_blank",rel:"noopener noreferrer"},d.a.createElement(j.b,{src:K,size:"small"})," ",y.firstName," ",y.lastName)),ee=function(e){Object(_.f)(e,(function(){window.location.replace(D?"/".concat(e,"/register?referral=").concat(R.referral,"&code=").concat(R.code,"&upline=").concat(R.upline):"/".concat(e,"/register"))}))};return Object(m.useEffect)((function(){if(localStorage.getItem("token")&&a.push("/".concat(_.d,"/404")),D){var e={code:L.get("code"),referral:L.get("referral"),upline:L.get("upline")};W({variables:{userPvid:Number(L.get("upline"))}}),localStorage.setItem("referral_code",JSON.stringify(e))}return function(){return localStorage.removeItem("referral_code")}}),[W,a,D]),d.a.createElement(G,null,!k.k&&d.a.createElement(l.a,{lg:12},d.a.createElement(J,null,d.a.createElement(j.p,{onClick:function(){return a.push("/".concat(_.d))}}))),d.a.createElement(l.a,{lg:12},k.k&&d.a.createElement(s.a,{type:"flex",justify:"center",style:{paddingTop:"2em"}},d.a.createElement(l.a,{lg:12},d.a.createElement(j.p,{onClick:function(){return a.push("/".concat(_.d))}}))),d.a.createElement(j.u,{style:{paddingTop:"2em"}},d.a.createElement(j.l,{bold:!0,content:d.a.createElement(v.Trans,{id:"Join Cudy today"}),subheader:d.a.createElement(v.Trans,{id:"Join our learning platform to get more than just family"})})),D&&d.a.createElement(j.u,{style:{paddingTop:0,paddingBottom:0}},d.a.createElement(j.a,{type:"info",showIcon:!0,message:$})),d.a.createElement(j.u,{marginBottom:k.k?"very":0,style:{paddingBottom:!k.k&&0,paddingTop:0}},d.a.createElement(f.c,{onSubmit:function(e,a){var t=a.setSubmitting,n=e=Object(c.a)({},e,{firstName:"",lastName:"",description:"",address:"",dob:"",referralId:Number(L.get("referral"))||0,referralCode:L.get("code")||"",uplineId:Number(L.get("upline"))||0}),r=(n.checkboxes,n.date,n.tc,n.month,n.year,n.repeat_password,Object(o.a)(n,["checkboxes","date","tc","month","year","repeat_password"]));Z({variables:Object(c.a)({},r,{referralLink:""})}).finally((function(){t(!1)}))},validationSchema:Y(u),initialValues:{rolePvid:1,email:"",password:"",repeat_password:"",country:M}},(function(e){var t=e.handleSubmit,o=(e.isValid,e.values);return d.a.createElement(n.a,{onSubmit:t,className:"mb4em",layout:"vertical"},d.a.createElement(s.a,{gutter:16},d.a.createElement(l.a,{lg:24},d.a.createElement(O.a,{label:d.a.createElement(v.Trans,{id:"Your email"}),type:"email",name:"email",placeholder:u._({id:"Enter your email"})}))),d.a.createElement(s.a,{gutter:16},d.a.createElement(l.a,{lg:12},d.a.createElement(O.a,{password:!0,label:d.a.createElement(v.Trans,{id:"Your password"}),name:"password",placeholder:u._({id:"Enter your password"})})),d.a.createElement(l.a,{lg:12},d.a.createElement(O.a,{password:!0,label:d.a.createElement(v.Trans,{id:"Repeat password"}),name:"repeat_password",placeholder:u._({id:"Repeat your password"})}))),d.a.createElement(j.u,{paddingHorizontal:0,className:"px0-mobile py0"},d.a.createElement(s.a,{gutter:16},d.a.createElement(l.a,{lg:12},d.a.createElement(j.l,{content:d.a.createElement(v.Trans,{id:"Select your role"}),level:4,subheader:d.a.createElement(v.Trans,{id:"Please choose your role"})}),d.a.createElement(w.a,{name:"rolePvid",options:[{label:d.a.createElement(v.Trans,{id:"Tutor / coach"}),value:2},{label:d.a.createElement(v.Trans,{id:"Student / parent"}),value:1}]})),d.a.createElement(l.a,{lg:12},d.a.createElement(j.l,{content:d.a.createElement(v.Trans,{id:"Select your country"}),level:4,subheader:d.a.createElement(v.Trans,{id:"Choose your preferred country"})}),d.a.createElement(I.a,{name:"country",onChange:ee,options:P.a.map((function(e){var a=e.key,t=e.name,n=e.icon;return{value:a,label:d.a.createElement("span",null,d.a.createElement(B.a,{type:n,size:16}),"\xa0 ",t)}}))})))),d.a.createElement(j.u,{paddingHorizontal:0,className:"px0-mobile"},d.a.createElement(r.a,{name:"tc",checked:F,onChange:function(){return V(!F)}})," \xa0"," ",d.a.createElement(v.Trans,{id:"<0>I have agreed to the <1>terms and conditions</1> and <2>privacy policy</2> of the site</0>",components:[d.a.createElement("span",null),d.a.createElement(p.b,{to:"/"}),d.a.createElement(p.b,{to:"/"})]})),d.a.createElement(s.a,{gutter:24},d.a.createElement(l.a,{lg:12,style:{marginBottom:k.k&&"1em"}},d.a.createElement(E.a,{block:!0,size:"large",type:"primary",className:"mb1em",disabled:!F||!o.email||!o.password||!o.repeat_password||o.password!==o.repeat_password},d.a.createElement(v.Trans,{id:"Create account"}))),d.a.createElement(l.a,{lg:12},d.a.createElement(j.d,{block:!0,type:"ghost",htmlType:"button",onClick:function(){return a.push("/".concat(_.d,"/login"))}},d.a.createElement(v.Trans,{id:"Login instead"})))))})))))})))}}]);
//# sourceMappingURL=24.196f74d8.chunk.js.map