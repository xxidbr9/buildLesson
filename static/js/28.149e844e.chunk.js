(this.webpackJsonpcudysg=this.webpackJsonpcudysg||[]).push([[28],{1336:function(e,t,a){"use strict";var n=a(183),r=a(1337),l=a(1338);n.a.Button=l.a,n.a.Group=r.a,t.a=n.a},1346:function(e,t,a){"use strict";a(210);var n=a(83),r=a(23),l=(a(668),a(1336)),o=a(5),c=a(0),i=a.n(c),u=a(1386),s=a(300),m=a(15);function d(){var e=Object(o.a)(["\n\t> label {\n\t\tdisplay: ",";\n\t\twidth: ",";\n\t\tmargin-bottom: ",";\n\t\tpadding: ",";\n\t\theight: ",";\n\t}\n"]);return d=function(){return e},e}function p(){var e=Object(o.a)(["\n\t> label {\n\t\tdisplay: ",";\n\t\twidth: ",";\n\t}\n"]);return p=function(){return e},e}var b=Object(m.b)(u.a.Group)(p(),(function(e){return e.labelBlock&&"block"}),(function(e){return e.labelBlock&&"100%"})),f=Object(m.b)(l.a.Group)(d(),(function(e){return e.labelBlock&&"block"}),(function(e){return e.labelBlock&&"100%"}),(function(e){return e.labelBlock&&"1em"}),(function(e){return e.labelBlock&&"1em"}),(function(e){return e.labelBlock&&"auto"}));t.a=function(e){var t=e.options,a=void 0===t?[]:t,o=e.name,c=e.label,m=e.independent,d=e.isButton,p=void 0===d||d,g=Object(r.a)(e,["options","name","label","independent","isButton"]);return m?i.a.createElement(n.a.Item,{name:o,label:c},i.a.createElement(f,Object.assign({},g,{name:o,buttonStyle:"solid"}),a.map((function(e){return i.a.createElement(l.a.Button,Object.assign({},e,{value:e.value,key:e.value}),e.label)})))):i.a.createElement(s.a,{name:o,label:c},p?i.a.createElement(b,Object.assign({},g,{name:o,buttonStyle:"solid"}),a.map((function(e){return i.a.createElement(u.a.Button,{value:e.value,key:e.value},e.label)}))):i.a.createElement(b,Object.assign({},g,{options:a,name:o})))}},1386:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(3),r=a(1336),l=a(45),o=a(0),c=function(e){var t=e.name,a=e.validate,c=e.onChange,i=Object(n.e)(e,["name","validate","onChange"]);return o.createElement(l.a,{name:t,validate:a},(function(e){var a=e.field.value,n=e.form,l=n.setFieldValue,u=n.setFieldTouched;return o.createElement(r.a,Object.assign({value:a,onChange:function(e){l(t,e.target.value),u(t,!0),c&&c(e)}},i))}))};c.Group=function(e){var t=e.name,a=e.validate,c=e.onChange,i=Object(n.e)(e,["name","validate","onChange"]);return o.createElement(l.a,{name:t,validate:a},(function(e){var a=e.field.value,n=e.form,l=n.setFieldValue,u=n.setFieldTouched;return o.createElement(r.a.Group,Object.assign({value:a,onChange:function(e){l(t,e.target.value),u(t,!0),c&&c(e)}},i))}))},c.Button=r.a.Button},1406:function(e,t,a){e.exports=a.p+"static/media/for-regis.ea07a65a.svg"},1683:function(e,t,a){"use strict";a.r(t);a(210);var n=a(83),r=(a(674),a(216)),l=(a(97),a(25)),o=a(23),c=a(19),i=a(28),u=(a(91),a(37)),s=a(5),m=a(0),d=a.n(m),p=a(27),b=a(40),f=a(45),g=a(15),E=a(1343),v=a(9),h=a(55),y=a(1353),j=a(42),O=a(131),w=a(1346),k=a(16),T=a(421),_=a(80),S=a(32),B=a(1406),C=a.n(B),N=a(98),P=a(71),I=a(212),x=a(48);function z(){var e=Object(s.a)(["\n\tbackground-color: #fff;\n"]);return z=function(){return e},e}function J(){var e=Object(s.a)(["\n\tbackground-image: ",";\n\tbackground-size: 25em;\n\tbackground-repeat: no-repeat;\n\tbackground-position: center;\n\tposition: relative;\n\theight: 100vh;\n\timg {\n\t\tposition: absolute;\n\t\tleft: 30px;\n\t\ttop: 20px;\n\t\tcursor: pointer;\n\t}\n"]);return J=function(){return e},e}var G=g.b.div(J(),"url(".concat(C.a,")")),Y=Object(g.b)(u.a)(z());var q=function(e){return y.object().shape({email:y.string().required(e._({id:"You have to tell your email"})).email(e._({id:"Please provide a valid email address"})),password:y.string().required(e._({id:"You have to fill in your password"})).min(8,e._({id:"Eight characters minimum"})),repeat_password:y.string().required("Please repeat your password").oneOf([y.ref("password")],e._({id:"Password should match"}))})};t.default=Object(v.withI18n)()((function(e){var t,a=e.i18n,s=Object(p.h)(),g=Object(p.g)(),y=Object(m.useState)({}),B=Object(i.a)(y,2),C=B[0],z=B[1],J=Object(m.useState)(!1),F=Object(i.a)(J,2),R=F[0],V=F[1],L=new URLSearchParams(s.search),H=JSON.parse(localStorage.getItem("referral_code"))||{},U=window.location.pathname.split("/"),A=(null===(t=s.state)||void 0===t?void 0:t.prepopulatedEmail)||"",D=C.avatar,K=void 0===D?[]:D,M=L.get("referral")&&L.get("code")&&L.get("upline"),Q=x.f+(K[0]||{}).path,W=S.d!==U[1]?U[1]:S.d,X=Object(h.b)(_.R,{client:Object(k.k)("profile"),onCompleted:function(e){e=e.getProfile,z(e)}}),Z=Object(i.a)(X,1)[0],$=Object(h.b)(T.e,{client:Object(k.k)("account"),onCompleted:function(e){e=e.register||{},g.push({pathname:"/".concat(S.d,"/register/success"),state:{success:!0,country:e.country,rolePvid:e.rolePvid}})},onError:function(e){return Object(k.q)(e)}}),ee=Object(i.a)($,1)[0],te=d.a.createElement("span",null,d.a.createElement(v.Trans,{id:"You are being referred by"})," \xa0",d.a.createElement("a",{href:"/".concat(S.d,"/").concat(C.userCode,"-").concat(C.pvid,"-").concat(C.firstName,"-").concat(C.lastName),target:"_blank",rel:"noopener noreferrer"},d.a.createElement(j.b,{src:Q,size:"small"})," ",C.firstName," ",C.lastName)),ae=function(e){Object(S.f)(e,(function(){window.location.replace(M?"/".concat(e,"/register?referral=").concat(H.referral,"&code=").concat(H.code,"&upline=").concat(H.upline):"/".concat(e,"/register"))}))};return Object(m.useEffect)((function(){if(localStorage.getItem("token")&&g.push("/".concat(S.d,"/404")),M){var e={code:L.get("code"),referral:L.get("referral"),upline:L.get("upline")};Z({variables:{userPvid:Number(L.get("upline"))}}),localStorage.setItem("referral_code",JSON.stringify(e))}return function(){return localStorage.removeItem("referral_code")}}),[Z,g,M]),d.a.createElement(Y,null,!k.j&&d.a.createElement(l.a,{lg:12},d.a.createElement(G,null,d.a.createElement(j.p,{onClick:function(){return g.push("/".concat(S.d))}}))),d.a.createElement(l.a,{lg:12},k.j&&d.a.createElement(u.a,{type:"flex",justify:"center",style:{paddingTop:"2em"}},d.a.createElement(l.a,{lg:12},d.a.createElement(j.p,{onClick:function(){return g.push("/".concat(S.d))}}))),d.a.createElement(j.u,{style:{paddingTop:"2em"}},d.a.createElement(j.l,{bold:!0,content:d.a.createElement(v.Trans,{id:"Join Cudy today"}),subheader:d.a.createElement(v.Trans,{id:"Join our learning platform to get more than just family"})})),M&&d.a.createElement(j.u,{style:{paddingTop:0,paddingBottom:0}},d.a.createElement(j.a,{type:"info",showIcon:!0,message:te})),d.a.createElement(j.u,{marginBottom:k.j?"very":0,style:{paddingBottom:!k.j&&0,paddingTop:0}},d.a.createElement(f.b,{onSubmit:function(e,t){var a=t.setSubmitting,n=e=Object(c.a)({},e,{firstName:"",lastName:"",description:"",address:"",dob:"",referralId:Number(L.get("referral"))||0,referralCode:L.get("code")||"",uplineId:Number(L.get("upline"))||0}),r=(n.checkboxes,n.date,n.tc,n.month,n.year,n.repeat_password,Object(o.a)(n,["checkboxes","date","tc","month","year","repeat_password"]));ee({variables:Object(c.a)({},r,{referralLink:""})}).finally((function(){a(!1)}))},validationSchema:q(a),initialValues:{rolePvid:1,email:A,password:"",repeat_password:"",country:W}},(function(e){var t=e.handleSubmit,o=(e.isValid,e.values);return d.a.createElement(n.a,{onSubmit:t,className:"mb4em",layout:"vertical"},d.a.createElement(u.a,{gutter:16},d.a.createElement(l.a,{lg:24},d.a.createElement(O.a,{label:d.a.createElement(v.Trans,{id:"Your email"}),type:"email",name:"email",placeholder:a._({id:"Enter your email"})}))),d.a.createElement(u.a,{gutter:16},d.a.createElement(l.a,{lg:12},d.a.createElement(O.a,{password:!0,label:d.a.createElement(v.Trans,{id:"Your password"}),name:"password",placeholder:a._({id:"Enter your password"})})),d.a.createElement(l.a,{lg:12},d.a.createElement(O.a,{password:!0,label:d.a.createElement(v.Trans,{id:"Repeat password"}),name:"repeat_password",placeholder:a._({id:"Repeat your password"})}))),d.a.createElement(j.u,{paddingHorizontal:0,className:"px0__mobile py0"},d.a.createElement(u.a,{gutter:16},d.a.createElement(l.a,{lg:12},d.a.createElement(j.l,{content:d.a.createElement(v.Trans,{id:"Select your role"}),level:4,subheader:d.a.createElement(v.Trans,{id:"Please choose your role"})}),d.a.createElement(w.a,{name:"rolePvid",options:[{label:d.a.createElement(v.Trans,{id:"Tutor / coach"}),value:2},{label:d.a.createElement(v.Trans,{id:"Student / parent"}),value:1}]})),d.a.createElement(l.a,{lg:12},d.a.createElement(j.l,{content:d.a.createElement(v.Trans,{id:"Select your country"}),level:4,subheader:d.a.createElement(v.Trans,{id:"Choose your preferred country"})}),d.a.createElement(I.a,{name:"country",onChange:ae,options:P.a.map((function(e){var t=e.key,a=e.name,n=e.icon;return{value:t,label:d.a.createElement("span",null,d.a.createElement(N.a,{type:n,size:16}),"\xa0 ",a)}}))})))),d.a.createElement(j.u,{paddingHorizontal:0,className:"px0__mobile"},d.a.createElement(r.a,{name:"tc",checked:R,onChange:function(){return V(!R)}})," \xa0"," ",d.a.createElement(v.Trans,{id:"<0>I have agreed to the <1>terms and conditions</1> and <2>privacy policy</2> of the site</0>",components:[d.a.createElement("span",null),d.a.createElement(b.b,{to:"/"}),d.a.createElement(b.b,{to:"/"})]})),d.a.createElement(u.a,{gutter:24},d.a.createElement(l.a,{lg:12,style:{marginBottom:k.j&&"1em"}},d.a.createElement(E.a,{block:!0,size:"large",type:"primary",className:"mb1em",disabled:!R||!o.email||!o.password||!o.repeat_password||o.password!==o.repeat_password},d.a.createElement(v.Trans,{id:"Create account"}))),d.a.createElement(l.a,{lg:12},d.a.createElement(j.d,{block:!0,type:"ghost",htmlType:"button",onClick:function(){return g.push("/".concat(S.d,"/login"))}},d.a.createElement(v.Trans,{id:"Login instead"})))))})))))}))}}]);
//# sourceMappingURL=28.149e844e.chunk.js.map