{"version":3,"sources":["../node_modules/uuid/v4.js","../node_modules/uuid/lib/rng-browser.js","../node_modules/uuid/lib/bytesToUuid.js","pages/Tutor/Profile/DataList.jsx","pages/Tutor/Profile/Subjects.jsx"],"names":["rng","require","bytesToUuid","module","exports","options","buf","offset","i","Array","rnds","random","ii","getRandomValues","crypto","bind","msCrypto","window","rnds8","Uint8Array","r","Math","byteToHex","toString","substr","bth","join","StyledHeading","styled","Heading","StyledRow","HeadingExtra","baseStyles","greyColor","token","localStorage","getItem","DataList","title","description","download","extra","loading","active","paragraph","rows","type","justify","xs","lg","reverse","content","subheader","style","textAlign","mobile","href","serverBaseUrl","target","rel","icon","marginRight","align","level","FieldRow","subjectsSchema","i18n","userDetails","JSON","parse","yup","shape","programmeSubjectPvid","required","_","programmeLevelPvid","pricePerHour","min","countryMap","country","subjectMinTariff","withI18n","onEditMode","onSubjects","fetchUser","unauthorizedUser","userData","editMode","setEditMode","subjects","useState","userSubjects","setUserSubjects","isAdding","setIsAdding","formValues","setFormValues","suggestionPrice","setSuggestionPrice","symbol","useMutation","mutateUpdateSubjects","client","newClient","onCompleted","data","onError","err","renderError","updateSubjects","mutateDeleteSubjects","deleteSubjects","loadingDelete","mutatePriceSuggestion","getSuggestionPrice","error","useQuery","queryFetchSubjects","programmeClient","variables","dataSubjects","loadingSubjects","queryFetchLevels","dataLevels","loadingLevels","subjectOptions","getProgrammeSubjectList","map","item","value","Number","pvid","label","name","levelOptions","getProgrammeLevelList","handleEditSubject","values","setSubmitting","rest","source","subject","find","orderList","list","then","success","finally","handleAddSubject","handleCancel","handleAddNewField","prev","id","uuid","onLocalChange","Object","keys","length","obj","useEffect","paddingHorizontal","noPadding","marginBottom","onSubmit","validationSchema","initialValues","handleSubmit","layout","gutter","placeholder","onChange","className","averagePrice","addonBefore","block","onClick","key","dirty","disabled","onConfirm","filtered","pvidList","handleDelete","size","l","idx","pricer","renderSubjects"],"mappings":"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","file":"static/js/28.609ea70e.chunk.js","sourcesContent":["var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","import React from \"react\"\nimport { Heading, ButtonLink } from \"components\"\nimport { Row, Col, Skeleton } from \"antd\"\nimport styled from \"styled-components\"\nimport { mobile, serverBaseUrl } from \"helpers\"\nimport { baseStyles } from \"styles/base\"\nimport { Trans } from \"@lingui/macro\"\n\nconst StyledHeading = styled(Heading)`\n\t&:not(:last-child) {\n\t\tborder-bottom: 1px solid #eee;\n\t\tpadding-bottom: 1em;\n\t}\n`\n\nconst StyledRow = styled(Row)`\n\t&:not(:last-child) {\n\t\tborder-bottom: 1px solid #eee;\n\t\tmargin-bottom: 1em;\n\t}\n`\n\nconst HeadingExtra = styled(Heading)`\n\t&& {\n\t\th4 {\n\t\t\tfont-size: 1em;\n\t\t\tcolor: ${baseStyles.greyColor};\n\t\t}\n\t}\n`\n\nconst token = localStorage.getItem(\"token\")\n\nexport default function DataList({ title = \"\", description = \"\", download = \"\", extra = \"\", loading }) {\n\tif (download) {\n\t\treturn (\n\t\t\t<Skeleton loading={loading} active paragraph={{ rows: 1 }}>\n\t\t\t\t<StyledRow type=\"flex\" justify=\"space-between\">\n\t\t\t\t\t<Col xs={24} lg={12}>\n\t\t\t\t\t\t<Heading reverse content={title} subheader={description} />\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col xs={24} lg={12} style={{ textAlign: mobile ? \"left\" : \"right\" }}>\n\t\t\t\t\t\t{token && (\n\t\t\t\t\t\t\t<a href={serverBaseUrl + download} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\t\t\t\t<ButtonLink icon=\"eye\" style={{ marginRight: 0 }}>\n\t\t\t\t\t\t\t\t\t&nbsp; <Trans>View</Trans>\n\t\t\t\t\t\t\t\t</ButtonLink>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Col>\n\t\t\t\t</StyledRow>\n\t\t\t</Skeleton>\n\t\t)\n\t}\n\n\tif (extra)\n\t\treturn (\n\t\t\t<Skeleton loading={loading} active paragraph={{ rows: 1 }}>\n\t\t\t\t<StyledRow type=\"flex\" justify=\"space-between\" align=\"middle\">\n\t\t\t\t\t<Col xs={24} lg={12}>\n\t\t\t\t\t\t<Heading reverse content={title} subheader={description} />\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col xs={24} lg={12} style={{ textAlign: mobile ? \"left\" : \"right\" }}>\n\t\t\t\t\t\t<HeadingExtra content={extra} level={4} />\n\t\t\t\t\t</Col>\n\t\t\t\t</StyledRow>\n\t\t\t</Skeleton>\n\t\t)\n\n\treturn (\n\t\t<Skeleton loading={loading} active paragraph={{ rows: 1 }}>\n\t\t\t<StyledHeading reverse content={title} subheader={description} />\n\t\t</Skeleton>\n\t)\n}\n","import React, { useState, useEffect } from \"react\"\nimport { Section, Button, ButtonLink, Empty } from \"components\"\nimport { Form, Row, Col, Popconfirm, message, Divider } from \"antd\"\nimport DataList from \"./DataList\"\nimport styled from \"styled-components/macro\"\nimport { useQuery, useMutation } from \"@apollo/react-hooks\"\nimport uuid from \"uuid/v4\"\nimport * as yup from \"yup\"\n\nimport { queryFetchSubjects, queryFetchLevels } from \"queries/data\"\nimport { newClient, client, mobile, renderError, pricer } from \"helpers\"\nimport TextInput from \"components/forms/TextInput\"\nimport SelectInput from \"components/forms/SelectInput\"\nimport { mutateUpdateSubjects, mutateDeleteSubjects, mutatePriceSuggestion } from \"queries/profile\"\nimport { Formik } from \"formik\"\nimport { SubmitButton } from \"formik-antd\"\nimport { Trans, t } from \"@lingui/macro\"\nimport { withI18n } from \"@lingui/react\"\nimport { countryMap } from \"helpers/countryMapping\"\n\nconst FieldRow = styled(Row)`\n\tposition: relative;\n\tmargin-bottom: 2em;\n\t&:hover {\n\t\t.delete {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tvisibility: visible;\n\t\t}\n\t}\n\t.delete {\n\t\tdisplay: none;\n\t\tcursor: pointer;\n\t\tvisibility: hidden;\n\t\tposition: absolute;\n\t\tright: 0;\n\t\tborder-radius: 50%;\n\t\twidth: 25px;\n\t\tcolor: #ff9d00;\n\t\theight: 25px;\n\t\tz-index: 99;\n\t\t&:hover {\n\t\t\tbackground: #eee;\n\t\t}\n\t}\n`\n\nfunction Subjects({ onEditMode, onSubjects, fetchUser, unauthorizedUser, i18n, userData = {} }) {\n\tconst { editMode, setEditMode } = onEditMode\n\tconst { subjects = [] } = onSubjects\n\tconst [userSubjects, setUserSubjects] = useState([])\n\tconst [isAdding, setIsAdding] = useState(false)\n\tconst [formValues, setFormValues] = useState({})\n\tconst [suggestionPrice, setSuggestionPrice] = useState({})\n\n\tconst userDetails = JSON.parse(localStorage.getItem(\"userDetails\")) || {}\n\n\tconst symbol = (countryMap[userData.country] || {}).symbol\n\n\tconst [updateSubjects] = useMutation(mutateUpdateSubjects, {\n\t\tclient: newClient(),\n\t\tonCompleted: (data) => {\n\t\t\tsetEditMode(\"\")\n\t\t\tfetchUser()\n\t\t\treturn data\n\t\t},\n\t\tonError: (err) => renderError(err)\n\t})\n\n\tconst [deleteSubjects, { loading: loadingDelete }] = useMutation(mutateDeleteSubjects, {\n\t\tclient: newClient(),\n\t\tonCompleted: () => setEditMode(\"\"),\n\t\tonError: (err) => renderError(err)\n\t})\n\n\tconst [getSuggestionPrice] = useMutation(mutatePriceSuggestion, {\n\t\tclient: newClient(),\n\t\tonCompleted: (data) => setSuggestionPrice(data.getSuggestionPrice),\n\t\tonError: (error) => message.error(i18n._(t`${error}`)) // useError(err)\n\t})\n\n\tconst { data: dataSubjects = {}, loading: loadingSubjects } = useQuery(queryFetchSubjects, {\n\t\tclient: client.programmeClient,\n\t\tvariables: { country: userData.country }\n\t})\n\n\tconst { data: dataLevels = {}, loading: loadingLevels } = useQuery(queryFetchLevels, {\n\t\tclient: client.programmeClient,\n\t\tvariables: { country: userData.country }\n\t})\n\n\tconst subjectOptions = (dataSubjects.getProgrammeSubjectList || []).map((item) => ({\n\t\tvalue: Number(item.pvid),\n\t\tlabel: item.name\n\t}))\n\n\tconst levelOptions = (dataLevels.getProgrammeLevelList || []).map((item) => ({\n\t\tvalue: Number(item.pvid),\n\t\tlabel: item.name\n\t}))\n\n\tconst handleEditSubject = (values, { setSubmitting }) => {\n\t\tconst { source, ...rest } = values\n\t\tconst { programmeSubjectPvid: subject, programmeLevelPvid: level } = values\n\n\t\tvalues = {\n\t\t\t...rest,\n\t\t\tprogrammeSubjectPvid: typeof subject === \"number\" ? subject : subjectOptions.find(({ label }) => label === subject).value,\n\t\t\tprogrammeLevelPvid: typeof level === \"number\" ? level : levelOptions.find(({ label }) => label === level).value,\n\t\t\torderList: 1,\n\t\t\tpricePerHour: Number(values.pricePerHour)\n\t\t}\n\n\t\tupdateSubjects({ variables: { list: { ...values } } })\n\t\t\t.then((data) => {\n\t\t\t\tif (data) message.success(i18n._(t`The subject item has been updated`), 2)\n\t\t\t})\n\t\t\t.finally(() => setSubmitting(false))\n\t}\n\n\tconst handleAddSubject = (values, { setSubmitting }) => {\n\t\tvalues = { ...values, orderList: 1, pricePerHour: Number(values.pricePerHour) }\n\n\t\tupdateSubjects({ variables: { list: [{ ...values }] } })\n\t\t\t.then((data) => {\n\t\t\t\tif (data) message.success(i18n._(t`The subject item has been added`), 2)\n\t\t\t})\n\t\t\t.finally(() => {\n\t\t\t\tsetSubmitting(false)\n\t\t\t\tsetIsAdding(false)\n\t\t\t})\n\t}\n\n\tconst handleDelete = (pvid) => {\n\t\tconst filtered = userSubjects.find((item) => item.subject.pvid === pvid) || {}\n\t\tdeleteSubjects({ variables: { pvidList: [filtered.pvid] } })\n\t\t\t.then(() => fetchUser())\n\t\t\t.then(() => message.success(i18n._(t`The subject item has been deleted`), 2))\n\t}\n\n\tconst handleCancel = () => {\n\t\tsetIsAdding(false)\n\t\tsetUserSubjects(subjects)\n\t\tsetEditMode(\"\")\n\t}\n\n\tconst handleAddNewField = () => {\n\t\tsetIsAdding(true)\n\t\tsetUserSubjects((prev) => [\n\t\t\t...prev,\n\t\t\t{\n\t\t\t\tid: uuid(),\n\t\t\t\tprogrammeSubjectPvid: \"\",\n\t\t\t\tpricePerHour: 0,\n\t\t\t\tsubject: { pvid: null },\n\t\t\t\tlevel: { pvid: null },\n\t\t\t\torderList: 0\n\t\t\t}\n\t\t])\n\t}\n\n\tconst onLocalChange = (name) => (value) => {\n\t\tsetFormValues({ ...formValues, [name]: value })\n\t\tif (!Object.keys(formValues).length) return\n\n\t\tconst obj = {\n\t\t\t...formValues,\n\t\t\t[name]: value\n\t\t}\n\n\t\tgetSuggestionPrice({ variables: { ...obj } })\n\t}\n\n\tconst renderSubjects = (loading) => {\n\t\tif (editMode === \"subjects\") {\n\t\t\tif (isAdding) {\n\t\t\t\treturn (\n\t\t\t\t\t<Formik onSubmit={handleAddSubject} validationSchema={subjectsSchema(i18n)} initialValues={{ pricePerHour: 0 }}>\n\t\t\t\t\t\t{({ handleSubmit }) => (\n\t\t\t\t\t\t\t<Form layout=\"vertical\" onSubmit={handleSubmit}>\n\t\t\t\t\t\t\t\t<Row gutter={16} type=\"flex\">\n\t\t\t\t\t\t\t\t\t<Col lg={12}>\n\t\t\t\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\t\t\t\tname=\"programmeSubjectPvid\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Subject name`)}\n\t\t\t\t\t\t\t\t\t\t\tlabel={<Trans>Subject</Trans>}\n\t\t\t\t\t\t\t\t\t\t\toptions={subjectOptions}\n\t\t\t\t\t\t\t\t\t\t\tmarginBottom=\"5px\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={onLocalChange(\"programmeSubjectPvid\")}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col lg={12}>\n\t\t\t\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\t\t\t\tname=\"programmeLevelPvid\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Curriculum`)}\n\t\t\t\t\t\t\t\t\t\t\tlabel={<Trans>Curriculum</Trans>}\n\t\t\t\t\t\t\t\t\t\t\toptions={levelOptions}\n\t\t\t\t\t\t\t\t\t\t\tmarginBottom=\"5px\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={onLocalChange(\"programmeLevelPvid\")}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t\t\t\t<Col lg={12} className=\"ant-form ant-form-item-label\">\n\t\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\t\tcss={`\n\t\t\t\t\t\t\t\t\t\t\t\tmargin-bottom: 5px;\n\t\t\t\t\t\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Trans>Average price/hour</Trans>\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\t\tcss={`\n\t\t\t\t\t\t\t\t\t\t\t\tfont-size: 30px !important;\n\t\t\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{suggestionPrice.averagePrice <= 0 || !suggestionPrice.averagePrice\n\t\t\t\t\t\t\t\t\t\t\t\t? \"N/A\"\n\t\t\t\t\t\t\t\t\t\t\t\t: `${symbol} ${suggestionPrice.averagePrice}`}\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t\t\t\t<Col lg={12}>\n\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\tname=\"pricePerHour\"\n\t\t\t\t\t\t\t\t\t\t\taddonBefore={symbol}\n\t\t\t\t\t\t\t\t\t\t\tlabel={<Trans>Price per hour</Trans>}\n\t\t\t\t\t\t\t\t\t\t\tonChange={onLocalChange(\"pricePerHour\")}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t<SubmitButton type=\"primary\" block>\n\t\t\t\t\t\t\t\t\t<Trans>Save this subject</Trans>\n\t\t\t\t\t\t\t\t</SubmitButton>{\" \"}\n\t\t\t\t\t\t\t\t&nbsp;{\" \"}\n\t\t\t\t\t\t\t\t<ButtonLink block onClick={handleCancel}>\n\t\t\t\t\t\t\t\t\t<Trans>Cancel</Trans>\n\t\t\t\t\t\t\t\t</ButtonLink>\n\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Formik>\n\t\t\t\t)\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{userSubjects.map((item) => (\n\t\t\t\t\t\t<Formik\n\t\t\t\t\t\t\tkey={item.subject.pvid}\n\t\t\t\t\t\t\tonSubmit={handleEditSubject}\n\t\t\t\t\t\t\tvalidationSchema={yup.object({\n\t\t\t\t\t\t\t\tpricePerHour: yup\n\t\t\t\t\t\t\t\t\t.number()\n\t\t\t\t\t\t\t\t\t.min(\n\t\t\t\t\t\t\t\t\t\tcountryMap[userDetails.country].subjectMinTariff,\n\t\t\t\t\t\t\t\t\t\ti18n._(t`Are you sure this is the right amount?`)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tinitialValues={{\n\t\t\t\t\t\t\t\tpvid: item.subject.pvid,\n\t\t\t\t\t\t\t\tprogrammeSubjectPvid: item.subject.name,\n\t\t\t\t\t\t\t\tprogrammeLevelPvid: item.subject.level.name,\n\t\t\t\t\t\t\t\tpricePerHour: item.pricePerHour\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{({ handleSubmit, dirty }) => (\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Form layout=\"vertical\" onSubmit={handleSubmit}>\n\t\t\t\t\t\t\t\t\t\t<Row gutter={16}>\n\t\t\t\t\t\t\t\t\t\t\t<Col lg={12} xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"programmeSubjectPvid\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Subject name`)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={<Trans>Subject</Trans>}\n\t\t\t\t\t\t\t\t\t\t\t\t\toptions={subjectOptions}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarginBottom=\"5px\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col lg={12} xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"programmeLevelPvid\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Curriculum`)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={<Trans>Curriculum</Trans>}\n\t\t\t\t\t\t\t\t\t\t\t\t\toptions={levelOptions}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarginBottom=\"5px\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t<Row gutter={16}>\n\t\t\t\t\t\t\t\t\t\t\t<Col lg={12} xs={24}>\n\t\t\t\t\t\t\t\t\t\t\t\t<TextInput label={<Trans>Price per hour</Trans>} addonBefore={symbol} name=\"pricePerHour\" />\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t<SubmitButton type=\"primary\" disabled={!dirty}>\n\t\t\t\t\t\t\t\t\t\t\t<Trans>Update</Trans>\n\t\t\t\t\t\t\t\t\t\t</SubmitButton>{\" \"}\n\t\t\t\t\t\t\t\t\t\t&nbsp;{\" \"}\n\t\t\t\t\t\t\t\t\t\t<Popconfirm title={<Trans>Delete this subject?</Trans>} onConfirm={() => handleDelete(item.pvid)}>\n\t\t\t\t\t\t\t\t\t\t\t<ButtonLink icon=\"close\" loading={loadingDelete}>\n\t\t\t\t\t\t\t\t\t\t\t\t&nbsp; <Trans>Delete</Trans>\n\t\t\t\t\t\t\t\t\t\t\t</ButtonLink>\n\t\t\t\t\t\t\t\t\t\t</Popconfirm>\n\t\t\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Formik>\n\t\t\t\t\t))}\n\t\t\t\t\t<Button block type=\"dashed\" size=\"medium\" icon=\"plus\" onClick={handleAddNewField} style={{ marginBottom: \"2em\" }}>\n\t\t\t\t\t\t&nbsp; <Trans>Add a new subject</Trans>\n\t\t\t\t\t</Button>\n\t\t\t\t\t<ButtonLink block icon=\"close\" onClick={() => setEditMode(false)}>\n\t\t\t\t\t\t&nbsp; <Trans>Cancel</Trans>\n\t\t\t\t\t</ButtonLink>\n\t\t\t\t</>\n\t\t\t)\n\t\t}\n\n\t\tif (editMode !== \"subjects\") {\n\t\t\tif (userSubjects.length === 0 && !loading) {\n\t\t\t\treturn unauthorizedUser ? (\n\t\t\t\t\t<Empty description={<Trans>This tutor didn't set any subjects yet</Trans>} />\n\t\t\t\t) : (\n\t\t\t\t\t<Empty description={<Trans>You haven't set any subjects yet</Trans>} />\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\treturn userSubjects.map(({ subject = {}, pricePerHour }) => (\n\t\t\t\t\t<DataList\n\t\t\t\t\t\tkey={subject.pvid}\n\t\t\t\t\t\ttitle={subject.name || \"\"}\n\t\t\t\t\t\tdescription={subject.level.map((l, idx) => (\n\t\t\t\t\t\t\t<p key={idx}>{l.name}</p>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\textra={\n\t\t\t\t\t\t\t<Trans>\n\t\t\t\t\t\t\t\t{symbol}\n\t\t\t\t\t\t\t\t{pricer(pricePerHour)} per hour\n\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t))\n\t\t\t}\n\t\t}\n\t}\n\n\tconst loading = loadingSubjects || loadingLevels\n\n\tuseEffect(() => {\n\t\tsetUserSubjects(subjects)\n\t}, [subjects])\n\n\t// if (loadingSubjects || loadingLevels) return <Loading />\n\n\treturn (\n\t\t<Section paddingHorizontal={0} noPadding={mobile} marginBottom={0}>\n\t\t\t{renderSubjects(loading)}\n\t\t</Section>\n\t)\n}\n\nconst subjectsSchema = (i18n) => {\n\tconst userDetails = JSON.parse(localStorage.getItem(\"userDetails\")) || {}\n\n\treturn yup.object().shape({\n\t\tprogrammeSubjectPvid: yup.number().required(i18n._(t`You have to fill in your subject`)),\n\t\tprogrammeLevelPvid: yup.number().required(i18n._(t`You have to fill in your level/curriculum`)),\n\t\tpricePerHour: yup.number().min(countryMap[userDetails.country].subjectMinTariff, i18n._(t`Are you sure this is the right amount?`))\n\t})\n}\n\nexport default withI18n()(Subjects)\n"],"sourceRoot":""}