(this.webpackJsonpcudysg=this.webpackJsonpcudysg||[]).push([[45],{1116:function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return y})),n.d(e,"h",(function(){return f})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return m})),n.d(e,"f",(function(){return g})),n.d(e,"i",(function(){return v})),n.d(e,"g",(function(){return b})),n.d(e,"e",(function(){return E}));n(154);var a=n(61),c=n(0),r=n.n(c),o=n(13),i=n(36),u=n(73),l=n(43),s=n(29),d=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:i.z,payload:{condition:t}}},p=function(t,e,n){var c=t.lat,p=t.lng,y=t.country,f=t.userPvid,h=t.radius,m=void 0===h?10:h;return function(t){t(d()),y=y.toLowerCase(),n=n.toLowerCase();var h=(u.b[n]||{}).name;if(n&&y!==n&&(a.a.error(r.a.createElement("span",null,"You are currently in ",h,"."," ",r.a.createElement(l.e,{onClick:function(){return Object(s.f)(n)}},"Switch to ",h,"?")," \xa0"," ",r.a.createElement(l.d,{type:"link",size:"small",className:"primary bg-transparent",icon:"close",onClick:function(){return a.a.destroy()}})),0),t({type:i.l,payload:"You are currently in ".concat(h)})),c&&p)return o.i.get("/nearbysearch/study/places?latitude=".concat(c,"&longitude=").concat(p,"&radius=").concat(m,"&typePvid=").concat(e,"&userPvid=").concat(f,"&country=").concat(y)).then((function(e){var a=e.data;t({type:i.k,payload:{data:a.data,isDifferentCountry:y!==n}}),t({type:i.l,payload:null})})).catch((function(e){t({type:i.l,payload:e.response.status})}))}},y=function(t){var e=t.lat,n=t.lng,a=t.radius,c=void 0===a?10:a,r=t.country,u=t.type,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(t){if(e&&n)return o.i.get("/".concat(r,"/nearby-search?latLng=").concat(e,",").concat(n,"&radius=").concat(c,"&type=").concat(u,"&keyword=").concat(l)).then((function(e){var n=e.data;return t({type:i.m,payload:n.data.results})})).catch((function(t){return Object(o.q)(t.response)}))}},f=function(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return function(c){return c(d()),o.i.get("/find/study/places?name=".concat(t,"&typePvid=").concat(e,"&userPvid=").concat(a,"&country=").concat(n)).then((function(t){var e=t.data;return c({type:i.C,payload:e.data})})).catch((function(t){return Object(o.q)(t.response)}))}},h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n(d()),o.i.get("/get/detail/study/places?studyPlacePvid=".concat(t,"&userPvid=").concat(e)).then((function(t){var e=t.data;return n({type:i.p,payload:e.data})})).catch((function(t){console.error({errPlaces:t.response}),Object(o.q)(t.response)}))}},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sg";return function(e){return e(d()),o.i.get("/get/type/study/places?country=".concat(t)).then((function(t){var n=t.data;return e({type:i.q,payload:n.data})})).catch((function(t){return Object(o.q)(t.response)}))}},g=function(){return function(t){return t(d()),o.i.get("/get/category/private/tuition").then((function(e){var n=e.data;return t({type:i.u,payload:n.data})})).catch((function(t){return Object(o.q)(t.response)}))}},v=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(a){return a(d()),o.i.get("/find/study-center?name=".concat(t,"&country=").concat(e,"&userPvid=").concat(n)).then((function(t){var e=t.data;return a({type:i.D,payload:e.data})})).catch((function(t){return Object(o.q)(t.response)}))}},b=function(t,e){var n=t.lat,c=t.lng,p=t.radius,y=void 0===p?10:p,f=t.country,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(t){t(d()),e=e.toLowerCase(),f=f.toLowerCase();var p=(u.b[e]||{}).name;return e&&f!==e&&(a.a.error(r.a.createElement("span",null,"You are currently in ",p,"."," ",r.a.createElement(l.e,{onClick:function(){return Object(s.f)(e)}},"Switch to ",p,"?")),0),t({type:i.B,payload:"You are currently in ".concat(p)})),o.i.get("/nearbysearch/study-center?latitude=".concat(n,"&longitude=").concat(c,"&radius=").concat(y,"&userPvid=").concat(h,"&country=").concat(f)).then((function(e){var n=e.data;return t({type:i.A,payload:n.data})})).catch((function(t){return Object(o.q)(t.response)}))}},E=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n(d()),o.i.get("/get/detail/study-center?tuitionPvid=".concat(t,"&userPvid=").concat(e)).then((function(t){var e=t.data;return n({type:i.t,payload:e.data})})).catch((function(t){return Object(o.q)(t.response)}))}}},1345:function(t,e,n){"use strict";n.r(e);n(98);var a=n(23),c=(n(91),n(34)),r=n(3),o=n(10),i=n(5),u=n(0),l=n.n(u),s=n(43),d=n(369),p=n(1116),y=n(27),f=n(39),h=n(1090),m=n(29),g=n(13),v=n(233);function b(){var t=Object(r.a)(["\n\t\t&& {\n\t\t\theight: auto;\n\t\t}\n\t"]);return b=function(){return t},t}function E(){var t=Object(r.a)(["\n\t\tmargin-bottom: 0;\n\t"]);return E=function(){return t},t}var P=l.a.lazy((function(){return Promise.all([n.e(6),n.e(31)]).then(n.bind(null,1313))})),j=l.a.lazy((function(){return Promise.all([n.e(4),n.e(66)]).then(n.bind(null,1314))})),w=l.a.lazy((function(){return Promise.all([n.e(6),n.e(30)]).then(n.bind(null,1315))})),k=Object(o.b)(s.u).attrs({paddingHorizontal:0}).withConfig({displayName:"StudyPlaces__MainSection",componentId:"cfgiqw-0"})(["background-color:#fff;",""],g.j.mobile(E())),O=Object(o.b)(h.a.ul).withConfig({displayName:"StudyPlaces__TheMenu",componentId:"cfgiqw-1"})(["&&{height:100vh;border-right:none;.ant-menu-item{padding-left:2px;font-weight:bold;height:25px;line-height:1;a:not(.active){opacity:0.3;&:hover{opacity:initial;}}}}",""],g.j.mobile(b())),C=Object(o.b)(c.a).withConfig({displayName:"StudyPlaces__MainRow",componentId:"cfgiqw-2"})([".left-section{position:relative;height:100%;overflow-y:hidden;}.right-section{overflow-y:scroll;height:100vh;}"]),_={visible:{opacity:1,transition:{delay:3,staggerChildren:.2}}},q={visible:{y:0,opacity:1,transition:{stiffness:1e3,velocity:-100}},hidden:{y:50,opacity:0}},N=[{key:"places",label:l.a.createElement(i.Trans,{id:"Places"})},{key:"tuition",label:l.a.createElement(i.Trans,{id:"Tuition center"})}];e.default=Object(d.b)((function(t){var e=t.place;return{nearbyGoogle:e.nearbyGoogle,places:e.places||[],pageToken:e.pageToken,loading:e.loading,photo:e.photo}}),{searchPlaces:p.h,fetchNearbyPlaces:p.a,fetchNearbyPlacesGoogle:p.b})((function(){var t=Object(y.h)().pathname,e=Object(y.g)(),n=t.split("/")||[],c=n[3]||"",r=n.length>4;return l.a.createElement(s.n,null,l.a.createElement(C,null,!r&&l.a.createElement(a.a,{lg:6,className:"left-section"},l.a.createElement(k,null,!g.k&&l.a.createElement(s.u,{marginBottom:0,className:"pb0"},l.a.createElement(s.p,{width:70,onClick:function(){return e.push("/".concat(m.d))}})),l.a.createElement(s.u,{className:"mb0"},l.a.createElement(O,{className:"ant-menu ant-menu-light ant-menu-root ant-menu-vertical",variants:_,initial:"hidden",animate:"visible"},N.map((function(t){return l.a.createElement(h.a.li,{key:t.key,variants:q,className:"ant-menu-item"},l.a.createElement(f.c,{to:"/".concat(m.d,"/study_places/").concat(t.key)},t.label))})))))),l.a.createElement(a.a,{lg:r?24:18,className:"right-section"},l.a.createElement(u.Suspense,{fallback:l.a.createElement(v.a,null)},l.a.createElement(y.d,null,l.a.createElement(y.a,{exact:!0,from:"/:country/study_places",to:"/:country/study_places/places"}),l.a.createElement(y.b,{exact:!0,path:"/:country/study_places/places",component:w}),l.a.createElement(y.b,{path:"/:country/study_places/places/:name--:pvid",render:function(){return l.a.createElement(j,{currentSection:c})}}),l.a.createElement(y.b,{exact:!0,path:"/:country/study_places/tuition",component:P}),l.a.createElement(y.b,{path:"/:country/study_places/tuition/:name--:pvid",render:function(){return l.a.createElement(j,{currentSection:c})}}))))))}))}}]);