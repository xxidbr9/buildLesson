(this.webpackJsonpcudysg=this.webpackJsonpcudysg||[]).push([[14],{1077:function(e,t,a){"use strict";var n=a(179),r=a(1078),i=a(1079);n.a.Button=i.a,n.a.Group=r.a,t.a=n.a},1086:function(e,t,a){"use strict";a(282);var n=a(99),r=(a(569),a(1077)),i=a(19),c=a(3),l=a(0),o=a.n(l),s=a(1114),m=a(281),u=a(10);function d(){var e=Object(c.a)(["\n\t> label {\n\t\tdisplay: ",";\n\t}\n"]);return d=function(){return e},e}var p=Object(u.b)(s.a.Group)(d(),(function(e){return e.labelBlock&&"block"}));t.a=function(e){var t=e.options,a=e.name,c=e.label,l=e.independent,u=e.isButton,d=void 0===u||u,b=Object(i.a)(e,["options","name","label","independent","isButton"]);return l?o.a.createElement(n.a.Item,{name:a,label:c},o.a.createElement(r.a.Group,Object.assign({},b,{name:a,buttonStyle:"solid"}),t.map((function(e){return o.a.createElement(r.a.Button,{value:e.value,key:e.value},e.label)})))):o.a.createElement(m.a,{name:a,label:c},d?o.a.createElement(p,Object.assign({},b,{name:a,buttonStyle:"solid"}),t.map((function(e){return o.a.createElement(s.a.Button,{value:e.value,key:e.value},e.label)}))):o.a.createElement(p,Object.assign({},b,{options:t,name:a})))}},1087:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(0),c=(n=i)&&n.__esModule?n:{default:n},l=a(1);var o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.scriptLoaderId="id"+a.constructor.idCount++,a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.onError,a=e.onLoad,n=e.url;this.constructor.loadedScripts[n]?a():this.constructor.erroredScripts[n]?t():this.constructor.scriptObservers[n]?this.constructor.scriptObservers[n][this.scriptLoaderId]=this.props:(this.constructor.scriptObservers[n]=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},this.scriptLoaderId,this.props),this.createScript())}},{key:"componentWillUnmount",value:function(){var e=this.props.url,t=this.constructor.scriptObservers[e];t&&delete t[this.scriptLoaderId]}},{key:"createScript",value:function(){var e=this,t=this.props,a=t.onCreate,n=t.url,r=t.attributes,i=document.createElement("script");a(),r&&Object.keys(r).forEach((function(e){return i.setAttribute(e,r[e])})),i.src=n,i.hasAttribute("async")||(i.async=1);var c=function(t){var a=e.constructor.scriptObservers[n];Object.keys(a).forEach((function(r){t(a[r])&&delete e.constructor.scriptObservers[n][e.scriptLoaderId]}))};i.onload=function(){e.constructor.loadedScripts[n]=!0,c((function(e){return e.onLoad(),!0}))},i.onerror=function(){e.constructor.erroredScripts[n]=!0,c((function(e){return e.onError(),!0}))},document.body.appendChild(i)}},{key:"render",value:function(){return null}}]),t}(c.default.Component);o.propTypes={attributes:l.PropTypes.object,onCreate:l.PropTypes.func,onError:l.PropTypes.func.isRequired,onLoad:l.PropTypes.func.isRequired,url:l.PropTypes.string.isRequired},o.defaultProps={attributes:{},onCreate:function(){},onError:function(){},onLoad:function(){}},o.scriptObservers={},o.loadedScripts={},o.erroredScripts={},o.idCount=0,t.default=o,e.exports=t.default},1100:function(e,t,a){"use strict";var n=a(19),r=(a(282),a(99)),i=a(3),c=a(0),l=a.n(c),o=a(281),s=a(1371),m=a(10);function u(){var e=Object(i.a)(["\n\t.ant-input {\n\t\twidth: ",";\n\t}\n"]);return u=function(){return e},e}var d=Object(m.b)(r.a.Item)(u(),(function(e){return e.width||"100%"}));t.a=function(e){var t=e.monthly,a=e.width,r=Object(n.a)(e,["monthly","width"]);return t?l.a.createElement(o.a,{name:r.name,label:r.label},l.a.createElement(s.a.MonthPicker,Object.assign({name:r.name},r,{style:{width:"100%"}}))):l.a.createElement(d,{name:r.name,label:r.label},l.a.createElement(s.a,Object.assign({},r,{style:{width:a||"100%"}})))}},1103:function(e,t,a){var n=a(1110),r=a(1111);e.exports=function(e,t,a){var i=t&&a||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var c=(e=e||{}).random||(e.rng||n)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,t)for(var l=0;l<16;++l)t[i+l]=c[l];return t||r(c)}},1110:function(e,t){var a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(a){var n=new Uint8Array(16);e.exports=function(){return a(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},1111:function(e,t){for(var a=[],n=0;n<256;++n)a[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,r=a;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}},1112:function(e,t,a){e.exports=a.p+"static/media/decorating.794e4ad9.png"},1114:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(22),r=a(1077),i=a(0),c=a(67),l=function(e){var t=e.name,a=e.validate,l=e.fast,o=e.onChange,s=Object(n.c)(e,["name","validate","fast","onChange"]);return i.createElement(c.a,{name:t,validate:a,fast:l},(function(e){var a=e.field.value,n=e.form,c=n.setFieldValue,l=n.setFieldTouched;return i.createElement(r.a,Object.assign({value:a,onChange:function(e){c(t,e.target.value),l(t,!0,!1),o&&o(e)}},s))}))};l.Group=function(e){var t=e.name,a=e.validate,l=e.fast,o=e.onChange,s=Object(n.c)(e,["name","validate","fast","onChange"]);return i.createElement(c.a,{name:t,validate:a,fast:l},(function(e){var a=e.field.value,n=e.form,c=n.setFieldValue,l=n.setFieldTouched;return i.createElement(r.a.Group,Object.assign({value:a,onChange:function(e){c(t,e.target.value),l(t,!0,!1),o&&o(e)}},s))}))},l.Button=r.a.Button},1125:function(e,t,a){e.exports=a.p+"static/media/ellipse-orange.b77438c1.png"},1126:function(e,t,a){e.exports=a.p+"static/media/ellipse-purple.32f7a042.png"},1373:function(e,t,a){"use strict";a.r(t);a(92);var n=a(4),r=(a(91),a(34)),i=(a(98),a(23)),c=(a(574),a(385)),l=a(26),o=a(28),s=a(3),m=a(0),u=a.n(m),d=a(43),p=a(27),b=a(10),f=a(1103),E=a.n(f),h=a(1125),g=a.n(h),v=a(1126),y=a.n(v),j=a(13),O=a(66),T=a(82),S=a(1112),x=a.n(S),P=a(368),k=a(5),D=a(212),C=a(45),_=(a(282),a(99)),N=(a(366),a(178)),w=a(80),Y=a(177),A=a(35),B=a.n(A);var L=function(e){var t={};return e.firstName||(t.firstName="You have to tell us your first name"),e.lastName||(t.lastName="You have to tell us your last name"),t},I=Object(k.withI18n)()((function(e){var t=e.handlers,a=e.onData,c=e.loading,o=e.i18n,s=(t.handleNext,t.handleUpdateProfile),m=a.userData,p=void 0===m?{}:m,b=(a.setUserData,a.initialValues);return 0===Object.keys(p).length?u.a.createElement(d.o,null):u.a.createElement(i.a,{lg:16,xs:24,style:{padding:"2em 3em"}},u.a.createElement(d.l,{content:u.a.createElement(k.Trans,{id:"Your name"}),subheader:u.a.createElement(k.Trans,{id:"<0>Tell us your name</0>",components:[u.a.createElement("span",null)]}),level:4,marginBottom:"2em"}),u.a.createElement(w.c,{onSubmit:function(e,t){var a=t.setSubmitting;e=Object(l.a)({},b,{},e,{dob:B()(b.dob).format("YYYY/MM/DD")}),s(e,"preferfield"),a(!1)},validate:L,initialValues:{firstName:p.firstName||"",lastName:p.lastName||""}},(function(e){var t=e.handleSubmit;return u.a.createElement(_.a,{layout:"vertical",onSubmit:t},u.a.createElement(r.a,{gutter:32},u.a.createElement(i.a,{lg:12},u.a.createElement(Y.a,{name:"firstName",label:u.a.createElement(k.Trans,{id:"First name"}),placeholder:o._({id:"Your first name..."})})),u.a.createElement(i.a,{lg:12},u.a.createElement(Y.a,{name:"lastName",label:u.a.createElement(k.Trans,{id:"Last name"}),placeholder:o._({id:"Your last name..."})}))),u.a.createElement(N.a,{className:"mb4em"}),u.a.createElement(d.u,{textAlign:"right",noPadding:!0},u.a.createElement(d.d,{type:"primary",htmlType:"submit",loading:c},c?u.a.createElement(k.Trans,{id:"Please wait..."}):u.a.createElement(k.Trans,{id:"Next"})," ",u.a.createElement(n.a,{type:"right"}))))})))})),z=(a(568),a(367)),M=a(155),U=a(19),V=(a(154),a(61)),H=a(364),F=a(1083),q=a(73),R=a(372),G=a(188);function J(){var e=Object(s.a)(["\n\tposition: relative;\n\tmargin-bottom: 2em;\n\t&:hover {\n\t\t.delete {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tvisibility: visible;\n\t\t}\n\t}\n\t.delete {\n\t\tdisplay: none;\n\t\tcursor: pointer;\n\t\tvisibility: hidden;\n\t\tposition: absolute;\n\t\tright: 0;\n\t\ttop: -20px;\n\t\tborder-radius: 50%;\n\t\twidth: 25px;\n\t\tcolor: #ff9d00;\n\t\theight: 25px;\n\t\tz-index: 99;\n\t\t&:hover {\n\t\t\tbackground: #eee;\n\t\t}\n\t}\n"]);return J=function(){return e},e}var W=Object(b.b)(r.a).attrs({gutter:16})(J()),X=Object(j.l)("programme");var K=Object(k.withI18n)()((function(e){var t=e.handlers,a=e.onData,c=e.fetchUser,s=e.loading,p=e.i18n,b=localStorage.getItem("onboarding_preferrable_field"),f=a.userData,h=void 0===f?{}:f,g=(h.nonAcademic||[]).map((function(e){return e.subNonAcademic})).flat(),v="non_academic"===b?g:h.subjectList,y=Object(m.useState)(!1),S=Object(o.a)(y,2),x=S[0],D=S[1],C=t.handleNext,A=t.handlePrev,B=Object(m.useState)(v),L=Object(o.a)(B,2),I=L[0],J=L[1],K=Object(R.b)().options,Q=JSON.parse(localStorage.getItem("userDetails"))||{},Z=Object(O.c)(P.c,{client:X,variables:{country:Q.country||"sg"}}).data,$=void 0===Z?{}:Z,ee=Object(O.c)(P.b,{client:X,variables:{country:Q.country||"sg"}}).data,te=void 0===ee?{}:ee,ae=($.getProgrammeSubjectList||[]).map((function(e){return{value:Number(e.pvid),label:e.name}})),ne=(te.getProgrammeLevelList||[]).map((function(e){return{value:Number(e.pvid),label:e.name}})),re=Object(O.b)(T.p,{client:Object(j.l)(),onCompleted:function(){c().then((function(){return V.a.success(p._({id:"The subject item has been added"}),2)}))},onError:function(e){return Object(j.q)(e)}}),ie=Object(o.a)(re,2),ce=ie[0],le=ie[1].loading,oe=Object(O.b)(T.I,{client:Object(j.l)(),onCompleted:function(){c().then((function(){return V.a.success(p._({id:"The subject item has been updated"}),2)}))},onError:function(e){return Object(j.q)(e)}}),se=Object(o.a)(oe,2),me=se[0],ue=se[1].loading,de=Object(O.b)(T.x,{client:Object(j.l)(),onCompleted:function(){c().then((function(){return V.a.success(p._({id:"The subject item has been deleted"}),2)}))},onError:function(e){return Object(j.q)(e)}}),pe=Object(o.a)(de,2),be=pe[0],fe=pe[1].loading,Ee=Object(O.b)(G.e,{client:Object(j.l)(),onCompleted:function(){c().then((function(){return V.a.success(p._({id:"The subject item has been updated"}),2)}))},onError:function(e){return Object(j.q)(e)}}),he=Object(o.a)(Ee,1)[0],ge=function(e,t){var a=t.setSubmitting,n=e.hasOwnProperty("pvid"),r="non_academic"===b?he:me,i="non_academic"===b?he:ce;if(n){var c=e;c.source;e=Object(U.a)(c,["source"]),e=Object(l.a)({},e,{orderList:1,pricePerHour:Number(e.pricePerHour),programmeSubjectSubNonAcademicPvid:String(e.programmeSubjectSubNonAcademicPvid[1])})}else e=Object(l.a)({},e,{orderList:1,pricePerHour:Number(e.pricePerHour),programmeSubjectSubNonAcademicPvid:e.programmeSubjectSubNonAcademicPvid[1]});(n?r:i)({variables:{list:[e]}}).finally((function(){a(!1),D(!1)}))},ve=function(e){var t=I.find((function(t){return t.pvid===e}))||{};if("non_academic"===b){t.programmeSubjectSubNonAcademicPvid=t.pvid,t.isDeleted=!0;t.name,t.__typename,t.status,t.programmeSubjectNonAcademicPvid,t.pvid;var a=Object(U.a)(t,["name","__typename","status","programmeSubjectNonAcademicPvid","pvid"]);he({variables:{list:[a]}})}else be({variables:{pvidList:[t.pvid]}})},ye=function(){D(!1),J(v)};return Object(m.useEffect)((function(){J(v)}),[v]),u.a.createElement(i.a,{lg:16,xs:24,style:{padding:"2em"}},u.a.createElement(d.l,{content:u.a.createElement(k.Trans,{id:"Subjects"}),subheader:u.a.createElement(k.Trans,{id:"Please fill the subjects you are teaching"}),level:4,marginBottom:"2em"}),x?"non_academic"===b?u.a.createElement(w.c,{onSubmit:ge,initialValues:{programmeSubjectSubNonAcademicPvid:"",pricePerHour:0}},(function(e){var t=e.handleSubmit;return u.a.createElement(_.a,{layout:"vertical",onSubmit:t,className:"mb2em"},u.a.createElement(r.a,{gutter:16,className:"mb0"},u.a.createElement(i.a,{lg:12,xs:24},u.a.createElement(H.a,{cascader:!0,name:"programmeSubjectSubNonAcademicPvid",placeholder:p._({id:"Subject name"}),label:u.a.createElement(k.Trans,{id:"Subject"}),options:K,marginBottom:"5px"})),u.a.createElement(i.a,{lg:12,xs:12},u.a.createElement(Y.a,{name:"pricePerHour",label:u.a.createElement(k.Trans,{id:"Price per hour"}),placeholder:p._({id:"Your price per hour..."}),addonBefore:q.b[Q.country].symbol}))),u.a.createElement(F.a,{block:!0},u.a.createElement(k.Trans,{id:"Save this subject"}))," ","\xa0"," ",u.a.createElement(d.e,{block:!0,onClick:ye},u.a.createElement(k.Trans,{id:"Cancel"})))})):u.a.createElement(w.c,{onSubmit:ge,initialValues:{pricePerHour:0}},(function(e){var t=e.handleSubmit;return u.a.createElement(_.a,{layout:"vertical",onSubmit:t,className:"mb2em"},u.a.createElement(r.a,{gutter:16,type:"flex",className:"mb0"},u.a.createElement(i.a,{lg:12,xs:24},u.a.createElement(H.a,{name:"programmeSubjectPvid",placeholder:p._({id:"Subject name"}),label:u.a.createElement(k.Trans,{id:"Subject"}),options:ae,marginBottom:"5px"})),u.a.createElement(i.a,{lg:12,xs:24},u.a.createElement(H.a,{name:"programmeLevelPvid",placeholder:p._({id:"Curriculum"}),label:u.a.createElement(k.Trans,{id:"Curriculum"}),options:ne,marginBottom:"5px"})),u.a.createElement(i.a,{lg:12},u.a.createElement(Y.a,{label:u.a.createElement(k.Trans,{id:"Price per hour"}),name:"pricePerHour",addonBefore:q.b[Q.country].symbol}))),u.a.createElement(F.a,{block:!0},u.a.createElement(k.Trans,{id:"Save this subject"}))," ","\xa0"," ",u.a.createElement(d.e,{block:!0,onClick:ye},u.a.createElement(k.Trans,{id:"Cancel"})))})):0===(I||[]).length?u.a.createElement(d.j,null):s||fe||le||ue?u.a.createElement(d.o,null):(I||[]).map((function(e){return"non_academic"===b?u.a.createElement(w.c,{enableReinitialize:!0,onSubmit:ge,initialValues:{programmeSubjectSubNonAcademicPvid:[e.programmeSubjectSubNonAcademicPvid,e.pvid],pricePerHour:e.pricePerHour,profileNonAcademicPvid:e.profileNonAcademicPvid}},(function(t){var a=t.handleSubmit;return u.a.createElement(_.a,{layout:"vertical",onSubmit:a,className:"mb2em"},u.a.createElement(r.a,{gutter:16,className:"mb0"},u.a.createElement(i.a,{lg:12,xs:24},u.a.createElement(H.a,{cascader:!0,name:"programmeSubjectSubNonAcademicPvid",placeholder:p._({id:"Subject name"}),label:u.a.createElement(k.Trans,{id:"Subject"}),options:K,marginBottom:"5px"})),u.a.createElement(i.a,{lg:12,xs:12},u.a.createElement(Y.a,{name:"pricePerHour",label:u.a.createElement(k.Trans,{id:"Price per hour"}),placeholder:p._({id:"Your price per hour..."}),addonBefore:q.b[Q.country].symbol}))),u.a.createElement(F.a,{type:"primary"},u.a.createElement(k.Trans,{id:"Update"}))," ","\xa0"," ",u.a.createElement(z.a,{title:u.a.createElement(k.Trans,{id:"Delete this subject?"}),onConfirm:function(){return ve(e.pvid)}},u.a.createElement(d.e,{icon:"close"},"\xa0 ",u.a.createElement(k.Trans,{id:"Delete"}))))})):u.a.createElement(w.c,{enableReinitialize:!0,key:e.pvid,onSubmit:ge,initialValues:{pvid:e.pvid,programmeSubjectPvid:Number(e.subject.pvid),programmeLevelPvid:Number(e.level.pvid),pricePerHour:e.pricePerHour}},(function(t){var a=t.handleSubmit;return u.a.createElement(W,null,u.a.createElement(i.a,{lg:24},u.a.createElement(_.a,{layout:"vertical",onSubmit:a},u.a.createElement(r.a,{gutter:16,type:"flex"},u.a.createElement(i.a,{lg:12,xs:24},u.a.createElement(H.a,{name:"programmeSubjectPvid",placeholder:p._({id:"Subject name"}),label:u.a.createElement(k.Trans,{id:"Subject"}),options:ae,marginBottom:"5px"})),u.a.createElement(i.a,{lg:12,xs:24},u.a.createElement(H.a,{name:"programmeLevelPvid",placeholder:p._({id:"Curriculum"}),label:u.a.createElement(k.Trans,{id:"Curriculum"}),options:ne,marginBottom:"5px"})),u.a.createElement(i.a,{lg:12,xs:12},u.a.createElement(Y.a,{name:"pricePerHour",label:u.a.createElement(k.Trans,{id:"Price per hour"}),placeholder:p._({id:"Your price per hour..."}),addonBefore:q.b[Q.country].symbol}))),u.a.createElement(F.a,{type:"primary"},u.a.createElement(k.Trans,{id:"Update"}))," ","\xa0"," ",u.a.createElement(z.a,{title:u.a.createElement(k.Trans,{id:"Delete this subject?"}),onConfirm:function(){return ve(e.pvid)}},u.a.createElement(d.e,{icon:"close"},"\xa0 ",u.a.createElement(k.Trans,{id:"Delete"}))))))}))})),!x&&u.a.createElement("div",{className:"mb2em"},u.a.createElement(d.d,{block:!0,type:"dashed",size:"medium",icon:"plus",onClick:function(){D(!0),J((function(e){return[].concat(Object(M.a)(e),[{id:E()(),programmeSubjectPvid:"",pricePerHour:0,subject:{pvid:null},level:{pvid:null},orderList:0}])}))},className:"mb2em"},"\xa0 ",u.a.createElement(k.Trans,{id:"Add a new subject"}))),u.a.createElement(N.a,{className:"mb4em"}),u.a.createElement(r.a,{type:"flex",justify:"space-between"},u.a.createElement(i.a,{lg:12,xs:24},u.a.createElement(d.e,{type:"primary",size:"large",block:j.k,onClick:function(){return A("aboutme")}},u.a.createElement(k.Trans,{id:"<0/> Back to About me",components:[u.a.createElement(n.a,{type:"left"})]}))),u.a.createElement(i.a,{lg:12,xs:24,style:{textAlign:!j.k&&"right"}},u.a.createElement(d.d,{type:"primary",size:"large",block:j.k,onClick:function(){return C("educations")}},u.a.createElement(k.Trans,{id:"Go to Educations <0/>",components:[u.a.createElement(n.a,{type:"right"})]})))))})),Q=a(1087),Z=a.n(Q),$=a(1100),ee=a(1086),te=null;var ae=Object(k.withI18n)()((function(e){var t=e.handlers,a=e.onData,c=e.loading,s=e.i18n,p=(t.handleNext,t.handlePrev),b=t.handleUpdateProfile,f=a.userData,E=void 0===f?{}:f,h=Object(m.useState)(""),g=Object(o.a)(h,2),v=g[0],y=g[1],O=Object(m.useState)({}),T=Object(o.a)(O,2),S=(T[0],T[1]),x=JSON.parse(localStorage.getItem("userDetails"))||{},P=function(){var e={types:[],componentRestrictions:{country:x.country}};(te=new google.maps.places.Autocomplete(document.getElementById("location"),e)).addListener("place_changed",D)},D=function(){var e=te.getPlace();e.address_components&&(S({location:e.formatted_address}),y(e.formatted_address))};return Object(m.useEffect)((function(){y(E.address)}),[E.address]),Object.keys(E).length<1?u.a.createElement(i.a,{lg:14,xs:24},u.a.createElement(d.o,null)):u.a.createElement(i.a,{lg:16,xs:24,style:{padding:"2em 3em"}},u.a.createElement(d.l,{content:u.a.createElement(k.Trans,{id:"About me"}),subheader:u.a.createElement(k.Trans,{id:"<0>Tell us some of your details</0>",components:[u.a.createElement("span",null)]}),level:4,marginBottom:"2em"}),u.a.createElement(w.c,{enableReinitialize:!0,onSubmit:function(e,t){var a=t.setSubmitting,n={firstName:E.firstName,lastName:E.lastName};e=Object(l.a)({},e,{},n,{address:v,phone:"".concat(q.b[E.country].phoneCode).concat(e.phone),dob:B()(e.dob).format("YYYY-MM-DD"),nric:""}),b(e,"subjects"),a(!1)},initialValues:{gender:(E.gender||"").toLowerCase()||"m",race:E.race||void 0,dob:B()(E.dob).format("YYYY-MM-DD"),address:E.address,description:E.description,phone:(E.phone||"").startsWith("+")?E.phone.slice(3):E.phone}},(function(e){var t=e.handleSubmit;return u.a.createElement(_.a,{layout:"vertical",onSubmit:t},u.a.createElement(r.a,{gutter:32},u.a.createElement(i.a,{lg:12},u.a.createElement($.a,{name:"dob",label:u.a.createElement(k.Trans,{id:"Date of birth"}),placeholder:"Your date of birth...",disabledDate:function(e){return e&&e>B()()}})),u.a.createElement(i.a,{lg:12},u.a.createElement(Y.a,{name:"phone",label:u.a.createElement(k.Trans,{id:"Your mobile"}),placeholder:s._({id:"E.g. 87888788"}),addonBefore:q.b[x.country].phoneCode}))),u.a.createElement(r.a,{gutter:32},u.a.createElement(i.a,{lg:12},u.a.createElement(Z.a,{url:j.h,onLoad:P}),u.a.createElement(Y.a,{special:!0,allowClear:!0,id:"location",name:"address",placeholder:s._({id:"Your location..."}),label:u.a.createElement(k.Trans,{id:"Your location"}),value:v,helpText:u.a.createElement(k.Trans,{id:"Start typing some characters to show place options"}),onChange:function(e){return y(e.target.value)}})),u.a.createElement(i.a,{lg:12},u.a.createElement(ee.a,{name:"gender",label:u.a.createElement(k.Trans,{id:"Gender"}),options:[{value:"m",label:u.a.createElement(k.Trans,{id:"Male"})},{value:"f",label:u.a.createElement(k.Trans,{id:"Female"})}]}))),u.a.createElement(Y.a,{textarea:!0,rows:4,name:"description",label:u.a.createElement(k.Trans,{id:"Short description about you"}),placeholder:s._({id:"E.g. I am Jenny Ang, a 24-year old professional English tutor. I have 6-year experiences tutoring, both in freelance and worked under agency."})}),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(r.a,{type:"flex",justify:"space-between",align:"middle"},u.a.createElement(i.a,{lg:8},u.a.createElement(d.e,{size:"large",htmllType:"button",icon:"left",onClick:function(){return p("preferfield")}},"\xa0 ",u.a.createElement(k.Trans,{id:"Back"}))),u.a.createElement(i.a,{lg:8,style:{textAlign:"right"}},u.a.createElement(d.d,{type:"primary",htmlType:"submit",loading:c},u.a.createElement(k.Trans,{id:"Next <0/>",components:[u.a.createElement(n.a,{type:"right"})]})))))})))})),ne=(a(124),a(33)),re=a(213),ie=a(100);function ce(){var e=Object(s.a)(["\n        && {\n            height: auto;\n        }\n    "]);return ce=function(){return e},e}function le(){var e=Object(s.a)(["\n\t&& {\n\t\theight: 200px;\n\t\tborder: ",";\n\t\tbackground-color: ",";\n\t}\n\n\t","\n"]);return le=function(){return e},e}var oe=Object(b.b)(d.g)(le(),(function(e){return e.isSelected&&"2px solid ".concat(C.a.primaryColor)}),(function(e){return e.isSelected&&C.a.primaryColorRgba}),j.j.mobile(ce())),se=ne.a.Text,me=ne.a.Paragraph;var ue=Object(k.withI18n)()((function(e){var t=e.handlers,a=e.onData,c=e.loading,l=(e.i18n,t.handleNext),s=(t.handleUpdateProfile,a.userData),p=void 0===s?{}:s,b=(a.setUserData,a.initialValues,Object(m.useState)({})),f=Object(o.a)(b,2),E=f[0],h=f[1],g=0===Object.keys(E).length,v=[{key:"academic",title:u.a.createElement(k.Trans,{id:"Academic"}),description:u.a.createElement(k.Trans,{id:"If you teach something like Mathematic, History, English, Chemical, etc"}),call:"tutor"},{key:"non_academic",title:u.a.createElement(k.Trans,{id:"Non-academic"}),description:u.a.createElement(k.Trans,{id:"If you teach something like Music, Photography, Digital Marketing, etc"}),call:"coach"}];return 0===Object.keys(p).length?u.a.createElement(d.o,null):u.a.createElement(i.a,{lg:16,xs:24,style:{padding:"2em 3em"}},u.a.createElement(d.l,{content:u.a.createElement(k.Trans,{id:"Your preferrable field"}),subheader:u.a.createElement(k.Trans,{id:"<0>Tell us whether you'd like to teach academic or non-academic lessons</0>",components:[u.a.createElement("span",null)]}),level:4,marginBottom:"2em"}),u.a.createElement(re.a,{type:"info",showIcon:!0,message:u.a.createElement(k.Trans,{id:"You can change this later, or even you can teach both of these fields. However, for now, you need to choose first"})}),u.a.createElement(r.a,{gutter:16},v.map((function(e){var t=e.key===E.key;return u.a.createElement(i.a,{lg:12,key:e.key},u.a.createElement(oe,{padding:"2em",hoverable:!0,onClick:function(){return h(e)},isSelected:t},u.a.createElement(ne.a,{className:"mb2em"},u.a.createElement(me,{strong:!0},e.title),u.a.createElement(se,{type:"secondary"},e.description)),t&&u.a.createElement(se,null,u.a.createElement(ie.a,{type:"icon-male"})," Then we'll call you ",u.a.createElement("strong",null,e.call))))}))),u.a.createElement(N.a,{className:"mb4em"}),u.a.createElement(d.u,{textAlign:"right",noPadding:!0},u.a.createElement(d.d,{type:"primary",onClick:function(){localStorage.setItem("onboarding_preferrable_field",E.key),l("aboutme")},loading:c,disabled:g},c?u.a.createElement(k.Trans,{id:"Please wait..."}):u.a.createElement(k.Trans,{id:"Next"})," ",u.a.createElement(n.a,{type:"right"}))))})),de=a(570);var pe=Object(k.withI18n)()((function(e){var t=e.onNext,a=e.onPrev,c=e.onData,s=e.loading,p=e.fetchUser,b=e.i18n,f=Object(m.useState)([]),E=Object(o.a)(f,2),h=E[0],g=E[1],v=Object(m.useState)(!1),y=Object(o.a)(v,2),S=y[0],x=y[1],P=c.userData,D=void 0===P?{}:P,C=Object(O.b)(T.y,{client:Object(j.l)(),onCompleted:function(){return p()},onError:function(e){return Object(j.q)(e)}}),A=Object(o.a)(C,1)[0],L=Object(O.b)(T.E,{client:Object(j.l)(),onCompleted:function(){return p()},onError:function(e){return Object(j.q)(e)}}),I=Object(o.a)(L,1)[0],M=Object(O.b)(T.s,{client:Object(j.l)()}),H=Object(o.a)(M,1)[0],q=function(e,t){var a=t.setSubmitting,n=(e=Object(l.a)({},e,{fromDate:B()(e.fromDate).format("YYYY-MM-DD"),toDate:e.isPresent?B()().format("YYYY-MM-DD"):B()(e.toDate).format("YYYY-MM-DD")})).hasOwnProperty("pvid");if(n){var r=e;r.source;e=Object(U.a)(r,["source"])}(n?I:A)({variables:{list:[e]}}).then((function(){return V.a.success(b._({id:"The education has been updated"}))})).then((function(){a(!1),x(!1)}))},R=function(){x(!1),g(D.educationList)};return Object(m.useEffect)((function(){g(D.educationList)}),[D.educationList]),u.a.createElement(i.a,{lg:16,xs:24,style:{padding:"2em"}},u.a.createElement(d.l,{content:u.a.createElement(k.Trans,{id:"Educational background"}),subheader:u.a.createElement(k.Trans,{id:"Please fill in your educational background"}),level:4,marginBottom:"2em"}),0!==(h||[]).length||S?s?u.a.createElement(d.o,null):S?u.a.createElement(w.c,{onSubmit:q,initialValues:{isPresent:!1}},(function(e){var t=e.handleSubmit,a=e.values;return u.a.createElement(_.a,{layout:"vertical",onSubmit:t,style:{marginBottom:"2em"}},u.a.createElement(Y.a,{name:"institution",placeholder:b._({id:"E.g. Nanyang Polytechnic"}),label:u.a.createElement(k.Trans,{id:"Your school/college"})}),u.a.createElement(r.a,{style:{marginBottom:"1em"}},u.a.createElement(i.a,{lg:14},u.a.createElement(de.a,{name:"isPresent"},u.a.createElement(k.Trans,{id:"I'm currently studying here"})))),u.a.createElement(r.a,{gutter:16},u.a.createElement(i.a,{lg:12,xs:12},u.a.createElement($.a,{monthly:!0,name:"fromDate",label:u.a.createElement(k.Trans,{id:"From"}),placeholder:b._({id:"Choose the date"}),disabledDate:function(e){return e&&e>B()()}})),u.a.createElement(i.a,{lg:12,xs:12},u.a.createElement($.a,{monthly:!0,name:"toDate",label:u.a.createElement(k.Trans,{id:"To"}),placeholder:b._({id:"Choose the date"}),disabled:a.isPresent,disabledDate:function(e){return e&&e>B()()}}))),u.a.createElement(F.a,{block:!0},u.a.createElement(k.Trans,{id:"Save this education"}))," ","\xa0"," ",u.a.createElement(d.e,{block:!0,onClick:R},u.a.createElement(k.Trans,{id:"Cancel"})))})):(h||[]).map((function(e){return u.a.createElement(w.c,{enableReinitialize:!0,onSubmit:q,key:e.pvid,initialValues:{pvid:e.pvid,institution:e.institution,fromDate:B()(e.fromDate).format("YYYY-MM-DD"),toDate:B()(e.toDate).format("YYYY-MM-DD"),isPresent:e.isPresent}},(function(t){var a=t.handleSubmit,n=t.values,c=t.dirty;return u.a.createElement(_.a,{layout:"vertical",onSubmit:a,style:{marginBottom:"2em"}},u.a.createElement(Y.a,{name:"institution",placeholder:b._({id:"E.g. Nanyang Polytechnic"}),label:u.a.createElement(k.Trans,{id:"Your school/college"})}),u.a.createElement(r.a,{style:{marginBottom:"1em"}},u.a.createElement(i.a,{lg:14},u.a.createElement(de.a,{name:"isPresent"},u.a.createElement(k.Trans,{id:"I'm currently studying here"})))),u.a.createElement(r.a,{gutter:16},u.a.createElement(i.a,{lg:12,xs:12},u.a.createElement($.a,{monthly:!0,name:"fromDate",label:u.a.createElement(k.Trans,{id:"From"}),placeholder:b._({id:"Choose the date"})})),u.a.createElement(i.a,{lg:12,xs:12},u.a.createElement($.a,{monthly:!0,name:"toDate",label:u.a.createElement(k.Trans,{id:"To"}),placeholder:b._({id:"Choose the date"}),disabled:n.isPresent}))),u.a.createElement(F.a,{disabled:!c},u.a.createElement(k.Trans,{id:"Save changes"}))," ","\xa0"," ",u.a.createElement(z.a,{title:u.a.createElement(k.Trans,{id:"Delete this education?"}),onConfirm:function(){return function(e){var t=h.find((function(t){return t.pvid===e}))||{};H({variables:{pvidList:[t.pvid]}}).then((function(){return p()})).then((function(){return V.a.success(b._({id:"The education item has been deleted"}),2)}))}(e.pvid)}},u.a.createElement(d.e,{icon:"close"},"\xa0 ",u.a.createElement(k.Trans,{id:"Delete"}))))}))})):u.a.createElement(d.j,null),!S&&u.a.createElement("div",{style:{marginBottom:"2em"}},u.a.createElement(d.d,{block:!0,type:"dashed",size:"medium",icon:"plus",onClick:function(){return x(!0)},style:{marginBottom:"2em"}},"\xa0 ",u.a.createElement(k.Trans,{id:"Add a new education"}))),u.a.createElement(N.a,{className:"mb4em"}),u.a.createElement(r.a,{type:"flex",justify:"space-between"},u.a.createElement(i.a,{lg:12,xs:24},u.a.createElement(d.e,{type:"primary",block:j.k,size:"large",onClick:function(){return a("subjects")}},u.a.createElement(k.Trans,{id:"<0/> Back to Subjects",components:[u.a.createElement(n.a,{type:"left"})]}))),u.a.createElement(i.a,{lg:12,xs:24,style:{textAlign:!j.k&&"right"}},u.a.createElement(d.d,{type:"primary",block:j.k,size:"large",onClick:function(){return t("experiences")}},u.a.createElement(k.Trans,{id:"Go to Experiences <0/>",components:[u.a.createElement(n.a,{type:"right"})]})))))}));function be(){var e=Object(s.a)(["\n\tposition: relative;\n\t&:hover {\n\t\t.delete {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tvisibility: visible;\n\t\t}\n\t}\n\t.delete {\n\t\tdisplay: none;\n\t\tcursor: pointer;\n\t\tvisibility: hidden;\n\t\tposition: absolute;\n\t\tright: 0;\n\t\ttop: -20px;\n\t\tborder-radius: 50%;\n\t\twidth: 25px;\n\t\tcolor: #ff9d00;\n\t\theight: 25px;\n\t\tz-index: 99;\n\t\t&:hover {\n\t\t\tbackground: #eee;\n\t\t}\n\t}\n"]);return be=function(){return e},e}var fe=Object(b.b)(r.a).attrs({gutter:16})(be());var Ee=Object(k.withI18n)()((function(e){var t=e.onNext,a=e.onPrev,c=(e.onExperiences,e.data),s=e.fetchUser,p=(e.loading,e.i18n),b=Object(m.useState)([]),f=Object(o.a)(b,2),E=f[0],h=f[1],g=Object(m.useState)(!1),v=Object(o.a)(g,2),y=v[0],S=v[1],x=Object(R.b)().options,P="non_academic"===localStorage.getItem("onboarding_preferrable_field"),D=c.dataSubjects,C=void 0===D?{}:D,A=c.dataLevels,L=void 0===A?{}:A,I=c.userData,M=void 0===I?{}:I,q=Object(O.b)(T.z,{client:j.e.profileClient,onCompleted:function(){s(),V.a.success(p._({id:"The experience item has been added"}),2)},onError:function(e){return Object(j.q)(e)}}),G=Object(o.a)(q,1)[0],J=Object(O.b)(T.F,{client:j.e.profileClient,onCompleted:function(){s(),V.a.success(p._({id:"The experience item has been updated"}),2)},onError:function(e){return Object(j.q)(e)}}),W=Object(o.a)(J,1)[0],X=Object(O.b)(T.t,{client:Object(j.l)(),onCompleted:function(){s(),S(!1),V.a.success(p._({id:"The experience item has been deleted"}),2)},onError:function(e){return Object(j.q)(e)}}),K=Object(o.a)(X,1)[0],Q=(L.getProgrammeLevelList||[]).map((function(e){return{value:e.name,label:e.name}})),Z=(C.getProgrammeSubjectList||[]).map((function(e){return{value:e.name,label:e.name}}));Z=P?x:Z;var ee=function(){h(M.experienceList),S(!1)},te=function(e,t){var a=t.setSubmitting,n=e.hasOwnProperty("pvid"),r=n?W:G;if(e=Object(l.a)({},e,{level:"0",fromDate:B()(e.fromDate).format("YYYY-MM-DD"),toDate:B()(e.toDate).format("YYYY-MM-DD")}),n){var i=e;i.source;e=Object(U.a)(i,["source"])}r({variables:{list:[e]}}).finally((function(){S(!1),a(!1)}))};return Object(m.useEffect)((function(){h(M.experienceList)}),[M.experienceList]),console.log({data:c}),u.a.createElement(i.a,{lg:16,xs:24,style:{padding:"2em"}},u.a.createElement(d.l,{content:u.a.createElement(k.Trans,{id:"Tutoring experiences"}),subheader:u.a.createElement(k.Trans,{id:"Please fill in your tutoring experiences"}),level:4,marginBottom:"2em"}),y?u.a.createElement(w.c,{onSubmit:te,initialValues:{isPresent:!1,isPrivateTutor:!1}},(function(e){var t=e.handleSubmit,a=e.values;return u.a.createElement(_.a,{layout:"vertical",onSubmit:t,style:{marginBottom:"2em"}},u.a.createElement(r.a,{gutter:16,type:"flex"},u.a.createElement(i.a,{lg:P?12:24,xs:P?12:24},u.a.createElement(Y.a,{name:"institution",placeholder:p._({id:"Tuition's name"}),label:u.a.createElement(k.Trans,{id:"Tuition's name"}),disabled:a.isPrivateTutor})),!P&&u.a.createElement(i.a,{lg:12,xs:12},u.a.createElement(H.a,{name:"curriculum",label:u.a.createElement(k.Trans,{id:"Curriculum"}),placeholder:p._({id:"Curriculum"}),options:Q})),u.a.createElement(i.a,{lg:12,xs:12},u.a.createElement(H.a,{cascader:P,name:"subject",label:u.a.createElement(k.Trans,{id:"Subject"}),placeholder:p._({id:"Subject"}),options:Z}))),u.a.createElement(r.a,{gutter:16},u.a.createElement(i.a,{lg:12,xs:12},u.a.createElement($.a,{monthly:!0,name:"fromDate",label:u.a.createElement(k.Trans,{id:"Date joined"}),placeholder:p._({id:"Date joined"}),style:{width:"100%"},disabledDate:function(e){return e&&e>B()()}})),u.a.createElement(i.a,{lg:12,xs:12},u.a.createElement($.a,{monthly:!0,name:"toDate",label:u.a.createElement(k.Trans,{id:"Date resigned"}),placeholder:p._({id:"Date resigned"}),style:{width:"100%"},disabledDate:function(e){return e&&e>B()()},disabled:a.isPresent})),u.a.createElement(i.a,{lg:24,xs:24},u.a.createElement(de.a,{name:"isPrivateTutor"},u.a.createElement(k.Trans,{id:"I was a private tutor"})))),u.a.createElement(r.a,null,u.a.createElement(i.a,{lg:24,xs:24,style:{marginBottom:"2em"}},u.a.createElement(de.a,{name:"isPresent"},u.a.createElement(k.Trans,{id:"I'm currently working here"})))),u.a.createElement(F.a,{block:!0},u.a.createElement(k.Trans,{id:"Save this experience"}))," ","\xa0"," ",u.a.createElement(d.e,{block:!0,onClick:ee},u.a.createElement(k.Trans,{id:"Cancel"})))})):0===(E||[]).length?u.a.createElement(d.j,{description:u.a.createElement(k.Trans,{id:"No experiences data"})}):(E||[]).map((function(e){return u.a.createElement(w.c,{enableReinitialize:!0,key:e.pvid,onSubmit:te,initialValues:e},(function(t){var a=t.handleSubmit,n=t.values,c=t.dirty;return u.a.createElement(_.a,{layout:"vertical",onSubmit:a,style:{marginBottom:"2em"}},u.a.createElement(fe,null,u.a.createElement(i.a,{lg:24},u.a.createElement(r.a,{gutter:16},u.a.createElement(i.a,{lg:24,xs:24},u.a.createElement(Y.a,{name:"institution",label:u.a.createElement(k.Trans,{id:"Tuition's name"}),placeholder:p._({id:"Tuition's name"}),disabled:n.isPrivateTutor||e.isPrivateTutor})),u.a.createElement(i.a,{lg:12,xs:12},u.a.createElement(H.a,{name:"curriculum",label:u.a.createElement(k.Trans,{id:"Curriculum"}),placeholder:p._({id:"Curriculum"}),options:Q})),u.a.createElement(i.a,{lg:12,xs:12},u.a.createElement(H.a,{name:"subject",label:u.a.createElement(k.Trans,{id:"Subject"}),placeholder:p._({id:"Subject"}),options:Z}))),u.a.createElement(r.a,{gutter:16,style:{marginBottom:"2em"}},u.a.createElement(i.a,{lg:12,xs:12},u.a.createElement($.a,{monthly:!0,name:"fromDate",label:u.a.createElement(k.Trans,{id:"Date joined"}),placeholder:p._({id:"Date joined"}),style:{width:"100%"},disabledDate:function(e){return e&&e>B()()}})),u.a.createElement(i.a,{lg:12,xs:12},u.a.createElement($.a,{monthly:!0,name:"toDate",label:u.a.createElement(k.Trans,{id:"Date resigned"}),placeholder:p._({id:"Date resigned"}),disabled:n.isPresent||e.isPresent,style:{width:"100%"},disabledDate:function(e){return e&&e>B()()}})),u.a.createElement(i.a,{lg:24},u.a.createElement(de.a,{name:"isPrivateTutor"},u.a.createElement(k.Trans,{id:"I was a private tutor"}))),u.a.createElement(i.a,{lg:24},u.a.createElement(de.a,{name:"isPresent"},u.a.createElement(k.Trans,{id:"I'm currently working here"})))),u.a.createElement(F.a,{type:"primary",disabled:!c},u.a.createElement(k.Trans,{id:"Update"}))," ","\xa0"," ",u.a.createElement(z.a,{title:u.a.createElement(k.Trans,{id:"Delete this experience?"}),onConfirm:function(){return function(e){var t=E.find((function(t){return t.pvid===e}))||{};K({variables:{pvidList:[t.pvid]}})}(e.pvid)}},u.a.createElement(d.e,{icon:"close"},"\xa0 ",u.a.createElement(k.Trans,{id:"Delete"}))))))}))})),!y&&u.a.createElement("div",{style:{marginBottom:"2em"}},u.a.createElement(d.d,{block:!0,type:"dashed",size:"medium",icon:"plus",onClick:function(){return S(!0)},style:{marginBottom:"2em"}},"\xa0 ",u.a.createElement(k.Trans,{id:"Add a new experience"}))),u.a.createElement(N.a,{className:"mb4em"}),u.a.createElement(r.a,{type:"flex",justify:"space-between"},u.a.createElement(i.a,{lg:12,xs:24},u.a.createElement(d.e,{type:"primary",block:j.k,size:"large",onClick:function(){return a("educations")}},u.a.createElement(k.Trans,{id:"<0/> Back to Educations",components:[u.a.createElement(n.a,{type:"left"})]}))),u.a.createElement(i.a,{lg:12,xs:24,style:{textAlign:!j.k&&"right"}},u.a.createElement(d.d,{type:"primary",block:j.k,size:"large",htmlType:"submit",onClick:function(){return t("certifications")}},u.a.createElement(k.Trans,{id:"Go to Certifications <0/>",components:[u.a.createElement(n.a,{type:"right"})]})))))})),he=a(285),ge=a(1096),ve=a(29);function ye(){var e=Object(s.a)(["\n\ttext-align: center;\n\tdisplay: block;\n\tpadding: 2em;\n\tbackground: #f3f3f3;\n\tborder-radius: 8px;\n\tmargin-bottom: 2em;\n\th4 {\n\t\tfont-size: 1.2em;\n\t}\n\t> p {\n\t\tfont-size: 4em;\n\t}\n"]);return ye=function(){return e},e}function je(){var e=Object(s.a)(["\n\tposition: relative;\n\t&:hover {\n\t\t.delete {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tvisibility: visible;\n\t\t}\n\t}\n\t.delete {\n\t\tdisplay: none;\n\t\tcursor: pointer;\n\t\tvisibility: hidden;\n\t\tposition: absolute;\n\t\tright: 0;\n\t\tborder-radius: 50%;\n\t\twidth: 25px;\n\t\tcolor: #ff9d00;\n\t\theight: 25px;\n\t\tz-index: 99;\n\t\t&:hover {\n\t\t\tbackground: #eee;\n\t\t}\n\t}\n\t.ant-upload.ant-upload-select {\n\t\tdisplay: block;\n\t}\n"]);return je=function(){return e},e}var Oe=b.b.div(je()),Te=b.b.div(ye()),Se=he.h.map((function(e){return{value:String(e),label:e}}));var xe=ge.object().shape({name:ge.string().required("You have to tell the name of the certificate"),issuer:ge.string().required("You have to tell the issuer"),issuedDate:ge.string().required("You have to tell when the certificate is issued")}),Pe=Object(k.withI18n)()(Object(p.j)((function(e){var t=e.onPrev,a=e.history,c=e.onCertifications,s=e.fetchUser,p=e.i18n,b=c.certifications,f=void 0===b?[]:b,E=(c.setCertifications,Object(m.useState)(!1)),h=Object(o.a)(E,2),g=h[0],v=h[1],y=Object(m.useState)({file:"",imagePreview:""}),S=Object(o.a)(y,2),x=S[0],P=S[1],D=Object(O.b)(T.J,{client:j.e.resourceClient,onCompleted:function(e){P((function(t){return Object(l.a)({},t,{actual:(e.uploadCertification||{}).path})}))}}),C=Object(o.a)(D,2),A=C[0],B=C[1].loading,L=Object(O.b)(T.m,{client:j.e.profileClient,onCompleted:function(){s(),V.a.success(p._({id:"Your certificate has been added"}))},onError:function(e){return Object(j.q)(e)}}),I=Object(o.a)(L,1)[0],M=Object(O.b)(T.f,{client:j.e.profileClient,onCompleted:function(){s(),V.a.success(p._({id:"Your certificate has been updated"}))},onError:function(e){return Object(j.q)(e)}}),U=Object(o.a)(M,1)[0],q=Object(O.b)(T.r,{client:j.e.profileClient,onCompleted:function(){s(),V.a.success(p._({id:"Your certificate has been deleted"}))},onError:function(e){return Object(j.q)(e)}}),R=Object(o.a)(q,1)[0],G=function(){v(!1),P({})},J=function(e){var t=new FileReader;return t.onloadend=function(){P((function(a){return Object(l.a)({},a,{file:e,imagePreview:t.result})}))},t.readAsDataURL(e),!1},W=function(e,t){var a=t.setSubmitting,n=e.hasOwnProperty("pvid");n||(e=Object(l.a)({},e,{relativePath:x.actual,issuedDate:e.issuedDate+"/01/01"})),(n?U:I)({variables:e}).finally((function(){v(!1),a(!1),P({})}))},X=function(){A({variables:{file:x.file}})};return u.a.createElement(i.a,{lg:16,xs:24,style:{padding:"2em"}},u.a.createElement(d.l,{content:u.a.createElement(k.Trans,{id:"Certifications"}),subheader:u.a.createElement(k.Trans,{id:"Please fill in your certifications"}),level:4,marginBottom:"2em"}),0===f.length&&!g&&u.a.createElement(d.j,{description:u.a.createElement(k.Trans,{id:"No certifications for now"})}),g?u.a.createElement(w.c,{onSubmit:W,initialValues:{name:"",issuer:""},validationSchema:xe},(function(e){var t=e.handleSubmit;return u.a.createElement(_.a,{layout:"vertical",onSubmit:t,style:{marginBottom:"2em"}},u.a.createElement(Oe,null,x.file?x.actual?u.a.createElement(d.a,{type:"success",showIcon:!0,message:u.a.createElement(k.Trans,{id:"Your certificate is uploaded. Now please fill in the details of the certificate."})}):u.a.createElement(d.d,{block:!0,type:"dashed",icon:"upload",loading:B,style:{marginBottom:"2em"},onClick:X},"\xa0 ",u.a.createElement(k.Trans,{id:"Upload this certificate now"})):u.a.createElement(d.y,{beforeUpload:J,multiple:!1,listType:"picture",style:{marginBottom:"2em",display:"block"}},u.a.createElement(Te,null,u.a.createElement("p",null,u.a.createElement(n.a,{type:"inbox"})),u.a.createElement(d.l,{content:u.a.createElement(k.Trans,{id:"Drag and drop your certification"}),subheader:u.a.createElement(k.Trans,{id:"Supported formats: .pdf, .doc, .docx, .png, .jpg, .jpeg"}),level:4}))),u.a.createElement(Y.a,{name:"name",placeholder:p._({id:"Name of certification"}),label:u.a.createElement(k.Trans,{id:"Name of certification"}),disabled:!x.actual}),u.a.createElement(r.a,{gutter:16},u.a.createElement(i.a,{lg:16},u.a.createElement(Y.a,{name:"issuer",placeholder:p._({id:"Issuer"}),label:u.a.createElement(k.Trans,{id:"Issuer"}),disabled:!x.actual})),u.a.createElement(i.a,{lg:8},u.a.createElement(H.a,{name:"issuedDate",placeholder:p._({id:"Year issued"}),options:Se,label:u.a.createElement(k.Trans,{id:"Year issued"}),disabled:!x.actual})))),u.a.createElement(F.a,{type:"primary",size:"large"},u.a.createElement(k.Trans,{id:"Save changes"}))," ","\xa0",u.a.createElement(d.e,{size:"large",onClick:G},u.a.createElement(k.Trans,{id:"Cancel"})))})):u.a.createElement(u.a.Fragment,null,f.map((function(e,t){var a=e.name,n=void 0===a?"":a,c=e.issuer,l=void 0===c?"":c,o=e.issuedDate,s=void 0===o?"":o,m=e.pvid;return u.a.createElement(u.a.Fragment,null,u.a.createElement(w.c,{onSubmit:W,initialValues:{pvid:Number(m),name:n,issuer:l,issuedDate:s}},(function(t){var a=t.handleSubmit,n=t.dirty;return u.a.createElement(_.a,{layout:"vertical",onSubmit:a,style:{marginBottom:"2em"}},u.a.createElement(Oe,null,u.a.createElement(Y.a,{name:"name",placeholder:p._({id:"Name of certification"}),label:u.a.createElement(k.Trans,{id:"Name of certification"})}),u.a.createElement(r.a,{gutter:16},u.a.createElement(i.a,{lg:16},u.a.createElement(Y.a,{name:"issuer",placeholder:p._({id:"Issuer"}),label:u.a.createElement(k.Trans,{id:"Issuer"})})),u.a.createElement(i.a,{lg:8},u.a.createElement(H.a,{name:"issuedDate",placeholder:p._({id:"Year issued"}),options:Se,label:u.a.createElement(k.Trans,{id:"Year issued"})}))),u.a.createElement(F.a,{type:"primary",disabled:!n},u.a.createElement(k.Trans,{id:"Update certificate"}))," ","\xa0"," ",u.a.createElement(z.a,{title:u.a.createElement(k.Trans,{id:"Delete this certificate?"}),onConfirm:function(){return function(e){return R({variables:{pvid:Number(e)}})}(e.pvid)}},u.a.createElement(d.e,{icon:"close"},"\xa0",u.a.createElement(k.Trans,{id:"Delete"})))))})),t!==f.length-1&&u.a.createElement(N.a,null))})),u.a.createElement(d.d,{block:!0,type:"dashed",size:"medium",icon:"plus",onClick:function(){v(!0)},style:{marginBottom:"2em"}},"\xa0 ",u.a.createElement(k.Trans,{id:"Add a new certificate"}))),u.a.createElement(N.a,{className:"mb4em"}),u.a.createElement(r.a,{type:"flex",justify:"space-between"},u.a.createElement(i.a,{lg:12,xs:24},u.a.createElement(d.e,{type:"primary",block:j.k,size:"large",onClick:function(){return t("experiences")}},u.a.createElement(k.Trans,{id:"<0/> Back to Experiences",components:[u.a.createElement(n.a,{type:"left"})]}))),u.a.createElement(i.a,{lg:12,xs:24,style:{textAlign:!j.k&&"right"}},u.a.createElement(d.d,{type:"primary",block:j.k,size:"large",onClick:function(){a.push("/".concat(ve.d,"/profile/info/thankyou"))}},u.a.createElement(k.Trans,{id:"Next <0/>",components:[u.a.createElement(n.a,{type:"right"})]})))))})));function ke(){var e=Object(s.a)(["\n        && {\n            h2 {\n                line-height: 1;\n                margin-bottom: .5em;\n            }\n        }\n    "]);return ke=function(){return e},e}function De(){var e=Object(s.a)(["\n\t","\n"]);return De=function(){return e},e}function Ce(){var e=Object(s.a)(["\n        && {\n            .steps {\n                width: 100%;\n                overflow-x: scroll;\n            }\n        }\n    "]);return Ce=function(){return e},e}function _e(){var e=Object(s.a)(["\n\theight: 100%;\n\tposition: relative;\n\tpadding: 0;\n\t/* background: url(",') no-repeat; */\n\tbackground-size: cover;\n\tbackground-blend-mode: darken;\n\tborder-radius: 10px 0 0 10px;\n\t&:before {\n\t\tcontent: "";\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tposition: absolute;\n\t\tbackground-color: ',";\n\t\tz-index: 0;\n\t}\n\t&& {\n\t\t.steps {\n\t\t\tpadding-left: 4em;\n\t\t\tpadding-top: 3em;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tcolor: #fff;\n\t\t\t.ant-steps-item-title {\n\t\t\t\tcolor: #fff;\n\t\t\t}\n\t\t}\n\t}\n\n\t","\n"]);return _e=function(){return e},e}function Ne(){var e=Object(s.a)(["\n\tposition: relative;\n\t.ant-card-body {\n\t\tpadding: 0;\n\t\t.ant-card-meta {\n\t\t\tdisplay: none;\n\t\t\tvisibility: hidden;\n\t\t}\n\t\timg {\n\t\t\tborder-radius: 10px 0 0 10px;\n\t\t}\n\t}\n"]);return Ne=function(){return e},e}var we=Object(b.b)(d.g).attrs({autoHeight:!0,noHover:!0})(Ne()),Ye=Object(b.b)(d.u)(_e(),x.a,C.a.primaryColorRgba,j.j.mobile(Ce())),Ae=Object(b.b)(d.l)(De(),j.j.mobile(ke())),Be={aboutme:{firstName:"",lastName:"",dob:Date.now(),nric:"",phone:"",gender:"",race:"",address:"",description:""},subjects:[{pvid:E()(),programmeLevelPvid:"",programmeSubjectPvid:"",pricePerHour:0,orderList:0},{pvid:E()(),programmeLevelPvid:"",programmeSubjectPvid:"",pricePerHour:0,orderList:0}],educations:[{id:E()(),institution:"",monthFrom:"01",monthTo:"01",yearFrom:"2000",yearTo:"2000",isPresent:!1},{id:E()(),institution:"",monthFrom:"01",monthTo:"01",yearFrom:"2000",yearTo:"2000",isPresent:!1}],experiences:[{id:E()(),curriculum:"",level:"",subject:"",monthFrom:"01",monthTo:"01",yearFrom:"2000",yearTo:"2000",institution:"",isPrivateTutor:!1,isPresent:!1},{id:E()(),curriculum:"",level:"",subject:"",monthFrom:"01",monthTo:"01",yearFrom:"2000",yearTo:"2000",institution:"",isPrivateTutor:!1,isPresent:!1}]},Le=function(e){switch(e){case"name":return 0;case"preferfield":return 1;case"aboutme":return 2;case"subjects":return 3;case"educations":return 4;case"experiences":return 5;case"certifications":return 6;case"done":return 7;default:return-1}},Ie=Object(j.l)("programme");t.default=Object(p.j)(Object(k.withI18n)()((function(e){var t=e.history,a=e.location,s=e.country,b=e.i18n,f=(a.pathname||"").split("/")[4],E=JSON.parse(localStorage.getItem("userDetails"))||{},h=Object(O.c)(P.c,{client:Ie,variables:{country:E.country}}).data,v=void 0===h?{}:h,S=Object(O.c)(P.b,{client:Ie,variables:{country:E.country}}).data,x=void 0===S?{}:S,C=Object(O.c)(P.a,{client:Ie,variables:{country:E.country}}).data,_=void 0===C?{}:C,N=Object(m.useState)(Le(f)),w=Object(o.a)(N,2),Y=w[0],A=w[1],B=Object(m.useState)(""),L=Object(o.a)(B,2),z=L[0],M=L[1],U=Object(m.useState)(Be.educations),V=Object(o.a)(U,2),H=V[0],F=V[1],q=Object(m.useState)(Be.experiences),R=Object(o.a)(q,2),G=R[0],J=R[1],W=Object(m.useState)([]),X=Object(o.a)(W,2),Q=X[0],Z=X[1],$=Object(m.useState)({}),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],re=Object(O.b)(T.N,{client:Object(j.l)(),onCompleted:function(e){e=e.getProfile||{},ne(e),M(e.description),Z(e.certificateList)}}),ie=Object(o.a)(re,2),ce=ie[0],le=ie[1].loading,oe=Object(O.b)(T.G,{client:Object(j.l)("account"),onCompleted:function(e){ne(e),ce()}}),se=Object(o.a)(oe,1)[0],me=function(e,t){se({variables:Object(l.a)({},e)}).then((function(){return de(t)}))},de=function(e){A((function(e){return e+1})),t.push("/".concat(s,"/profile/onboarding_steps/").concat(e.toLowerCase()))},be=function(e){A((function(e){return e-1})),t.push("/".concat(s,"/profile/onboarding_steps/").concat(e.toLowerCase()))},fe=Le(f);return Object(m.useEffect)((function(){localStorage.getItem("firstTime");ce(),A(fe)}),[s,t,fe]),u.a.createElement(r.a,{type:"flex",justify:"center",align:"middle",style:{marginTop:!j.k&&"2em"}},u.a.createElement(i.a,{lg:20,xs:24},u.a.createElement(d.u,{textAlign:"center",centered:!0,width:j.k?"100%":"80%"},u.a.createElement(Ae,{content:u.a.createElement(k.Trans,{id:"You are almost done"}),subheader:u.a.createElement(k.Trans,{id:"A better profile is the one that has a lot of informations to dig in. Therefore, it's recommended for you, as a tutor, to fill out additional informations you might have to complete your profile."})})),u.a.createElement(we,null,u.a.createElement(d.h,{src:g.a,bottom:"-140px",left:"-180px",style:{zIndex:-1}}),u.a.createElement(d.h,{src:y.a,width:"200px",top:"-90px",right:"-90px",style:{zIndex:-1}}),u.a.createElement(r.a,{type:"flex"},!j.k&&u.a.createElement(i.a,{lg:8,xs:24},u.a.createElement(Ye,null,u.a.createElement("div",{className:"steps"},u.a.createElement(d.v,{progressDot:!0,current:Y,steps:["Name","Prefer field","About me","Subjects","Educations","Experiences","Certifications","Done"]})),u.a.createElement("div",null,u.a.createElement(D.a,{src:"https://assets1.lottiefiles.com/packages/lf20_IJauXS.json",style:{width:"100%",height:"80%",position:"relative",top:70}})))),u.a.createElement(p.d,null,u.a.createElement(p.a,{exact:!0,from:"/".concat(s,"/profile/onboarding_steps"),to:"/".concat(s,"/profile/onboarding_steps/name")}),u.a.createElement(p.b,{path:"/:country/profile/onboarding_steps/name",render:function(){return u.a.createElement(I,{onActiveStep:{activeStep:Y,setActiveStep:A},handlers:{handleNext:de,handleUpdateProfile:me},onAboutme:{aboutme:z,setAboutme:M},onData:{userData:te,setUserData:ne,initialValues:Be.aboutme}})}}),u.a.createElement(p.b,{path:"/:country/profile/onboarding_steps/preferfield",render:function(){return u.a.createElement(ue,{onActiveStep:{activeStep:Y,setActiveStep:A},handlers:{handleNext:de,handleUpdateProfile:me},onAboutme:{aboutme:z,setAboutme:M},onData:{userData:te,setUserData:ne,initialValues:Be.aboutme}})}}),u.a.createElement(p.b,{path:"/:country/profile/onboarding_steps/aboutme",render:function(){return u.a.createElement(ae,{onActiveStep:{activeStep:Y,setActiveStep:A},handlers:{handleNext:de,handlePrev:be,handleUpdateProfile:me},onAboutme:{aboutme:z,setAboutme:M},onData:{userData:te}})}}),u.a.createElement(p.b,{path:"/:country/profile/onboarding_steps/subjects",render:function(){return u.a.createElement(K,{onActiveStep:{activeStep:Y,setActiveStep:A},handlers:{handleNext:de,handlePrev:be},onData:{userData:te},loading:le,fetchUser:ce})}}),u.a.createElement(p.b,{path:"/:country/profile/onboarding_steps/educations",render:function(){return u.a.createElement(pe,{onActiveStep:{activeStep:Y,setActiveStep:A},onNext:de,onPrev:be,onData:{userData:te},onEducations:{educations:H,setEducations:F},loading:le,fetchUser:ce})}}),u.a.createElement(p.b,{path:"/:country/profile/onboarding_steps/experiences",render:function(){return u.a.createElement(Ee,{onActiveStep:{activeStep:Y,setActiveStep:A},onNext:de,onPrev:be,data:{dataSubjects:v,dataCurriculums:_,dataLevels:x,userData:te},onExperiences:{experiences:G,setExperiences:J},fetchUser:ce,loading:le})}}),u.a.createElement(p.b,{path:"/:country/profile/onboarding_steps/certifications",render:function(){return u.a.createElement(Pe,{onActiveStep:{activeStep:Y,setActiveStep:A},onNext:de,onPrev:be,fetchUser:ce,onCertifications:{certifications:Q,setCertifications:Z}})}})))),u.a.createElement(d.u,{centered:!0,textAlign:"center"},Y>0&&u.a.createElement(d.e,{onClick:function(){c.a.confirm({title:b._({id:"Skip this?"}),content:b._({id:"Are you sure want to skip this at the moment?"}),centered:!0,onOk:function(){t.push("/".concat(s))}})}},u.a.createElement(k.Trans,{id:"Let me fill out everything later <0/>",components:[u.a.createElement(n.a,{type:"right"})]})))))})))}}]);