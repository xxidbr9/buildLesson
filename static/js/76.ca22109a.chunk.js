(this.webpackJsonpcudysg=this.webpackJsonpcudysg||[]).push([[76],{1648:function(e,t,n){"use strict";n.r(t);n(92);var a=n(8),r=(n(97),n(25)),o=(n(156),n(62)),c=n(19),i=n(28),l=(n(91),n(37)),u=n(5),d=n(0),s=n.n(d),m=n(15),p=n(42),f=n(55),b=n(80),E=n(16),g=n(9),h=n(48);function v(){var e=Object(u.a)(["\n\tspan.primary {\n\t\tcursor: pointer;\n\t}\n"]);return v=function(){return e},e}function j(){var e=Object(u.a)(["\n\t&&& {\n\t\tspan {\n\t\t\tcolor: rgba(0, 0, 0, 0.25);\n\t\t}\n\t}\n"]);return j=function(){return e},e}function w(){var e=Object(u.a)(["\n\t.ant-upload.ant-upload-select {\n\t\tdisplay: block;\n\t}\n"]);return w=function(){return e},e}function y(){var e=Object(u.a)(["\n\t.ant-modal-body {\n\t\tpadding: 0;\n\t}\n\t.ant-modal-content {\n\t\tbackground: transparent;\n\t\tbox-shadow: none;\n\t}\n"]);return y=function(){return e},e}function O(){var e=Object(u.a)(["\n\t\t&& {\n\t\t\tflex-wrap: nowrap;\n\t\t}\n\t"]);return O=function(){return e},e}function k(){var e=Object(u.a)(["\n\theight: 250px;\n\tmargin-bottom: 1.5em;\n\tpadding-top: 1em;\n\tflex-wrap: nowrap;\n\toverflow-x: scroll;\n\twidth: auto;\n\t-webkit-overflow-scrolling: touch;\n\t&::-webkit-scrollbar {\n\t\tdisplay: none;\n\t}\n\n\t","\n"]);return k=function(){return e},e}function T(){var e=Object(u.a)(["\n\ttext-align: center;\n\tdisplay: block;\n\tpadding: 2em;\n\tbackground: #f3f3f3;\n\tborder-radius: 8px;\n\t> p {\n\t\tfont-size: 4em;\n\t}\n"]);return T=function(){return e},e}var C=m.b.div(T()),x=Object(m.b)(l.a).attrs((function(){return{type:"flex",gutter:16}}))(k(),E.i.mobile(O())),P=Object(m.b)(p.q).attrs((function(){return{footer:!1,closable:!1,centered:!0}}))(y()),U=Object(m.b)(p.y).attrs((function(){return{centered:!0,footer:!1}}))(w()),z=Object(m.b)(p.d)(j()),S=m.b.p(v());t.default=Object(g.withI18n)()((function(e){var t=e.data,n=void 0===t?[]:t,u=e.fetchUser,m=e.unauthorizedUser,v=e.loading,j=e.handlers,w=e.i18n,y=Object(d.useState)({}),O=Object(i.a)(y,2),k=O[0],T=O[1],q=Object(d.useState)(!1),B=Object(i.a)(q,2),_=B[0],A=B[1],I=Object(d.useState)(!1),L=Object(i.a)(I,2),N=L[0],R=L[1],D=Object(d.useState)(!1),F=Object(i.a)(D,2),J=F[0],M=F[1],H=Object(d.useState)({file:"",imagePreview:""}),V=Object(i.a)(H,2),X=V[0],Y=V[1],Z=j.setProfileCompletionModal,G=Object(f.b)(b.N,{client:Object(E.k)("resource"),onCompleted:function(){return u()},onError:function(e){return Object(E.q)(e)}}),K=Object(i.a)(G,2),Q=K[0],W=K[1].loading,$=Object(f.b)(b.z,{client:Object(E.k)("resource"),onCompleted:function(){return u()},onError:function(e){return Object(E.q)(e)}}),ee=Object(i.a)($,2),te=ee[0],ne=ee[1].loading,ae=function(e){T(e),A(!0),R(!0)},re=function(e){return te({variables:{relativePath:e.path}})};return v||ne?s.a.createElement(p.o,null):s.a.createElement(p.u,{paddingHorizontal:0,noPadding:E.j,style:{overflowX:!E.j&&"hidden"}},s.a.createElement(p.q,{visible:J,footer:!1,onCancel:function(){M(!1),Y({})}},s.a.createElement(p.l,{content:s.a.createElement(g.Trans,{id:"Upload your introduction video"}),level:4}),W&&s.a.createElement(p.u,{centered:!0},s.a.createElement(p.k,{src:"https://assets3.lottiefiles.com/packages/lf20_dBbqyA.json",width:250,height:250,class:"mb2em"})),!W&&s.a.createElement("div",{style:{marginBottom:"2em"}},X.imagePreview?s.a.createElement("video",{controls:!0,width:"100%"},s.a.createElement("source",{src:X.imagePreview||""})):s.a.createElement(U,{beforeUpload:function(e){return function(e){var t=new FileReader;t.onloadend=function(){Y((function(n){return Object(c.a)({},n,{file:e,imagePreview:t.result})}))},t.readAsDataURL(e)}(e),!1},multiple:!1,listType:"picture",accept:"video/*",showUploadList:{showPreviewIcon:!0},onRemove:function(){return Y((function(e){return Object(c.a)({},e,{file:""})}))}},s.a.createElement(C,null,s.a.createElement("p",null,s.a.createElement(a.a,{type:"inbox"})),s.a.createElement(p.l,{content:s.a.createElement(g.Trans,{id:"Click here or drag and drop your video to this area"}),subheader:s.a.createElement(g.Trans,{id:"Supported formats: .flv, .mp4, .3gp, .avi, .mov, .wmv"}),level:4})))),s.a.createElement(z,{type:"primary",icon:"upload",disabled:!X.file,onClick:function(){Y({imagePreview:""}),Q({variables:{file:X.file}}).then((function(){M(!1),o.a.success(w._({id:"Your video has been successfully uploaded!"}))}))},loading:W},"\xa0 ",W?s.a.createElement(g.Trans,{id:"Please wait..."}):s.a.createElement(g.Trans,{id:"Upload this video now"}))," ","\xa0"," ",X.file&&s.a.createElement(p.e,{size:"large",icon:"close",onClick:function(){return Y((function(e){return Object(c.a)({},e,{imagePreview:""})}))}},"\xa0 ",s.a.createElement(g.Trans,{id:"Change video"}))),s.a.createElement(P,{visible:_&&k,onCancel:function(){A(!1),R(!1)}},s.a.createElement("video",{controls:!0,muted:!0,playing:N,width:"100%",loop:!1},s.a.createElement("source",{src:h.f+k.path}))),0===n.length?m?s.a.createElement(p.u,{centered:!0,width:E.j?"100%":"60%",style:{paddingTop:0,paddingBottom:0}},s.a.createElement(p.j,{description:s.a.createElement(S,null,s.a.createElement(g.Trans,{id:"This tutor didn't upload any introduction videos yet. Ask them to <0>complete this section</0>",components:[s.a.createElement("span",{className:"primary",onClick:function(){return Z(!0)}})]}))})):s.a.createElement(r.a,{lg:24},s.a.createElement(l.a,{type:"flex",align:"middle",gutter:32},s.a.createElement(r.a,{lg:8,className:"ta-center mb0__mobile"},s.a.createElement(p.k,{src:"https://assets10.lottiefiles.com/temp/lf20_zZuL4A.json",width:E.j?"100%":200,height:E.j?"100%":200})),s.a.createElement(r.a,{lg:16},s.a.createElement(p.l,{content:s.a.createElement(g.Trans,{id:"Upload your introductions"}),subheader:s.a.createElement(g.Trans,{id:"By uploading your introduction videos, there will be a higher chance for you to attract other students/parents."}),level:4,marginBottom:"2em"}),s.a.createElement(p.d,{type:"primary",icon:"upload",onClick:function(){return M(!0)}},"\xa0 ",s.a.createElement(g.Trans,{id:"Upload your video now"}))))):s.a.createElement(s.a.Fragment,null,s.a.createElement(x,null,n.map((function(e){return s.a.createElement(r.a,{key:e.id,xs:16,lg:6},s.a.createElement(p.z,Object.assign({},e,{onSelectItem:ae,onDeleteVideo:re,setModal:A,isUnauthorized:m})))}))),!m&&s.a.createElement(l.a,null,s.a.createElement(r.a,{lg:8},s.a.createElement(p.d,{type:"dashed",icon:"upload",onClick:function(){return M(!0)},block:!0},"\xa0 ",s.a.createElement(g.Trans,{id:"Upload another video"}))))))}))}}]);
//# sourceMappingURL=76.ca22109a.chunk.js.map