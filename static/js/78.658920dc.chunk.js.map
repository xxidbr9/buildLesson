{"version":3,"sources":["pages/Tutor/Profile/ProfileCover.jsx"],"names":["Hero","styled","div","background","includes","SERVER_BASE_URL","bgUrl","UploadButtons","span","UploadZone","media","mobile","withI18n","onChangeCover","unauthorizedUser","listType","accept","fetchUser","i18n","props","onFile","profileBanner","setProfileBanner","useMutation","mutateUploadProfileBanner","client","resourceClient","onCompleted","onError","err","renderError","uploadBanner","theBanner","imagePreview","actual","loading","centered","style","minHeight","className","file","type","icon","onClick","variables","then","_","size","name","id","placeholder","onChange","htmlFor","role","aria-label"],"mappings":"+nDAYA,IAEMA,EAAOC,IAAOC,IAAV,KACK,gBAAGC,EAAH,EAAGA,WAAH,OAAqBA,EAAU,eAHhC,SAACA,GAAD,OAAiBA,GAAcA,EAAWC,SAAS,WAAaD,EAAaE,IAAkBF,EAGpDG,CAAMH,GAAjB,+DAwBxCI,EAAgBN,IAAOO,KAAV,KAObC,EAAaR,IAAOO,KAAV,IA4BbE,IAAMC,OA5BO,MAqGDC,gCAlEf,YASI,IARHC,EAQE,EARFA,cACAV,EAOE,EAPFA,WAGAW,GAIE,EANFC,SAME,EALFC,OAKE,EAJFF,kBACAG,EAGE,EAHFA,UACAC,EAEE,EAFFA,KACGC,EACD,wGACMC,EAAWD,EAAXC,OADN,EAE+CA,EAAzCC,qBAFN,MAEsB,GAFtB,EAE0BC,EAAqBF,EAArBE,iBAF1B,EAGqBC,YAAYC,IAA2B,CAC7DC,OAAQA,IAAOC,eACfC,YAAa,kBAAML,EAAiB,KACpCM,QAAS,SAACC,GAAD,OAASC,YAAYD,MAHxBE,EAHL,oBASIC,EAAYX,EAAcY,cAAgBZ,EAAca,OAQ9D,OAAIf,EAAMgB,QAER,kBAAC,IAAD,CAASC,UAAQ,EAACC,MAAO,CAAEC,UAAW,MACrC,2BACC,kBAAC,QAAD,yBAMH,kBAACtC,EAAD,CAAMG,WAAY6B,EAAWO,UAAWpC,EAAa,iBAAmB,WACrEW,GACD,oCACEO,EAAcmB,MAAQnB,EAAcY,aACpC,kBAAC1B,EAAD,CAAegC,UAAU,kBACxB,kBAAC,IAAD,CAAQE,KAAK,UAAUC,KAAK,QAAQC,QArBf,WAC1BZ,EAAa,CAAEa,UAAW,CAAEJ,KAAMnB,EAAcmB,QAAUK,MAAK,WAC9D,IAAQV,QAAQjB,EAAK4B,EAAE,yCAAqCD,MAAK,kBAAM5B,YAoBlE,kBAAC,QAAD,+BACS,IAHX,OAIQ,IACP,kBAAC,IAAD,CAAY8B,KAAK,QAAQJ,QAAS,kBAAMrB,EAAiB,MACxD,kBAAC,QAAD,iBAIF,kBAACb,EAAD,CAAY8B,UAAU,eACrB,2BAAOE,KAAK,OAAOO,KAAK,UAAUC,GAAG,UAAUC,YAAahC,EAAK4B,EAAE,kBAAeK,SAAUtC,IAC5F,2BAAOuC,QAAQ,WACd,0BAAMC,KAAK,MAAMC,aAAW,UAA5B,gBAEQ,IAHT,QAIQ,kBAAC,QAAD","file":"static/js/78.658920dc.chunk.js","sourcesContent":["import React from \"react\"\nimport styled from \"styled-components\"\nimport Button from \"../../../components/Button\"\nimport { message } from \"antd\"\nimport { ButtonLink, Section } from \"components\"\nimport { useMutation } from \"react-apollo\"\nimport { mutateUploadProfileBanner } from \"queries/profile\"\nimport { client, media, renderError } from \"helpers\"\nimport { Trans, t } from \"@lingui/macro\"\nimport { withI18n } from \"@lingui/react\"\nimport { SERVER_BASE_URL } from \"helpers/constants\"\n\nconst bgUrl = (background) => (background && background.includes(\";base64\") ? background : SERVER_BASE_URL + background)\n\nconst Hero = styled.div`\n\tbackground: ${({ background }) => (background ? `url('${bgUrl(background)}') no-repeat` : `linear-gradient(45deg, #fed501, #ff9d00);`)};\n\tbackground-size: cover;\n\tbackground-position: center;\n\theight: 250px;\n\tmargin-bottom: 1em;\n\tposition: relative;\n\ttransition: all 0.2s ease;\n\t&:hover {\n\t\topacity: 0.8;\n\t\t.ant-upload-select,\n\t\t.upload-zone,\n\t\t.upload-buttons {\n\t\t\topacity: 1;\n\t\t\tvisibility: visible;\n\t\t}\n\t}\n\t.ant-upload-select {\n\t\tright: 110px;\n\t\tbottom: 70px;\n\t\tposition: absolute;\n\t\topacity: 0;\n\t}\n`\n\nconst UploadButtons = styled.span`\n\tposition: absolute;\n\tright: 13%;\n\tbottom: 28%;\n\ttransform: translateX(30%);\n`\n\nconst UploadZone = styled.span`\n\topacity: 0;\n\tvisibility: hidden;\n\tposition: absolute;\n\tright: 12%;\n\tbottom: 28%;\n\ttransform: translateX(30%);\n\tinput[type=\"file\"] {\n\t\twidth: 0.1px;\n\t\theight: 0.1px;\n\t\topacity: 0;\n\t\toverflow: hidden;\n\t\tz-index: -1;\n\t\t+ label {\n\t\t\tbackground: #fff;\n\t\t\tcursor: pointer;\n\t\t\tpadding: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\ttransition: all 0.3s ease;\n\t\t\tspan {\n\t\t\t\tfont-size: 1.2em;\n\t\t\t}\n\t\t\t&:hover {\n\t\t\t\tbox-shadow: 1px 3px 9px rgba(0, 0, 0, 0.25);\n\t\t\t}\n\t\t}\n\t}\n\n\t${media.mobile`\n        right: 30%;\n        transform: translateX(50%);\n        width: 100%;\n    `}\n`\n\nfunction ProfileCover({\n\tonChangeCover,\n\tbackground,\n\tlistType = \"picture\",\n\taccept = \"image/*\",\n\tunauthorizedUser,\n\tfetchUser,\n\ti18n,\n\t...props\n}) {\n\tconst { onFile } = props\n\tconst { profileBanner = {}, setProfileBanner } = onFile\n\tconst [uploadBanner] = useMutation(mutateUploadProfileBanner, {\n\t\tclient: client.resourceClient,\n\t\tonCompleted: () => setProfileBanner({}),\n\t\tonError: (err) => renderError(err)\n\t})\n\n\tconst theBanner = profileBanner.imagePreview || profileBanner.actual\n\n\tconst handleUpdateBanner = () => {\n\t\tuploadBanner({ variables: { file: profileBanner.file } }).then(() => {\n\t\t\tmessage.loading(i18n._(t`Changing your profile banner...`)).then(() => fetchUser())\n\t\t})\n\t}\n\n\tif (props.loading)\n\t\treturn (\n\t\t\t<Section centered style={{ minHeight: 240 }}>\n\t\t\t\t<p>\n\t\t\t\t\t<Trans>Please wait...</Trans>\n\t\t\t\t</p>\n\t\t\t</Section>\n\t\t)\n\n\treturn (\n\t\t<Hero background={theBanner} className={background ? \"uploaded-image\" : \"eheheh\"}>\n\t\t\t{!unauthorizedUser && (\n\t\t\t\t<>\n\t\t\t\t\t{profileBanner.file && profileBanner.imagePreview ? (\n\t\t\t\t\t\t<UploadButtons className=\"upload-buttons\">\n\t\t\t\t\t\t\t<Button type=\"primary\" icon=\"image\" onClick={handleUpdateBanner}>\n\t\t\t\t\t\t\t\t<Trans>Upload profile banner</Trans>\n\t\t\t\t\t\t\t</Button>{\" \"}\n\t\t\t\t\t\t\t&nbsp;{\" \"}\n\t\t\t\t\t\t\t<ButtonLink size=\"large\" onClick={() => setProfileBanner(\"\")}>\n\t\t\t\t\t\t\t\t<Trans>Cancel</Trans>\n\t\t\t\t\t\t\t</ButtonLink>\n\t\t\t\t\t\t</UploadButtons>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<UploadZone className=\"upload-zone\">\n\t\t\t\t\t\t\t<input type=\"file\" name=\"picture\" id=\"picture\" placeholder={i18n._(t`Upload...`)} onChange={onChangeCover} />\n\t\t\t\t\t\t\t<label htmlFor=\"picture\">\n\t\t\t\t\t\t\t\t<span role=\"img\" aria-label=\"cowboy\">\n\t\t\t\t\t\t\t\t\tüèû\n\t\t\t\t\t\t\t\t</span>{\" \"}\n\t\t\t\t\t\t\t\t&nbsp; <Trans>Change your profile banner</Trans>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</UploadZone>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</Hero>\n\t)\n}\n\nexport default withI18n()(ProfileCover)\n"],"sourceRoot":""}