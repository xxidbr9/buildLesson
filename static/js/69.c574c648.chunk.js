(this.webpackJsonpcudysg=this.webpackJsonpcudysg||[]).push([[69],{1317:function(e,t,n){"use strict";n.r(t);n(92);var a=n(4),r=(n(98),n(23)),o=(n(154),n(61)),c=n(26),i=n(28),l=(n(91),n(34)),u=n(3),d=n(0),s=n.n(d),m=n(10),p=n(43),b=n(66),f=n(82),v=n(13),E=n(5);function g(){var e=Object(u.a)(["\n\tspan.primary {\n\t\tcursor: pointer;\n\t}\n"]);return g=function(){return e},e}function h(){var e=Object(u.a)(["\n\t&&& {\n\t\tspan {\n\t\t\tcolor: rgba(0, 0, 0, 0.25);\n\t\t}\n\t}\n"]);return h=function(){return e},e}function j(){var e=Object(u.a)(["\n\t.ant-upload.ant-upload-select {\n\t\tdisplay: block;\n\t}\n"]);return j=function(){return e},e}function w(){var e=Object(u.a)(["\n\t.ant-modal-body {\n\t\tpadding: 0;\n\t}\n\t.ant-modal-content {\n\t\tbackground: transparent;\n\t\tbox-shadow: none;\n\t}\n"]);return w=function(){return e},e}function y(){var e=Object(u.a)(["\n\t\t&& {\n\t\t\tflex-wrap: nowrap;\n\t\t}\n\t"]);return y=function(){return e},e}function O(){var e=Object(u.a)(["\n\theight: 250px;\n\tmargin-bottom: 1.5em;\n\tpadding-top: 1em;\n\tflex-wrap: nowrap;\n\toverflow-x: scroll;\n\twidth: auto;\n\t-webkit-overflow-scrolling: touch;\n\t&::-webkit-scrollbar {\n\t\tdisplay: none;\n\t}\n\n\t","\n"]);return O=function(){return e},e}function k(){var e=Object(u.a)(["\n\ttext-align: center;\n\tdisplay: block;\n\tpadding: 2em;\n\tbackground: #f3f3f3;\n\tborder-radius: 8px;\n\t> p {\n\t\tfont-size: 4em;\n\t}\n"]);return k=function(){return e},e}var T=m.b.div(k()),C=Object(m.b)(l.a).attrs((function(){return{type:"flex",gutter:16}}))(O(),v.j.mobile(y())),x=Object(m.b)(p.q).attrs((function(){return{footer:!1,closable:!1,centered:!0}}))(w()),P=Object(m.b)(p.y).attrs((function(){return{centered:!0,footer:!1}}))(j()),U=Object(m.b)(p.d)(h()),z=m.b.p(g());t.default=Object(E.withI18n)()((function(e){var t=e.data,n=void 0===t?[]:t,u=e.fetchUser,m=e.unauthorizedUser,g=e.loading,h=e.handlers,j=e.i18n,w=Object(d.useState)({}),y=Object(i.a)(w,2),O=y[0],k=y[1],S=Object(d.useState)(!1),q=Object(i.a)(S,2),B=q[0],A=q[1],I=Object(d.useState)(!1),L=Object(i.a)(I,2),R=L[0],_=L[1],D=Object(d.useState)(!1),F=Object(i.a)(D,2),J=F[0],M=F[1],N=Object(d.useState)({file:"",imagePreview:""}),H=Object(i.a)(N,2),K=H[0],V=H[1],X=h.setProfileCompletionModal,Y=Object(b.b)(f.K,{client:Object(v.l)("resource"),onCompleted:function(){return u()},onError:function(e){return Object(v.q)(e)}}),Z=Object(i.a)(Y,2),G=Z[0],Q=Z[1].loading,W=Object(b.b)(f.v,{client:Object(v.l)("resource"),onCompleted:function(){return u()},onError:function(e){return Object(v.q)(e)}}),$=Object(i.a)(W,2),ee=$[0],te=$[1].loading,ne=function(e){k(e),A(!0),_(!0)},ae=function(e){return ee({variables:{relativePath:e.path}})};return g||te?s.a.createElement(p.o,null):s.a.createElement(p.u,{paddingHorizontal:0,noPadding:v.k,style:{overflowX:!v.k&&"hidden"}},s.a.createElement(p.q,{visible:J,footer:!1,onCancel:function(){M(!1),V({})}},s.a.createElement(p.l,{content:s.a.createElement(E.Trans,{id:"Upload your introduction video"}),level:4}),Q&&s.a.createElement(p.u,{centered:!0},s.a.createElement(p.k,{src:"https://assets3.lottiefiles.com/packages/lf20_dBbqyA.json",width:250,height:250,class:"mb2em"})),!Q&&s.a.createElement("div",{style:{marginBottom:"2em"}},K.imagePreview?s.a.createElement("video",{controls:!0,width:"100%"},s.a.createElement("source",{src:K.imagePreview||""})):s.a.createElement(P,{beforeUpload:function(e){return function(e){var t=new FileReader;t.onloadend=function(){V((function(n){return Object(c.a)({},n,{file:e,imagePreview:t.result})}))},t.readAsDataURL(e)}(e),!1},multiple:!1,listType:"picture",accept:"video/*",showUploadList:{showPreviewIcon:!0},onRemove:function(){return V((function(e){return Object(c.a)({},e,{file:""})}))}},s.a.createElement(T,null,s.a.createElement("p",null,s.a.createElement(a.a,{type:"inbox"})),s.a.createElement(p.l,{content:s.a.createElement(E.Trans,{id:"Click here or drag and drop your video to this area"}),subheader:s.a.createElement(E.Trans,{id:"Supported formats: .flv, .mp4, .3gp, .avi, .mov, .wmv"}),level:4})))),s.a.createElement(U,{type:"primary",icon:"upload",disabled:!K.file,onClick:function(){V({imagePreview:""}),G({variables:{file:K.file}}).then((function(){M(!1),o.a.success(j._({id:"Your video has been successfully uploaded!"}))}))},loading:Q},"\xa0 ",Q?s.a.createElement(E.Trans,{id:"Please wait..."}):s.a.createElement(E.Trans,{id:"Upload this video now"}))," ","\xa0"," ",K.file&&s.a.createElement(p.e,{size:"large",icon:"close",onClick:function(){return V((function(e){return Object(c.a)({},e,{imagePreview:""})}))}},"\xa0 ",s.a.createElement(E.Trans,{id:"Change video"}))),s.a.createElement(x,{visible:B&&O,onCancel:function(){A(!1),_(!1)}},s.a.createElement("video",{controls:!0,muted:!0,playing:R,width:"100%",loop:!1},s.a.createElement("source",{src:v.r+O.path}))),0===n.length?m?s.a.createElement(p.u,{centered:!0,width:v.k?"100%":"60%",style:{paddingTop:0,paddingBottom:0}},s.a.createElement(p.j,{description:s.a.createElement(z,null,s.a.createElement(E.Trans,{id:"This tutor didn't upload any introduction videos yet. Ask them to <0>complete this section</0>",components:[s.a.createElement("span",{className:"primary",onClick:function(){return X(!0)}})]}))})):s.a.createElement(r.a,{lg:24},s.a.createElement(l.a,{type:"flex",align:"middle",gutter:32},s.a.createElement(r.a,{lg:8,className:"ta-center mb0-mobile"},s.a.createElement(p.k,{src:"https://assets10.lottiefiles.com/temp/lf20_zZuL4A.json",width:v.k?"100%":200,height:v.k?"100%":200})),s.a.createElement(r.a,{lg:16},s.a.createElement(p.l,{content:s.a.createElement(E.Trans,{id:"Upload your introductions"}),subheader:s.a.createElement(E.Trans,{id:"By uploading your introduction videos, there will be a higher chance for you to attract other students/parents."}),level:4,marginBottom:"2em"}),s.a.createElement(p.d,{type:"primary",icon:"upload",onClick:function(){return M(!0)}},"\xa0 ",s.a.createElement(E.Trans,{id:"Upload your video now"}))))):s.a.createElement(s.a.Fragment,null,s.a.createElement(C,null,n.map((function(e){return s.a.createElement(r.a,{key:e.id,xs:16,lg:6},s.a.createElement(p.z,Object.assign({},e,{onSelectItem:ne,onDeleteVideo:ae,setModal:A,isUnauthorized:m})))}))),!m&&s.a.createElement(l.a,null,s.a.createElement(r.a,{lg:8},s.a.createElement(p.d,{type:"dashed",icon:"upload",onClick:function(){return M(!0)},block:!0},"\xa0 ",s.a.createElement(E.Trans,{id:"Upload another video"}))))))}))}}]);
//# sourceMappingURL=69.c574c648.chunk.js.map