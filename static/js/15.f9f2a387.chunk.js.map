{"version":3,"sources":["../radio/index.jsx","components/forms/RadioInput.jsx","../node_modules/react-load-script/lib/index.js","components/forms/DateInput.jsx","../node_modules/uuid/v4.js","../node_modules/uuid/lib/rng-browser.js","../node_modules/uuid/lib/bytesToUuid.js","assets/images/decorating.png","../../../src/radio/index.tsx","assets/images/ellipse-orange.png","assets/images/ellipse-purple.png","pages/AdditionalInfoTutor/Name.jsx","pages/AdditionalInfoTutor/Subjects.jsx","pages/AdditionalInfoTutor/AboutMe.jsx","pages/AdditionalInfoTutor/PreferField.jsx","pages/AdditionalInfoTutor/Educations.jsx","../../../src/formik-debug/index.tsx","pages/AdditionalInfoTutor/Experiences.jsx","pages/AdditionalInfoTutor/Certifications.jsx","pages/AdditionalInfoTutor/index.jsx"],"names":["Radio","StyledRadioGroup","styled","Group","labelBlock","AntRadioGroup","RadioInput","options","name","label","independent","isButton","props","Item","buttonStyle","map","item","Button","value","key","Object","defineProperty","exports","obj","_createClass","defineProperties","target","i","length","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","prototype","_react","require","_react2","__esModule","default","_propTypes","Script","_React$Component","instance","TypeError","_classCallCheck","this","_this","self","call","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","scriptLoaderId","constructor","idCount","subClass","superClass","create","setPrototypeOf","_inherits","_props","onError","onLoad","url","loadedScripts","erroredScripts","scriptObservers","_defineProperty","createScript","observers","_this2","_props2","onCreate","attributes","script","document","createElement","keys","forEach","prop","setAttribute","src","hasAttribute","async","callObserverFuncAndRemoveObserver","shouldRemoveObserver","onload","observer","onerror","body","appendChild","Component","propTypes","PropTypes","object","func","isRequired","string","defaultProps","module","StyledItem","width","DateInput","monthly","MonthPicker","style","rng","bytesToUuid","buf","offset","Array","rnds","random","ii","getRandomValues","crypto","bind","msCrypto","window","rnds8","Uint8Array","r","Math","byteToHex","toString","substr","bth","join","validation","values","errors","firstName","lastName","withI18n","handlers","onData","loading","i18n","handleUpdateProfile","handleNext","userData","initialValues","setUserData","lg","xs","padding","content","subheader","level","marginBottom","onSubmit","setSubmitting","dob","moment","format","validate","handleSubmit","layout","gutter","TextInput","placeholder","_","className","textAlign","noPadding","type","htmlType","programmeClient","newClient","fetchUser","preferrableField","localStorage","getItem","subjectListNonAcademic","nonAcademic","isNonAcademic","userSubjectList","subjectList","useState","deletedLevels","setDeletedLevels","isAdding","setIsAdding","handlePrev","userSubjects","setUserSubjects","useLifelongCategories","userDetails","JSON","parse","useQuery","queryFetchSubjects","client","variables","country","data","dataSubjects","queryFetchLevels","dataCurriculums","subjectOptions","getProgrammeSubjectList","Number","pvid","levelOptions","getProgrammeLevelList","useMutation","mutateAddSubjects","onCompleted","then","message","success","err","renderError","addSubjects","loadingAdd","mutateUpdateSubjects","updateSubjects","loadingUpdate","mutateDeleteSubjects","deleteSubjects","loadingDelete","DELETE_SUBJECT_NON_ACADEMIC","deleteSubjectNonAcademic","MUTATE_SUBJECT_NON_ACADEMIC","updateSubjectsNonAcademic","loadingUpdateNon","DELETE_SUBJECTS_LEVEL","deleteLevel","handleEditAddNonAcademic","subjectPvid","programmeSubjectSubNonAcademicPvid","orderList","isDeleted","profileNonAcademicPvid","pricePerHour","parseFloat","actual","list","finally","handleEditSubject","source","programmeLevelPvid","rest","subject","programmeSubjectPvid","price","programmeLevel","idx","index","findIndex","selectedLevel","find","l","isStore","pvidList","filter","Boolean","handleAddSubject","handleDelete","filtered","subNonAcademic","handler","payload","handleCancel","useEffect","SelectInput","cascader","addonBefore","countryMap","symbol","block","onClick","mode","subSubject","subSubjectPvid","enableReinitialize","title","onConfirm","icon","onDeselect","selected","prev","size","id","uuid","justify","mobile","autocomplete","addressValue","setAddressValue","setAddress","handleLoad","types","componentRestrictions","google","maps","places","Autocomplete","getElementById","addListener","handlePlaceSelect","addressObject","getPlace","address_components","location","formatted_address","address","previousData","phone","phoneCode","nric","gender","toLowerCase","race","undefined","description","startsWith","slice","disabledDate","current","googleApiKey","special","allowClear","helpText","onChange","e","textarea","rows","align","htmllType","StyledCard","Card","isSelected","baseStyles","primaryColor","primaryColorRgba","media","Text","Paragraph","selectedField","setSelectedField","notSelectedYet","fieldOptions","Alert","showIcon","hoverable","strong","DynamicIcon","setItem","disabled","onNext","onPrev","userEducations","setUserEducations","mutateEducations","addEducation","mutateUpdateEducations","updateEducation","mutateDeleteEducations","deleteEducation","handleAdd","hasPvid","fromDate","toDate","isPresent","hasOwnProperty","educationList","CheckboxInput","institution","dirty","EditMode","handleSave","handleDeleteLocalLevels","userExperiences","nonAcademicOptions","isPrivateTutor","initials","subjectName","split","children","getSubjectDefault","curriculum","onExperiences","setUserExperiences","dataLevels","mutateExperiences","profileClient","UPDATE_EXPERIENCES_NON_ACADEMIC","updateNonAcademic","mutateUpdateExperiences","updateExperience","DELETE_EXPERIENCES","deleteExperiences","DELETE_EXPERIENCES_LEVEL","DELETE_EXPERIENCES_NON_ACADEMIC","deleteNonAcademic","experienceNonAcademicList","experienceList","isArray","FieldRow","div","Drag","yearList","yearListFrom1980","String","validationSchema","yup","shape","required","issuer","issuedDate","withRouter","history","onCertifications","certifications","setCertifications","file","imagePreview","localFile","setLocalFile","mutateUploadCertification","resourceClient","uploadCertification","path","loadingUpload","mutateAddCertification","addCertification","MUTATE_UPDATE_CERTIFICATE","updateCertification","mutateDeleteCertification","deleteCertification","handleUploadToLocal","reader","FileReader","onloadend","result","readAsDataURL","relativePath","handleUploadCert","beforeUpload","multiple","listType","display","push","attrs","autoHeight","noHover","BackgroundSection","Section","decorating","StyledHeading","Heading","aboutme","Date","now","subjects","educations","monthFrom","monthTo","yearFrom","yearTo","experiences","stepsArray","pathname","queryFetchCurriculums","activeStep","setActiveStep","setAboutme","setEducations","setExperiences","mutateUserProfile","getProfile","certificateList","loadingFetch","mutateUpdateProfile","updateProfile","section","steps","isFirstTime","marginTop","centered","orangeEl","bottom","left","zIndex","purpleEl","top","right","progressDot","GifPlayer","height","position","exact","from","to","render","onActiveStep","onAboutme","onEducations","confirm","onOk"],"mappings":"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","file":"static/js/15.f9f2a387.chunk.js","sourcesContent":["import Radio from './radio';\nimport Group from './group';\nimport Button from './radioButton';\nRadio.Button = Button;\nRadio.Group = Group;\nexport { Button, Group };\nexport default Radio;\n","import React from \"react\"\nimport { FormItem, Radio } from \"formik-antd\"\nimport styled from \"styled-components\"\nimport { Form, Radio as AntdRadio } from \"antd\"\n\nconst StyledRadioGroup = styled(Radio.Group)`\n\t> label {\n\t\tdisplay: ${({ labelBlock }) => labelBlock && \"block\"};\n\t\twidth: ${({ labelBlock }) => labelBlock && \"100%\"};\n\t}\n`\n\nconst AntRadioGroup = styled(AntdRadio.Group)`\n\t> label {\n\t\tdisplay: ${({ labelBlock }) => labelBlock && \"block\"};\n\t\twidth: ${({ labelBlock }) => labelBlock && \"100%\"};\n\t\tmargin-bottom: ${({ labelBlock }) => labelBlock && \"1em\"};\n\t\tpadding: ${({ labelBlock }) => labelBlock && \"1em\"};\n\t\theight: ${({ labelBlock }) => labelBlock && \"auto\"};\n\t}\n`\n\nfunction RadioInput({ options = [], name, label, independent, isButton = true, ...props }) {\n\tif (independent) {\n\t\treturn (\n\t\t\t<Form.Item name={name} label={label}>\n\t\t\t\t<AntRadioGroup {...props} name={name} buttonStyle=\"solid\">\n\t\t\t\t\t{options.map((item) => (\n\t\t\t\t\t\t<AntdRadio.Button {...item} value={item.value} key={item.value}>\n\t\t\t\t\t\t\t{item.label}\n\t\t\t\t\t\t</AntdRadio.Button>\n\t\t\t\t\t))}\n\t\t\t\t</AntRadioGroup>\n\t\t\t</Form.Item>\n\t\t)\n\t}\n\n\treturn (\n\t\t<FormItem name={name} label={label}>\n\t\t\t{isButton ? (\n\t\t\t\t<StyledRadioGroup {...props} name={name} buttonStyle=\"solid\">\n\t\t\t\t\t{options.map((item) => (\n\t\t\t\t\t\t<Radio.Button value={item.value} key={item.value}>\n\t\t\t\t\t\t\t{item.label}\n\t\t\t\t\t\t</Radio.Button>\n\t\t\t\t\t))}\n\t\t\t\t</StyledRadioGroup>\n\t\t\t) : (\n\t\t\t\t<StyledRadioGroup {...props} options={options} name={name} />\n\t\t\t)}\n\t\t</FormItem>\n\t)\n}\n\nexport default RadioInput\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Script = function (_React$Component) {\n  _inherits(Script, _React$Component);\n\n  // A dictionary mapping script URL to a boolean value indicating if the script\n  // has failed to load.\n\n\n  // A dictionary mapping script URLs to a dictionary mapping\n  // component key to component for all components that are waiting\n  // for the script to load.\n  function Script(props) {\n    _classCallCheck(this, Script);\n\n    var _this = _possibleConstructorReturn(this, (Script.__proto__ || Object.getPrototypeOf(Script)).call(this, props));\n\n    _this.scriptLoaderId = 'id' + _this.constructor.idCount++; // eslint-disable-line space-unary-ops, no-plusplus\n    return _this;\n  }\n\n  // A counter used to generate a unique id for each component that uses\n  // ScriptLoaderMixin.\n\n\n  // A dictionary mapping script URL to a boolean value indicating if the script\n  // has already been loaded.\n\n\n  _createClass(Script, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          onError = _props.onError,\n          onLoad = _props.onLoad,\n          url = _props.url;\n\n\n      if (this.constructor.loadedScripts[url]) {\n        onLoad();\n        return;\n      }\n\n      if (this.constructor.erroredScripts[url]) {\n        onError();\n        return;\n      }\n\n      // If the script is loading, add the component to the script's observers\n      // and return. Otherwise, initialize the script's observers with the component\n      // and start loading the script.\n      if (this.constructor.scriptObservers[url]) {\n        this.constructor.scriptObservers[url][this.scriptLoaderId] = this.props;\n        return;\n      }\n\n      this.constructor.scriptObservers[url] = _defineProperty({}, this.scriptLoaderId, this.props);\n\n      this.createScript();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var url = this.props.url;\n\n      var observers = this.constructor.scriptObservers[url];\n\n      // If the component is waiting for the script to load, remove the\n      // component from the script's observers before unmounting the component.\n      if (observers) {\n        delete observers[this.scriptLoaderId];\n      }\n    }\n  }, {\n    key: 'createScript',\n    value: function createScript() {\n      var _this2 = this;\n\n      var _props2 = this.props,\n          onCreate = _props2.onCreate,\n          url = _props2.url,\n          attributes = _props2.attributes;\n\n      var script = document.createElement('script');\n\n      onCreate();\n\n      // add 'data-' or non standard attributes to the script tag\n      if (attributes) {\n        Object.keys(attributes).forEach(function (prop) {\n          return script.setAttribute(prop, attributes[prop]);\n        });\n      }\n\n      script.src = url;\n\n      // default async to true if not set with custom attributes\n      if (!script.hasAttribute('async')) {\n        script.async = 1;\n      }\n\n      var callObserverFuncAndRemoveObserver = function callObserverFuncAndRemoveObserver(shouldRemoveObserver) {\n        var observers = _this2.constructor.scriptObservers[url];\n        Object.keys(observers).forEach(function (key) {\n          if (shouldRemoveObserver(observers[key])) {\n            delete _this2.constructor.scriptObservers[url][_this2.scriptLoaderId];\n          }\n        });\n      };\n      script.onload = function () {\n        _this2.constructor.loadedScripts[url] = true;\n        callObserverFuncAndRemoveObserver(function (observer) {\n          observer.onLoad();\n          return true;\n        });\n      };\n\n      script.onerror = function () {\n        _this2.constructor.erroredScripts[url] = true;\n        callObserverFuncAndRemoveObserver(function (observer) {\n          observer.onError();\n          return true;\n        });\n      };\n\n      document.body.appendChild(script);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return Script;\n}(_react2.default.Component);\n\nScript.propTypes = {\n  attributes: _propTypes.PropTypes.object, // eslint-disable-line react/forbid-prop-types\n  onCreate: _propTypes.PropTypes.func,\n  onError: _propTypes.PropTypes.func.isRequired,\n  onLoad: _propTypes.PropTypes.func.isRequired,\n  url: _propTypes.PropTypes.string.isRequired\n};\nScript.defaultProps = {\n  attributes: {},\n  onCreate: function onCreate() {},\n  onError: function onError() {},\n  onLoad: function onLoad() {} };\nScript.scriptObservers = {};\nScript.loadedScripts = {};\nScript.erroredScripts = {};\nScript.idCount = 0;\nexports.default = Script;\nmodule.exports = exports['default'];","import React from \"react\"\nimport { Form } from \"antd\"\nimport { FormItem, DatePicker } from \"formik-antd\"\nimport styled from \"styled-components\"\n\nconst StyledItem = styled(Form.Item)`\n\t.ant-input {\n\t\twidth: ${({ width }) => width || \"100%\"};\n\t}\n`\n\nfunction DateInput({ monthly, width, ...props }) {\n\t// const { field, form } = props\n\t// const name = field.name\n\t// const { touched, errors, setFieldValue } = form\n\t// const value = form.values && form.values[name]\n\n\tif (monthly)\n\t\treturn (\n\t\t\t<FormItem name={props.name} label={props.label}>\n\t\t\t\t<DatePicker.MonthPicker name={props.name} {...props} style={{ width: \"100%\" }} />\n\t\t\t</FormItem>\n\t\t)\n\n\treturn (\n\t\t<StyledItem\n\t\t\tname={props.name}\n\t\t\tlabel={props.label}\n\t\t\t// validateStatus={errors[name] && touched[name] ? \"error\" : \"\"}\n\t\t\t// help={errors[name] && touched[name] && errors[name]}\n\t\t>\n\t\t\t<DatePicker {...props} style={{ width: width || \"100%\" }} />\n\t\t\t{/* <DatePicker\n                {...field}\n                onChange={(date, dateString) => setFieldValue(field[name], dateString)}\n                name={name}\n                placeholder={props.placeholder}\n                style={props.style || { display: \"block\" }}\n                value={value !== \"\" ? moment(value) : \"\"}\n            /> */}\n\t\t</StyledItem>\n\t)\n}\n\nexport default DateInput\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","module.exports = __webpack_public_path__ + \"static/media/decorating.794e4ad9.png\";","import { __rest } from \"tslib\";\r\nimport { Radio as $Radio } from \"antd\";\r\nimport { Field } from \"formik\";\r\nimport * as React from \"react\";\r\nexport const Radio = (_a) => {\r\n    var { name, validate, onChange } = _a, restProps = __rest(_a, [\"name\", \"validate\", \"onChange\"]);\r\n    return (React.createElement(Field, { name: name, validate: validate }, ({ field: { value }, form: { setFieldValue, setFieldTouched } }) => (React.createElement($Radio, Object.assign({ value: value, onChange: event => {\r\n            setFieldValue(name, event.target.value);\r\n            setFieldTouched(name, true);\r\n            onChange && onChange(event);\r\n        } }, restProps)))));\r\n};\r\nexport default Radio;\r\nRadio.Group = (_a) => {\r\n    var { name, validate, onChange } = _a, restProps = __rest(_a, [\"name\", \"validate\", \"onChange\"]);\r\n    return (React.createElement(Field, { name: name, validate: validate }, ({ field: { value }, form: { setFieldValue, setFieldTouched } }) => (React.createElement($Radio.Group, Object.assign({ value: value, onChange: event => {\r\n            setFieldValue(name, event.target.value);\r\n            setFieldTouched(name, true);\r\n            onChange && onChange(event);\r\n        } }, restProps)))));\r\n};\r\nRadio.Button = $Radio.Button;\r\n//# sourceMappingURL=index.js.map","module.exports = __webpack_public_path__ + \"static/media/ellipse-orange.b77438c1.png\";","module.exports = __webpack_public_path__ + \"static/media/ellipse-purple.32f7a042.png\";","import React from \"react\"\nimport { Row, Col, Form, Icon, Divider } from \"antd\"\nimport { Heading, Button, Section, Loading } from \"components\"\nimport { Formik } from \"formik\"\nimport TextInput from \"components/forms/TextInput\"\nimport moment from \"moment\"\nimport { Trans, t } from \"@lingui/macro\"\nimport { withI18n } from \"@lingui/react\"\n\nfunction Name({ handlers, onData, loading, i18n }) {\n\tconst { handleNext, handleUpdateProfile } = handlers\n\tconst { userData = {}, setUserData, initialValues } = onData\n\n\tconst handleSubmitName = (values, { setSubmitting }) => {\n\t\tvalues = {\n\t\t\t...initialValues,\n\t\t\t...values,\n\t\t\tdob: moment(initialValues.dob).format(\"YYYY/MM/DD\"),\n\t\t}\n\t\t// updateProfile({ variables: { ...values } })\n\t\thandleUpdateProfile(values, \"preferfield\")\n\t\tsetSubmitting(false)\n\t}\n\n\tif (Object.keys(userData).length === 0) return <Loading />\n\n\treturn (\n\t\t<Col lg={16} xs={24} style={{ padding: \"2em 3em\" }}>\n\t\t\t<Heading\n\t\t\t\tcontent={<Trans>Your name</Trans>}\n\t\t\t\tsubheader={\n\t\t\t\t\t<Trans>\n\t\t\t\t\t\t<span>Tell us your name</span>\n\t\t\t\t\t</Trans>\n\t\t\t\t}\n\t\t\t\tlevel={4}\n\t\t\t\tmarginBottom=\"2em\"\n\t\t\t/>\n\t\t\t<Formik\n\t\t\t\tonSubmit={handleSubmitName}\n\t\t\t\tvalidate={validation}\n\t\t\t\tinitialValues={{\n\t\t\t\t\tfirstName: userData.firstName || \"\",\n\t\t\t\t\tlastName: userData.lastName || \"\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{({ handleSubmit }) => (\n\t\t\t\t\t<Form layout=\"vertical\" onSubmit={handleSubmit}>\n\t\t\t\t\t\t<Row gutter={32}>\n\t\t\t\t\t\t\t<Col lg={12}>\n\t\t\t\t\t\t\t\t<TextInput name=\"firstName\" label={<Trans>First name</Trans>} placeholder={i18n._(t`Your first name...`)} />\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col lg={12}>\n\t\t\t\t\t\t\t\t<TextInput name=\"lastName\" label={<Trans>Last name</Trans>} placeholder={i18n._(t`Your last name...`)} />\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\n\t\t\t\t\t\t<Divider className=\"mb4em\" />\n\n\t\t\t\t\t\t<Section textAlign=\"right\" noPadding>\n\t\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" loading={loading}>\n\t\t\t\t\t\t\t\t{loading ? <Trans>Please wait...</Trans> : <Trans>Next</Trans>} <Icon type=\"right\" />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Section>\n\t\t\t\t\t</Form>\n\t\t\t\t)}\n\t\t\t</Formik>\n\t\t</Col>\n\t)\n}\n\nconst validation = (values) => {\n\tlet errors = {}\n\tif (!values.firstName) errors.firstName = \"You have to tell us your first name\"\n\tif (!values.lastName) errors.lastName = \"You have to tell us your last name\"\n\treturn errors\n}\n\nexport default withI18n()(Name)\n","import React, { useState, useEffect } from \"react\"\nimport { Row, Col, Form, Icon, message, Popconfirm, Divider } from \"antd\"\nimport { Heading, ButtonLink, Button, Empty, Loading } from \"components\"\nimport uuid from \"uuid/v4\"\n\nimport TextInput from \"components/forms/TextInput\"\nimport SelectInput from \"components/forms/SelectInput\"\nimport { useMutation, useQuery } from \"@apollo/react-hooks\"\nimport { mutateAddSubjects, mutateDeleteSubjects, mutateUpdateSubjects, DELETE_SUBJECTS_LEVEL } from \"queries/profile\"\nimport { mobile, newClient, renderError } from \"helpers\"\nimport { Formik } from \"formik\"\nimport { queryFetchSubjects, queryFetchLevels } from \"queries/data\"\nimport { SubmitButton } from \"formik-antd\"\nimport { Trans, t } from \"@lingui/macro\"\nimport { withI18n } from \"@lingui/react\"\nimport { countryMap } from \"helpers/countryMapping\"\nimport { useLifelongCategories } from \"helpers/hooks/data\"\nimport { MUTATE_SUBJECT_NON_ACADEMIC, DELETE_SUBJECT_NON_ACADEMIC } from \"queries/user\"\n\nconst programmeClient = newClient(\"programme\")\n\nfunction Subjects({ handlers, onData, fetchUser, loading, i18n }) {\n\tconst preferrableField = localStorage.getItem(\"onboarding_preferrable_field\")\n\tconst { userData = {} } = onData\n\tconst subjectListNonAcademic = userData.nonAcademic || []\n\tconst isNonAcademic = preferrableField === \"non_academic\"\n\tconst userSubjectList = isNonAcademic ? subjectListNonAcademic : userData.subjectList\n\tconst [deletedLevels, setDeletedLevels] = useState([])\n\n\tconst [isAdding, setIsAdding] = useState(false)\n\tconst { handleNext, handlePrev } = handlers\n\tconst [userSubjects, setUserSubjects] = useState(userSubjectList)\n\tconst { options } = useLifelongCategories()\n\n\tconst userDetails = JSON.parse(localStorage.getItem(\"userDetails\")) || {}\n\n\tconst { data: dataSubjects = {} } = useQuery(queryFetchSubjects, {\n\t\tclient: programmeClient,\n\t\tvariables: { country: userDetails.country || \"sg\" }\n\t})\n\n\tconst { data: dataCurriculums = {} } = useQuery(queryFetchLevels, {\n\t\tclient: programmeClient,\n\t\tvariables: { country: userDetails.country || \"sg\" }\n\t})\n\n\tconst subjectOptions = (dataSubjects.getProgrammeSubjectList || []).map((item) => ({\n\t\tvalue: Number(item.pvid),\n\t\tlabel: item.name\n\t}))\n\n\tconst levelOptions = (dataCurriculums.getProgrammeLevelList || []).map((item) => ({\n\t\tvalue: Number(item.pvid),\n\t\tlabel: item.name\n\t}))\n\n\tconst [addSubjects, { loading: loadingAdd }] = useMutation(mutateAddSubjects, {\n\t\tclient: newClient(),\n\t\tonCompleted: () => {\n\t\t\tfetchUser().then(() => message.success(i18n._(t`The subject item has been added`), 2))\n\t\t},\n\t\tonError: (err) => renderError(err)\n\t})\n\n\tconst [updateSubjects, { loading: loadingUpdate }] = useMutation(mutateUpdateSubjects, {\n\t\tclient: newClient(),\n\t\tonCompleted: () => {\n\t\t\tfetchUser().then(() => message.success(i18n._(t`The subject item has been updated`), 2))\n\t\t},\n\t\tonError: (err) => renderError(err)\n\t})\n\n\tconst [deleteSubjects, { loading: loadingDelete }] = useMutation(mutateDeleteSubjects, {\n\t\tclient: newClient(),\n\t\tonCompleted: () => {\n\t\t\tfetchUser().then(() => message.success(i18n._(t`The subject item has been deleted`), 2))\n\t\t},\n\t\tonError: (err) => renderError(err)\n\t})\n\n\tconst [deleteSubjectNonAcademic] = useMutation(DELETE_SUBJECT_NON_ACADEMIC, {\n\t\tclient: newClient(),\n\t\tonCompleted: () => {\n\t\t\tfetchUser().then(() => message.success(i18n._(t`The subject item has been deleted`), 2))\n\t\t},\n\t\tonError: (err) => renderError(err)\n\t})\n\n\tconst [updateSubjectsNonAcademic, { loading: loadingUpdateNon }] = useMutation(MUTATE_SUBJECT_NON_ACADEMIC, {\n\t\tclient: newClient(),\n\t\tonCompleted: () => {\n\t\t\tfetchUser().then(() => {\n\t\t\t\tmessage.success(i18n._(t`The subject item has been updated`), 2)\n\t\t\t\tsetIsAdding(false)\n\t\t\t})\n\t\t},\n\t\tonError: (err) => renderError(err)\n\t})\n\n\tconst [deleteLevel] = useMutation(DELETE_SUBJECTS_LEVEL, {\n\t\tclient: newClient(),\n\t\tonCompleted: () => setDeletedLevels([]),\n\t\tonError: (err) => renderError(err)\n\t})\n\n\tconst handleEditAddNonAcademic = (values, { setSubmitting }) => {\n\t\tconst subjectPvid = values.programmeSubjectSubNonAcademicPvid\n\t\tvalues = {\n\t\t\t...values,\n\t\t\torderList: 1,\n\t\t\tisDeleted: false,\n\t\t\tprofileNonAcademicPvid: isAdding ? \"\" : values.profileNonAcademicPvid,\n\t\t\tprogrammeSubjectSubNonAcademicPvid: subjectPvid[1],\n\t\t\tpricePerHour: parseFloat(values.pricePerHour)\n\t\t}\n\n\t\tconst { pvid, ...actual } = values\n\n\t\tupdateSubjectsNonAcademic({ variables: { list: [actual] } }).finally(() => setSubmitting(false))\n\t}\n\n\tconst handleEditSubject = (values, { setSubmitting }) => {\n\t\tconst { source, programmeLevelPvid, pricePerHour, pvid, ...rest } = values\n\t\tlet { programmeSubjectPvid: subject, programmeLevelPvid: level, pricePerHour: price } = values\n\n\t\tconst programmeLevel = level.map((item, idx) => {\n\t\t\tconst index = userSubjects.findIndex((item) => item.subject.pvid === pvid)\n\t\t\tconst selectedLevel = userSubjects[index]?.subject?.level.find((level) => level.name === item) || {}\n\n\t\t\tif (typeof item === \"string\") item = levelOptions.find((l) => l.label === item).value\n\t\t\treturn { programmeLevelPvid: item, pricePerHour: Number(price), pvid: selectedLevel.pvid || \"\" }\n\t\t})\n\n\t\tconst programmeSubjectPvid = typeof subject === \"number\" ? subject : subjectOptions.find(({ label }) => label === subject).value\n\n\t\tvalues = {\n\t\t\t...rest,\n\t\t\tprogrammeLevel,\n\t\t\tprogrammeSubjectPvid,\n\t\t\torderList: 1,\n\t\t\tisStore: false\n\t\t}\n\n\t\tif (deletedLevels.length > 0) {\n\t\t\tconst pvidList = deletedLevels.map((item) => item.pvid).filter((item) => Boolean(item))\n\t\t\tdeleteLevel({ variables: { pvidList } })\n\t\t}\n\n\t\tupdateSubjects({ variables: { list: { ...values } } }).finally(() => setSubmitting(false))\n\t}\n\n\tconst handleAddSubject = (values, { setSubmitting }) => {\n\t\tconst programmeLevel = values.programmeLevelPvid.map((item) => ({\n\t\t\tprogrammeLevelPvid: item,\n\t\t\tpricePerHour: Number(values.pricePerHour)\n\t\t}))\n\t\tvalues = { ...values, orderList: 1, isStore: true, pricePerHour: Number(values.pricePerHour), programmeLevel }\n\n\t\tconst { programmeLevelPvid, pricePerHour, ...actual } = values\n\n\t\taddSubjects({ variables: { list: [{ ...actual }] } }).finally(() => {\n\t\t\tsetSubmitting(false)\n\t\t\tsetIsAdding(false)\n\t\t})\n\t}\n\n\tconst handleDelete = (pvid) => {\n\t\tconst filtered = userSubjects.find((item) => {\n\t\t\tif (isNonAcademic) return item.subNonAcademic[0].profileNonAcademicPvid === pvid\n\t\t\treturn item.subject.pvid === pvid\n\t\t})\n\t\tconst handler = isNonAcademic ? deleteSubjectNonAcademic : deleteSubjects\n\t\tconst payload = isNonAcademic ? filtered.subNonAcademic[0].profileNonAcademicPvid : filtered.subject.pvid\n\t\tconst prop = isNonAcademic ? \"pvidList\" : \"pvid\"\n\t\thandler({ variables: { [prop]: payload } })\n\t}\n\n\tconst handleDeleteLocalLevels = (subject) => (level) => {\n\t\tconst index = userSubjects.findIndex((item) => item.subject.name === subject)\n\t\tconst selected = userSubjects[index].subject?.level?.find((item) => item.name === level) || {}\n\t\tsetDeletedLevels((prev) => [...prev, selected])\n\t}\n\n\tconst handleCancel = () => {\n\t\tsetIsAdding(false)\n\t\tsetUserSubjects(userSubjectList)\n\t}\n\n\tconst handleAddNewField = () => {\n\t\tsetIsAdding(true)\n\t\tsetUserSubjects((prev) => [\n\t\t\t...prev,\n\t\t\t{\n\t\t\t\tid: uuid(),\n\t\t\t\tprogrammeSubjectPvid: \"\",\n\t\t\t\tpricePerHour: 0,\n\t\t\t\tsubject: { pvid: null },\n\t\t\t\tlevel: { pvid: null },\n\t\t\t\torderList: 0\n\t\t\t}\n\t\t])\n\t}\n\n\tconst renderSubjects = () => {\n\t\tif (isAdding) {\n\t\t\tif (isNonAcademic) {\n\t\t\t\treturn (\n\t\t\t\t\t<Formik onSubmit={handleEditAddNonAcademic} initialValues={{ programmeSubjectSubNonAcademicPvid: \"\", pricePerHour: 0 }}>\n\t\t\t\t\t\t{({ handleSubmit }) => (\n\t\t\t\t\t\t\t<Form layout=\"vertical\" onSubmit={handleSubmit} className=\"mb2em\">\n\t\t\t\t\t\t\t\t<Row gutter={16} className=\"mb0\">\n\t\t\t\t\t\t\t\t\t<Col lg={12} xs={24}>\n\t\t\t\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\t\t\t\tcascader\n\t\t\t\t\t\t\t\t\t\t\tname=\"programmeSubjectSubNonAcademicPvid\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Subject name`)}\n\t\t\t\t\t\t\t\t\t\t\tlabel={<Trans>Subject</Trans>}\n\t\t\t\t\t\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\t\t\t\t\t\tmarginBottom=\"5px\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col lg={12} xs={12}>\n\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\tname=\"pricePerHour\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={<Trans>Price per hour</Trans>}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Your price per hour...`)}\n\t\t\t\t\t\t\t\t\t\t\taddonBefore={countryMap[userDetails.country].symbol}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t<SubmitButton block>\n\t\t\t\t\t\t\t\t\t<Trans>Save this subject</Trans>\n\t\t\t\t\t\t\t\t</SubmitButton>{\" \"}\n\t\t\t\t\t\t\t\t&nbsp;{\" \"}\n\t\t\t\t\t\t\t\t<ButtonLink block onClick={handleCancel}>\n\t\t\t\t\t\t\t\t\t<Trans>Cancel</Trans>\n\t\t\t\t\t\t\t\t</ButtonLink>\n\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Formik>\n\t\t\t\t)\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Formik onSubmit={handleAddSubject} initialValues={{ pricePerHour: 0 }}>\n\t\t\t\t\t{({ handleSubmit }) => (\n\t\t\t\t\t\t<Form layout=\"vertical\" onSubmit={handleSubmit} className=\"mb2em\">\n\t\t\t\t\t\t\t<Row gutter={16} type=\"flex\" className=\"mb0\">\n\t\t\t\t\t\t\t\t<Col lg={12} xs={24}>\n\t\t\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\t\t\tname=\"programmeSubjectPvid\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Subject name`)}\n\t\t\t\t\t\t\t\t\t\tlabel={<Trans>Subject</Trans>}\n\t\t\t\t\t\t\t\t\t\toptions={subjectOptions}\n\t\t\t\t\t\t\t\t\t\tmarginBottom=\"5px\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col lg={12} xs={24}>\n\t\t\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\t\t\tname=\"programmeLevelPvid\"\n\t\t\t\t\t\t\t\t\t\tmode=\"multiple\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Curriculum`)}\n\t\t\t\t\t\t\t\t\t\tlabel={<Trans>Curriculum</Trans>}\n\t\t\t\t\t\t\t\t\t\toptions={levelOptions}\n\t\t\t\t\t\t\t\t\t\tmarginBottom=\"5px\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col lg={12}>\n\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\tlabel={<Trans>Price per hour</Trans>}\n\t\t\t\t\t\t\t\t\t\tname=\"pricePerHour\"\n\t\t\t\t\t\t\t\t\t\taddonBefore={countryMap[userDetails.country].symbol}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<SubmitButton block>\n\t\t\t\t\t\t\t\t<Trans>Save this subject</Trans>\n\t\t\t\t\t\t\t</SubmitButton>{\" \"}\n\t\t\t\t\t\t\t&nbsp;{\" \"}\n\t\t\t\t\t\t\t<ButtonLink block onClick={handleCancel}>\n\t\t\t\t\t\t\t\t<Trans>Cancel</Trans>\n\t\t\t\t\t\t\t</ButtonLink>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t)\n\t\t}\n\n\t\tif (loading || loadingDelete || loadingAdd || loadingUpdate || loadingUpdateNon) return <Loading />\n\n\t\tif ((userSubjects || []).length === 0) return <Empty />\n\n\t\treturn (userSubjects || []).map((item) => {\n\t\t\tconst subSubject = (item.subNonAcademic && item.subNonAcademic[0]) || {}\n\t\t\tconst subSubjectPvid = subSubject.programmeSubjectSubNonAcademicPvid\n\t\t\tconst pvid = subSubject.profileNonAcademicPvid\n\n\t\t\tif (isNonAcademic) {\n\t\t\t\treturn (\n\t\t\t\t\t<Formik\n\t\t\t\t\t\tenableReinitialize\n\t\t\t\t\t\tonSubmit={handleEditAddNonAcademic}\n\t\t\t\t\t\tinitialValues={{\n\t\t\t\t\t\t\tprogrammeSubjectSubNonAcademicPvid: [item.pvid, subSubjectPvid],\n\t\t\t\t\t\t\tpricePerHour: subSubject.pricePerHour,\n\t\t\t\t\t\t\tprofileNonAcademicPvid: subSubject.profileNonAcademicPvid\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{({ handleSubmit }) => (\n\t\t\t\t\t\t\t<Form layout=\"vertical\" onSubmit={handleSubmit} className=\"mb2em\">\n\t\t\t\t\t\t\t\t<Row gutter={16} className=\"mb0\">\n\t\t\t\t\t\t\t\t\t<Col lg={12} xs={24}>\n\t\t\t\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\t\t\t\tcascader\n\t\t\t\t\t\t\t\t\t\t\tname=\"programmeSubjectSubNonAcademicPvid\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Subject name`)}\n\t\t\t\t\t\t\t\t\t\t\tlabel={<Trans>Subject</Trans>}\n\t\t\t\t\t\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\t\t\t\t\t\tmarginBottom=\"5px\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col lg={12} xs={12}>\n\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\tname=\"pricePerHour\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={<Trans>Price per hour</Trans>}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Your price per hour...`)}\n\t\t\t\t\t\t\t\t\t\t\taddonBefore={countryMap[userDetails.country].symbol}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t<SubmitButton type=\"primary\">\n\t\t\t\t\t\t\t\t\t<Trans>Update</Trans>\n\t\t\t\t\t\t\t\t</SubmitButton>{\" \"}\n\t\t\t\t\t\t\t\t&nbsp;{\" \"}\n\t\t\t\t\t\t\t\t<Popconfirm title={<Trans>Delete this subject?</Trans>} onConfirm={() => handleDelete(pvid)}>\n\t\t\t\t\t\t\t\t\t<ButtonLink icon=\"close\">\n\t\t\t\t\t\t\t\t\t\t&nbsp; <Trans>Delete</Trans>\n\t\t\t\t\t\t\t\t\t</ButtonLink>\n\t\t\t\t\t\t\t\t</Popconfirm>\n\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Formik>\n\t\t\t\t)\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Formik\n\t\t\t\t\tenableReinitialize\n\t\t\t\t\tkey={item.subject.name}\n\t\t\t\t\tonSubmit={handleEditSubject}\n\t\t\t\t\tinitialValues={{\n\t\t\t\t\t\tpvid: item.subject?.pvid,\n\t\t\t\t\t\tprogrammeSubjectPvid: Number(item.subject?.pvid),\n\t\t\t\t\t\tprogrammeLevelPvid: item.subject?.level?.map((l) => l.name),\n\t\t\t\t\t\tpricePerHour: item.subject?.level?.[0]?.pricePerHour\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ handleSubmit }) => (\n\t\t\t\t\t\t<Form layout=\"vertical\" onSubmit={handleSubmit}>\n\t\t\t\t\t\t\t<Row gutter={16} type=\"flex\">\n\t\t\t\t\t\t\t\t<Col lg={12} xs={24}>\n\t\t\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\t\t\tname=\"programmeSubjectPvid\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Subject name`)}\n\t\t\t\t\t\t\t\t\t\tlabel={<Trans>Subject</Trans>}\n\t\t\t\t\t\t\t\t\t\toptions={subjectOptions}\n\t\t\t\t\t\t\t\t\t\tmarginBottom=\"5px\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col lg={12} xs={24}>\n\t\t\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\t\t\tname=\"programmeLevelPvid\"\n\t\t\t\t\t\t\t\t\t\tmode=\"multiple\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Curriculum`)}\n\t\t\t\t\t\t\t\t\t\tlabel={<Trans>Curriculum</Trans>}\n\t\t\t\t\t\t\t\t\t\toptions={levelOptions}\n\t\t\t\t\t\t\t\t\t\tmarginBottom=\"5px\"\n\t\t\t\t\t\t\t\t\t\tonDeselect={handleDeleteLocalLevels(item.subject.name)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col lg={12} xs={12}>\n\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\tname=\"pricePerHour\"\n\t\t\t\t\t\t\t\t\t\tlabel={<Trans>Price per hour</Trans>}\n\t\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Your price per hour...`)}\n\t\t\t\t\t\t\t\t\t\taddonBefore={countryMap[userDetails.country].symbol}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<SubmitButton type=\"primary\">\n\t\t\t\t\t\t\t\t<Trans>Update</Trans>\n\t\t\t\t\t\t\t</SubmitButton>{\" \"}\n\t\t\t\t\t\t\t&nbsp;{\" \"}\n\t\t\t\t\t\t\t<Popconfirm title={<Trans>Delete this subject?</Trans>} onConfirm={() => handleDelete(item.subject.pvid)}>\n\t\t\t\t\t\t\t\t<ButtonLink icon=\"close\">\n\t\t\t\t\t\t\t\t\t&nbsp; <Trans>Delete</Trans>\n\t\t\t\t\t\t\t\t</ButtonLink>\n\t\t\t\t\t\t\t</Popconfirm>\n\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t)\n\t\t})\n\t}\n\n\tuseEffect(() => {\n\t\tsetUserSubjects(userSubjectList)\n\t}, [userSubjectList])\n\n\treturn (\n\t\t<Col lg={16} xs={24} style={{ padding: \"2em\" }}>\n\t\t\t<Heading\n\t\t\t\tcontent={<Trans>Subjects</Trans>}\n\t\t\t\tsubheader={<Trans>Please fill the subjects you are teaching</Trans>}\n\t\t\t\tlevel={4}\n\t\t\t\tmarginBottom=\"2em\"\n\t\t\t/>\n\n\t\t\t{renderSubjects()}\n\n\t\t\t{!isAdding && (\n\t\t\t\t<div className=\"mb2em\">\n\t\t\t\t\t<Button block type=\"dashed\" size=\"medium\" icon=\"plus\" onClick={handleAddNewField} className=\"mb2em\">\n\t\t\t\t\t\t&nbsp; <Trans>Add a new subject</Trans>\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<Divider className=\"mb4em\" />\n\n\t\t\t<Row type=\"flex\" justify=\"space-between\">\n\t\t\t\t<Col lg={12} xs={24}>\n\t\t\t\t\t<ButtonLink type=\"primary\" size=\"large\" block={mobile} onClick={() => handlePrev(\"aboutme\")}>\n\t\t\t\t\t\t<Trans>\n\t\t\t\t\t\t\t<Icon type=\"left\" /> Back to About me\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t</ButtonLink>\n\t\t\t\t</Col>\n\t\t\t\t<Col lg={12} xs={24} style={{ textAlign: !mobile && \"right\" }}>\n\t\t\t\t\t<Button type=\"primary\" size=\"large\" block={mobile} onClick={() => handleNext(\"educations\")}>\n\t\t\t\t\t\t<Trans>\n\t\t\t\t\t\t\tGo to Educations <Icon type=\"right\" />\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t</Button>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Col>\n\t)\n}\n\nexport default withI18n()(Subjects)\n","import React, { useState, useEffect } from \"react\"\nimport { Row, Col, Form, Icon } from \"antd\"\nimport { Heading, Button, ButtonLink, Loading } from \"components\"\nimport { Formik } from \"formik\"\nimport Script from \"react-load-script\"\nimport TextInput from \"components/forms/TextInput\"\nimport DateInput from \"components/forms/DateInput\"\nimport { googleApiKey } from \"helpers\"\nimport RadioInput from \"components/forms/RadioInput\"\nimport moment from \"moment\"\nimport { withI18n } from \"@lingui/react\"\nimport { Trans, t } from \"@lingui/macro\"\nimport { countryCode, countryMap } from \"helpers/countryMapping\"\n\nlet autocomplete = null\n\nfunction AboutMe({ handlers, onData, loading, i18n }) {\n\tconst { handleNext, handlePrev, handleUpdateProfile } = handlers\n\tconst { userData = {} } = onData\n\tconst [addressValue, setAddressValue] = useState(\"\")\n\tconst [address, setAddress] = useState({})\n\n\tconst userDetails = JSON.parse(localStorage.getItem(\"userDetails\")) || {}\n\n\tconst handleLoad = () => {\n\t\tconst options = {\n\t\t\ttypes: [],\n\t\t\tcomponentRestrictions: { country: userDetails.country },\n\t\t}\n\n\t\t/*global google*/\n\t\tautocomplete = new google.maps.places.Autocomplete(document.getElementById(\"location\"), options)\n\t\tautocomplete.addListener(\"place_changed\", handlePlaceSelect)\n\t}\n\n\tconst handlePlaceSelect = () => {\n\t\tconst addressObject = autocomplete.getPlace()\n\t\tconst userAddress = addressObject.address_components\n\n\t\tif (userAddress) {\n\t\t\tsetAddress({\n\t\t\t\tlocation: addressObject.formatted_address,\n\t\t\t})\n\t\t\tsetAddressValue(addressObject.formatted_address)\n\t\t}\n\t}\n\n\tconst handleSubmitBasic = (values, { setSubmitting }) => {\n\t\tconst previousData = { firstName: userData.firstName, lastName: userData.lastName }\n\t\tvalues = {\n\t\t\t...values,\n\t\t\t...previousData,\n\t\t\taddress: addressValue,\n\t\t\tphone: `${countryMap[userData.country].phoneCode}${values.phone}`,\n\t\t\tdob: moment(values.dob).format(\"YYYY-MM-DD\"),\n\t\t\tnric: \"\",\n\t\t}\n\t\thandleUpdateProfile(values, \"subjects\")\n\t\tsetSubmitting(false)\n\t}\n\n\tuseEffect(() => {\n\t\tsetAddressValue(userData.address)\n\t}, [userData.address])\n\n\tif (Object.keys(userData).length < 1)\n\t\treturn (\n\t\t\t<Col lg={14} xs={24}>\n\t\t\t\t<Loading />\n\t\t\t</Col>\n\t\t)\n\n\treturn (\n\t\t<Col lg={16} xs={24} style={{ padding: \"2em 3em\" }}>\n\t\t\t<Heading\n\t\t\t\tcontent={<Trans>About me</Trans>}\n\t\t\t\tsubheader={\n\t\t\t\t\t<Trans>\n\t\t\t\t\t\t<span>Tell us some of your details</span>\n\t\t\t\t\t</Trans>\n\t\t\t\t}\n\t\t\t\tlevel={4}\n\t\t\t\tmarginBottom=\"2em\"\n\t\t\t/>\n\t\t\t<Formik\n\t\t\t\tenableReinitialize\n\t\t\t\tonSubmit={handleSubmitBasic}\n\t\t\t\tinitialValues={{\n\t\t\t\t\tgender: (userData.gender || \"\").toLowerCase() || \"m\",\n\t\t\t\t\trace: userData.race || undefined,\n\t\t\t\t\tdob: moment(userData.dob).format(\"YYYY-MM-DD\"),\n\t\t\t\t\taddress: userData.address,\n\t\t\t\t\tdescription: userData.description,\n\t\t\t\t\tphone: (userData.phone || \"\").startsWith(\"+\") ? userData.phone.slice(3) : userData.phone,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{({ handleSubmit }) => (\n\t\t\t\t\t<Form layout=\"vertical\" onSubmit={handleSubmit}>\n\t\t\t\t\t\t<Row gutter={32}>\n\t\t\t\t\t\t\t<Col lg={12}>\n\t\t\t\t\t\t\t\t<DateInput\n\t\t\t\t\t\t\t\t\tname=\"dob\"\n\t\t\t\t\t\t\t\t\tlabel={<Trans>Date of birth</Trans>}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Your date of birth...\"\n\t\t\t\t\t\t\t\t\tdisabledDate={(current) => current && current > moment()}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col lg={12}>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tname=\"phone\"\n\t\t\t\t\t\t\t\t\tlabel={<Trans>Your mobile</Trans>}\n\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`E.g. 87888788`)}\n\t\t\t\t\t\t\t\t\taddonBefore={countryMap[userDetails.country].phoneCode}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row gutter={32}>\n\t\t\t\t\t\t\t{/* <Col lg={12}>\n\t\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\t\tname=\"race\"\n\t\t\t\t\t\t\t\t\tlabel={<Trans>Race</Trans>}\n\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Your race...`)}\n\t\t\t\t\t\t\t\t\toptions={race}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col> */}\n\t\t\t\t\t\t\t<Col lg={12}>\n\t\t\t\t\t\t\t\t<Script url={googleApiKey} onLoad={handleLoad} />\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tspecial\n\t\t\t\t\t\t\t\t\tallowClear\n\t\t\t\t\t\t\t\t\tid=\"location\"\n\t\t\t\t\t\t\t\t\tname=\"address\"\n\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Your location...`)}\n\t\t\t\t\t\t\t\t\tlabel={<Trans>Your location</Trans>}\n\t\t\t\t\t\t\t\t\tvalue={addressValue}\n\t\t\t\t\t\t\t\t\thelpText={<Trans>Start typing some characters to show place options</Trans>}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setAddressValue(e.target.value)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col lg={12}>\n\t\t\t\t\t\t\t\t<RadioInput\n\t\t\t\t\t\t\t\t\tname=\"gender\"\n\t\t\t\t\t\t\t\t\tlabel={<Trans>Gender</Trans>}\n\t\t\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t\t\t{ value: \"m\", label: <Trans>Male</Trans> },\n\t\t\t\t\t\t\t\t\t\t{ value: \"f\", label: <Trans>Female</Trans> },\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\ttextarea\n\t\t\t\t\t\t\trows={4}\n\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\tlabel={<Trans>Short description about you</Trans>}\n\t\t\t\t\t\t\tplaceholder={i18n._(\n\t\t\t\t\t\t\t\tt`E.g. I am Jenny Ang, a 24-year old professional English tutor. I have 6-year experiences tutoring, both in freelance and worked under agency.`\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<Row type=\"flex\" justify=\"space-between\" align=\"middle\">\n\t\t\t\t\t\t\t<Col lg={8}>\n\t\t\t\t\t\t\t\t<ButtonLink size=\"large\" htmllType=\"button\" icon=\"left\" onClick={() => handlePrev(\"preferfield\")}>\n\t\t\t\t\t\t\t\t\t&nbsp; <Trans>Back</Trans>\n\t\t\t\t\t\t\t\t</ButtonLink>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col lg={8} style={{ textAlign: \"right\" }}>\n\t\t\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" loading={loading}>\n\t\t\t\t\t\t\t\t\t<Trans>\n\t\t\t\t\t\t\t\t\t\tNext <Icon type=\"right\" />\n\t\t\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t)}\n\t\t\t</Formik>\n\t\t</Col>\n\t)\n}\n\nexport default withI18n()(AboutMe)\n","import React from \"react\"\nimport { Row, Col, Form, Icon, Divider, Typography } from \"antd\"\nimport { Heading, Button, Section, Loading, Card } from \"components\"\nimport moment from \"moment\"\nimport { Trans, t } from \"@lingui/macro\"\nimport { withI18n } from \"@lingui/react\"\nimport styled from \"styled-components\"\nimport { useState } from \"react\"\nimport { baseStyles } from \"styles/base\"\nimport Alert from \"components/Alert\"\nimport { media } from \"helpers\"\nimport DynamicIcon from \"components/common/DynamicIcon\"\n\nconst StyledCard = styled(Card)`\n\t&& {\n\t\theight: 200px;\n\t\tborder: ${({ isSelected }) => isSelected && `2px solid ${baseStyles.primaryColor}`};\n\t\tbackground-color: ${({ isSelected }) => isSelected && baseStyles.primaryColorRgba};\n\t}\n\n\t${media.mobile`\n        && {\n            height: auto;\n        }\n    `}\n`\n\nconst { Text, Paragraph } = Typography\n\nfunction PreferField({ handlers, onData, loading, i18n }) {\n\tconst { handleNext, handleUpdateProfile } = handlers\n\tconst { userData = {}, setUserData, initialValues } = onData\n\tconst [selectedField, setSelectedField] = useState({})\n\n\tconst notSelectedYet = Object.keys(selectedField).length === 0\n\n\tconst fieldOptions = [\n\t\t{\n\t\t\tkey: \"academic\",\n\t\t\ttitle: <Trans>Academic</Trans>,\n\t\t\tdescription: <Trans>If you teach something like Mathematic, History, English, Chemical, etc</Trans>,\n\t\t\tcall: \"tutor\"\n\t\t},\n\t\t{\n\t\t\tkey: \"non_academic\",\n\t\t\ttitle: <Trans>Non-academic</Trans>,\n\t\t\tdescription: <Trans>If you teach something like Music, Photography, Digital Marketing, etc</Trans>,\n\t\t\tcall: \"coach\"\n\t\t}\n\t]\n\n\tconst handleSubmitPreferrableField = () => {\n\t\tlocalStorage.setItem(\"onboarding_preferrable_field\", selectedField.key)\n\t\thandleNext(\"aboutme\")\n\t}\n\n\tif (Object.keys(userData).length === 0) return <Loading />\n\n\treturn (\n\t\t<Col lg={16} xs={24} style={{ padding: \"2em 3em\" }}>\n\t\t\t<Heading\n\t\t\t\tcontent={<Trans>Your preferrable field</Trans>}\n\t\t\t\tsubheader={\n\t\t\t\t\t<Trans>\n\t\t\t\t\t\t<span>Tell us whether you'd like to teach academic or non-academic lessons</span>\n\t\t\t\t\t</Trans>\n\t\t\t\t}\n\t\t\t\tlevel={4}\n\t\t\t\tmarginBottom=\"2em\"\n\t\t\t/>\n\t\t\t<Alert\n\t\t\t\ttype=\"info\"\n\t\t\t\tshowIcon\n\t\t\t\tmessage={\n\t\t\t\t\t<Trans>\n\t\t\t\t\t\tYou can change this later, or even you can teach both of these fields. However, for now, you need to choose first\n\t\t\t\t\t</Trans>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Row gutter={16}>\n\t\t\t\t{fieldOptions.map((item) => {\n\t\t\t\t\tconst isSelected = item.key === selectedField.key\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Col lg={12} key={item.key}>\n\t\t\t\t\t\t\t<StyledCard padding=\"2em\" hoverable onClick={() => setSelectedField(item)} isSelected={isSelected}>\n\t\t\t\t\t\t\t\t<Typography className=\"mb2em\">\n\t\t\t\t\t\t\t\t\t<Paragraph strong>{item.title}</Paragraph>\n\t\t\t\t\t\t\t\t\t<Text type=\"secondary\">{item.description}</Text>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t{isSelected && (\n\t\t\t\t\t\t\t\t\t<Text>\n\t\t\t\t\t\t\t\t\t\t<DynamicIcon type=\"icon-male\" /> Then we'll call you <strong>{item.call}</strong>\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</StyledCard>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</Row>\n\n\t\t\t<Divider className=\"mb4em\" />\n\n\t\t\t<Section textAlign=\"right\" noPadding>\n\t\t\t\t<Button type=\"primary\" onClick={handleSubmitPreferrableField} loading={loading} disabled={notSelectedYet}>\n\t\t\t\t\t{loading ? <Trans>Please wait...</Trans> : <Trans>Next</Trans>} <Icon type=\"right\" />\n\t\t\t\t</Button>\n\t\t\t</Section>\n\t\t</Col>\n\t)\n}\n\nexport default withI18n()(PreferField)\n","import React, { useState, useEffect } from \"react\"\nimport { Row, Col, Form, Icon, Divider, message, Popconfirm } from \"antd\"\nimport TextInput from \"components/forms/TextInput\"\nimport { Heading, Button, ButtonLink, Empty, Loading } from \"components\"\nimport { useMutation } from \"@apollo/react-hooks\"\nimport { mutateEducations, mutateDeleteEducations, mutateUpdateEducations } from \"queries/profile\"\nimport { mobile, newClient, renderError } from \"helpers\"\nimport { Formik } from \"formik\"\nimport CheckboxInput from \"components/forms/CheckboxInput\"\nimport DateInput from \"components/forms/DateInput\"\nimport { SubmitButton } from \"formik-antd\"\nimport moment from \"moment\"\nimport { Trans, t } from \"@lingui/macro\"\nimport { withI18n } from \"@lingui/react\"\n\nfunction Educations({ onNext, onPrev, onData, loading, fetchUser, i18n }) {\n\tconst [userEducations, setUserEducations] = useState([])\n\tconst [isAdding, setIsAdding] = useState(false)\n\n\tconst { userData = {} } = onData\n\tconst [addEducation] = useMutation(mutateEducations, {\n\t\tclient: newClient(),\n\t\tonCompleted: () => fetchUser(),\n\t\tonError: (err) => renderError(err),\n\t})\n\tconst [updateEducation] = useMutation(mutateUpdateEducations, {\n\t\tclient: newClient(),\n\t\tonCompleted: () => fetchUser(),\n\t\tonError: (err) => renderError(err),\n\t})\n\tconst [deleteEducation] = useMutation(mutateDeleteEducations, { client: newClient() })\n\n\tconst handleDelete = (pvid) => {\n\t\tconst filtered = userEducations.find((item) => item.pvid === pvid) || {}\n\t\tdeleteEducation({ variables: { pvidList: [filtered.pvid] } })\n\t\t\t.then(() => fetchUser())\n\t\t\t.then(() => message.success(i18n._(t`The education item has been deleted`), 2))\n\t}\n\n\tconst handleAdd = (values, { setSubmitting }) => {\n\t\tvalues = {\n\t\t\t...values,\n\t\t\tfromDate: moment(values.fromDate).format(\"YYYY-MM-DD\"),\n\t\t\ttoDate: values.isPresent ? moment().format(\"YYYY-MM-DD\") : moment(values.toDate).format(\"YYYY-MM-DD\"),\n\t\t}\n\t\t// eslint-disable-next-line no-prototype-builtins\n\t\tconst hasPvid = values.hasOwnProperty(\"pvid\")\n\t\tif (hasPvid) {\n\t\t\tconst { source, ...rest } = values\n\t\t\tvalues = rest\n\t\t}\n\t\tconst handler = hasPvid ? updateEducation : addEducation\n\t\thandler({ variables: { list: [values] } })\n\t\t\t.then(() => message.success(i18n._(t`The education has been updated`)))\n\t\t\t.then(() => {\n\t\t\t\tsetSubmitting(false)\n\t\t\t\tsetIsAdding(false)\n\t\t\t})\n\t}\n\n\tconst handleCancel = () => {\n\t\tsetIsAdding(false)\n\t\tsetUserEducations(userData.educationList)\n\t}\n\n\tconst handleAddNewField = () => setIsAdding(true)\n\n\tconst renderEducations = () => {\n\t\tif ((userEducations || []).length === 0 && !isAdding) return <Empty />\n\t\tif (loading) return <Loading />\n\t\tif (isAdding) {\n\t\t\treturn (\n\t\t\t\t<Formik onSubmit={handleAdd} initialValues={{ isPresent: false }}>\n\t\t\t\t\t{({ handleSubmit, values }) => (\n\t\t\t\t\t\t<Form layout=\"vertical\" onSubmit={handleSubmit} style={{ marginBottom: \"2em\" }}>\n\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\tname=\"institution\"\n\t\t\t\t\t\t\t\tplaceholder={i18n._(t`E.g. Nanyang Polytechnic`)}\n\t\t\t\t\t\t\t\tlabel={<Trans>Your school/college</Trans>}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Row style={{ marginBottom: \"1em\" }}>\n\t\t\t\t\t\t\t\t<Col lg={14}>\n\t\t\t\t\t\t\t\t\t<CheckboxInput name=\"isPresent\">\n\t\t\t\t\t\t\t\t\t\t<Trans>I'm currently studying here</Trans>\n\t\t\t\t\t\t\t\t\t</CheckboxInput>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<Row gutter={16}>\n\t\t\t\t\t\t\t\t<Col lg={12} xs={12}>\n\t\t\t\t\t\t\t\t\t<DateInput\n\t\t\t\t\t\t\t\t\t\tmonthly\n\t\t\t\t\t\t\t\t\t\tname=\"fromDate\"\n\t\t\t\t\t\t\t\t\t\tlabel={<Trans>From</Trans>}\n\t\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Choose the date`)}\n\t\t\t\t\t\t\t\t\t\tdisabledDate={(current) => current && current > moment()}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col lg={12} xs={12}>\n\t\t\t\t\t\t\t\t\t<DateInput\n\t\t\t\t\t\t\t\t\t\tmonthly\n\t\t\t\t\t\t\t\t\t\tname=\"toDate\"\n\t\t\t\t\t\t\t\t\t\tlabel={<Trans>To</Trans>}\n\t\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Choose the date`)}\n\t\t\t\t\t\t\t\t\t\tdisabled={values.isPresent}\n\t\t\t\t\t\t\t\t\t\tdisabledDate={(current) => current && current > moment()}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<SubmitButton block>\n\t\t\t\t\t\t\t\t<Trans>Save this education</Trans>\n\t\t\t\t\t\t\t</SubmitButton>{\" \"}\n\t\t\t\t\t\t\t&nbsp;{\" \"}\n\t\t\t\t\t\t\t<ButtonLink block onClick={handleCancel}>\n\t\t\t\t\t\t\t\t<Trans>Cancel</Trans>\n\t\t\t\t\t\t\t</ButtonLink>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t)\n\t\t}\n\n\t\treturn (userEducations || []).map((item) => (\n\t\t\t<Formik\n\t\t\t\tenableReinitialize\n\t\t\t\tonSubmit={handleAdd}\n\t\t\t\tkey={item.pvid}\n\t\t\t\tinitialValues={{\n\t\t\t\t\tpvid: item.pvid,\n\t\t\t\t\tinstitution: item.institution,\n\t\t\t\t\tfromDate: moment(item.fromDate).format(\"YYYY-MM-DD\"),\n\t\t\t\t\ttoDate: moment(item.toDate).format(\"YYYY-MM-DD\"),\n\t\t\t\t\tisPresent: item.isPresent,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{({ handleSubmit, values, dirty }) => (\n\t\t\t\t\t<Form layout=\"vertical\" onSubmit={handleSubmit} style={{ marginBottom: \"2em\" }}>\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\tname=\"institution\"\n\t\t\t\t\t\t\tplaceholder={i18n._(t`E.g. Nanyang Polytechnic`)}\n\t\t\t\t\t\t\tlabel={<Trans>Your school/college</Trans>}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Row style={{ marginBottom: \"1em\" }}>\n\t\t\t\t\t\t\t<Col lg={14}>\n\t\t\t\t\t\t\t\t<CheckboxInput name=\"isPresent\">\n\t\t\t\t\t\t\t\t\t<Trans>I'm currently studying here</Trans>\n\t\t\t\t\t\t\t\t</CheckboxInput>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row gutter={16}>\n\t\t\t\t\t\t\t<Col lg={12} xs={12}>\n\t\t\t\t\t\t\t\t<DateInput monthly name=\"fromDate\" label={<Trans>From</Trans>} placeholder={i18n._(t`Choose the date`)} />\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col lg={12} xs={12}>\n\t\t\t\t\t\t\t\t<DateInput\n\t\t\t\t\t\t\t\t\tmonthly\n\t\t\t\t\t\t\t\t\tname=\"toDate\"\n\t\t\t\t\t\t\t\t\tlabel={<Trans>To</Trans>}\n\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Choose the date`)}\n\t\t\t\t\t\t\t\t\tdisabled={values.isPresent}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<SubmitButton disabled={!dirty}>\n\t\t\t\t\t\t\t<Trans>Save changes</Trans>\n\t\t\t\t\t\t</SubmitButton>{\" \"}\n\t\t\t\t\t\t&nbsp;{\" \"}\n\t\t\t\t\t\t<Popconfirm title={<Trans>Delete this education?</Trans>} onConfirm={() => handleDelete(item.pvid)}>\n\t\t\t\t\t\t\t<ButtonLink icon=\"close\">\n\t\t\t\t\t\t\t\t&nbsp; <Trans>Delete</Trans>\n\t\t\t\t\t\t\t</ButtonLink>\n\t\t\t\t\t\t</Popconfirm>\n\t\t\t\t\t</Form>\n\t\t\t\t)}\n\t\t\t</Formik>\n\t\t))\n\t}\n\n\tuseEffect(() => {\n\t\tsetUserEducations(userData.educationList)\n\t}, [userData.educationList])\n\n\treturn (\n\t\t<Col lg={16} xs={24} style={{ padding: \"2em\" }}>\n\t\t\t<Heading\n\t\t\t\tcontent={<Trans>Educational background</Trans>}\n\t\t\t\tsubheader={<Trans>Please fill in your educational background</Trans>}\n\t\t\t\tlevel={4}\n\t\t\t\tmarginBottom=\"2em\"\n\t\t\t/>\n\n\t\t\t{renderEducations()}\n\n\t\t\t{!isAdding && (\n\t\t\t\t<div style={{ marginBottom: \"2em\" }}>\n\t\t\t\t\t<Button block type=\"dashed\" size=\"medium\" icon=\"plus\" onClick={handleAddNewField} style={{ marginBottom: \"2em\" }}>\n\t\t\t\t\t\t&nbsp; <Trans>Add a new education</Trans>\n\t\t\t\t\t</Button>\n\t\t\t\t\t{/* <ButtonLink block icon=\"close\" onClick={() => ({})}>\n\t\t\t\t\t\t&nbsp; <Trans>Cancel</Trans>\n\t\t\t\t\t</ButtonLink> */}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<Divider className=\"mb4em\" />\n\n\t\t\t<Row type=\"flex\" justify=\"space-between\">\n\t\t\t\t<Col lg={12} xs={24}>\n\t\t\t\t\t<ButtonLink type=\"primary\" block={mobile} size=\"large\" onClick={() => onPrev(\"subjects\")}>\n\t\t\t\t\t\t<Trans>\n\t\t\t\t\t\t\t<Icon type=\"left\" /> Back to Subjects\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t</ButtonLink>\n\t\t\t\t</Col>\n\t\t\t\t<Col lg={12} xs={24} style={{ textAlign: !mobile && \"right\" }}>\n\t\t\t\t\t<Button type=\"primary\" block={mobile} size=\"large\" onClick={() => onNext(\"experiences\")}>\n\t\t\t\t\t\t<Trans>\n\t\t\t\t\t\t\tGo to Experiences <Icon type=\"right\" />\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t</Button>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Col>\n\t)\n}\n\nexport default withI18n()(Educations)\n","import { Field } from \"formik\";\r\nimport * as React from \"react\";\r\nexport const isDevelopmentMode = () => !process.env.NODE_ENV || process.env.NODE_ENV === \"development\";\r\nexport const FormikDebug = (props) => isDevelopmentMode() ? (React.createElement(\"pre\", { style: Object.assign({ padding: 15 }, props) },\r\n    React.createElement(Field, null, ({ form }) => JSON.stringify(form, null, 2)))) : null;\r\nexport default FormikDebug;\r\n//# sourceMappingURL=index.js.map","import React, { useState, useEffect } from \"react\"\nimport { Row, Col, Form, Icon, Popconfirm, message, Divider } from \"antd\"\nimport { Heading, Button, ButtonLink, Empty } from \"components\"\nimport { Formik } from \"formik\"\nimport { SubmitButton, FormikDebug } from \"formik-antd\"\nimport moment from \"moment\"\nimport { Trans, t } from \"@lingui/macro\"\nimport { withI18n } from \"@lingui/react\"\nimport { useMutation } from \"@apollo/react-hooks\"\n\nimport TextInput from \"components/forms/TextInput\"\nimport SelectInput from \"components/forms/SelectInput\"\nimport {\n\tmutateExperiences,\n\tmutateUpdateExperiences,\n\tDELETE_EXPERIENCES_LEVEL,\n\tDELETE_EXPERIENCES_NON_ACADEMIC,\n\tDELETE_EXPERIENCES,\n\tUPDATE_EXPERIENCES_NON_ACADEMIC\n} from \"queries/profile\"\nimport { client, mobile, newClient, renderError } from \"helpers\"\nimport DateInput from \"components/forms/DateInput\"\nimport CheckboxInput from \"components/forms/CheckboxInput\"\n\nimport { useLifelongCategories } from \"helpers/hooks/data\"\n\nfunction Experiences({ onNext, onPrev, onExperiences, data, fetchUser, loading, i18n }) {\n\tconst [userExperiences, setUserExperiences] = useState([])\n\tconst [isAdding, setIsAdding] = useState(false)\n\tconst { options: nonAcademicOptions } = useLifelongCategories(0, true)\n\tconst [deletedLevels, setDeletedLevels] = useState([])\n\n\tconst preferrableField = localStorage.getItem(\"onboarding_preferrable_field\")\n\tconst isNonAcademic = preferrableField === \"non_academic\"\n\tconst { dataSubjects = {}, dataLevels = {}, userData = {} } = data\n\n\tconst [addExperience] = useMutation(mutateExperiences, {\n\t\tclient: client.profileClient,\n\t\tonCompleted: () => {\n\t\t\tfetchUser()\n\t\t\tmessage.success(i18n._(t`The experience item has been added`), 2)\n\t\t},\n\t\tonError: (err) => renderError(err)\n\t})\n\n\tconst [updateNonAcademic] = useMutation(UPDATE_EXPERIENCES_NON_ACADEMIC, {\n\t\tclient: newClient(),\n\t\tonCompleted: () => {\n\t\t\tfetchUser()\n\t\t\tsetIsAdding(false)\n\t\t},\n\t\tonError: (err) => renderError(err)\n\t})\n\n\tconst [updateExperience] = useMutation(mutateUpdateExperiences, {\n\t\tclient: client.profileClient,\n\t\tonCompleted: () => {\n\t\t\tfetchUser().then(() => {\n\t\t\t\tmessage.success(i18n._(t`The experience item has been updated`), 2)\n\t\t\t\tsetIsAdding(false)\n\t\t\t})\n\t\t},\n\t\tonError: (err) => renderError(err)\n\t})\n\n\tconst [deleteExperiences] = useMutation(DELETE_EXPERIENCES, {\n\t\tclient: newClient(),\n\t\tonCompleted: () => {\n\t\t\tfetchUser().then(() => {\n\t\t\t\tmessage.success(i18n._(t`The experience item has been deleted`), 2)\n\t\t\t\tsetIsAdding(false)\n\t\t\t})\n\t\t},\n\t\tonError: (err) => renderError(err)\n\t})\n\n\tconst [deleteLevel] = useMutation(DELETE_EXPERIENCES_LEVEL, {\n\t\tclient: newClient(),\n\t\tonCompleted: () => setDeletedLevels([]),\n\t\tonError: (err) => renderError(err)\n\t})\n\n\tconst [deleteNonAcademic] = useMutation(DELETE_EXPERIENCES_NON_ACADEMIC, {\n\t\tclient: newClient(),\n\t\tonCompleted: () => {\n\t\t\tsetIsAdding(false)\n\t\t\tfetchUser().then(() => message.success(i18n._(t`The experience item has been deleted`), 2))\n\t\t},\n\t\tonError: (err) => renderError(err)\n\t})\n\n\tconst levelOptions = (dataLevels.getProgrammeLevelList || []).map((item) => ({\n\t\tvalue: item.name,\n\t\tlabel: item.name\n\t}))\n\n\tlet subjectOptions = (dataSubjects.getProgrammeSubjectList || []).map((item) => ({\n\t\tvalue: item.name,\n\t\tlabel: item.name\n\t}))\n\n\tsubjectOptions = isNonAcademic ? nonAcademicOptions : subjectOptions\n\n\tconst handleCancel = () => {\n\t\tsetUserExperiences(userData.experienceList)\n\t\tsetIsAdding(false)\n\t}\n\n\t// const handleSave = (values, { setSubmitting }) => {\n\t// \tconst hasPvid = values.hasOwnProperty(\"pvid\")\n\t// \tconst handler = hasPvid ? updateExperience : addExperience\n\n\t// \tvalues = {\n\t// \t\t...values,\n\t// \t\tfromDate: moment(values.fromDate).format(\"YYYY-MM-DD\"),\n\t// \t\ttoDate: moment(values.toDate).format(\"YYYY-MM-DD\"),\n\t// \t\tsubject: isNonAcademic ? values.subject[1] : values.subject,\n\t// \t\tcurriculum: isNonAcademic ? \"\" : values.curriculum\n\t// \t}\n\n\t// \tif (hasPvid) {\n\t// \t\tconst { source, __typename, ...rest } = values\n\t// \t\tvalues = rest\n\t// \t}\n\t// \thandler({ variables: { list: [values] } }).finally(() => {\n\t// \t\tsetIsAdding(false)\n\t// \t\tsetSubmitting(false)\n\t// \t})\n\t// }\n\n\tconst handleSave = (values, { setSubmitting }) => {\n\t\tconst hasPvid = values.hasOwnProperty(\"pvid\")\n\t\tconst fromDate = moment(values.fromDate).format(\"YYYY-MM-DD\")\n\t\tconst toDate = values.isPresent ? moment().format(\"YYYY-MM-DD\") : moment(values.toDate).format(\"YYYY-MM-DD\")\n\t\tconst institution = values.isPrivateTutor ? \"-\" : values.institution || \"-\"\n\n\t\tif (isNonAcademic) {\n\t\t\tvalues = {\n\t\t\t\tsubject: Array.isArray(values.subject) ? values.subject.join(\" > \") : values.subject,\n\t\t\t\tisNonAcademic: true,\n\t\t\t\tisStore: !hasPvid,\n\t\t\t\tlevel: [\n\t\t\t\t\t{\n\t\t\t\t\t\tpvid: values.pvid || \"\",\n\t\t\t\t\t\tfromDate,\n\t\t\t\t\t\ttoDate,\n\t\t\t\t\t\tinstitution,\n\t\t\t\t\t\tisPrivateTutor: values.isPrivateTutor,\n\t\t\t\t\t\tisPresent: values.isPresent,\n\t\t\t\t\t\tcurriculum: \"\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t} else {\n\t\t\tconst { subject, ...rest } = values\n\t\t\tconst level = values.curriculum.map((curriculum) => {\n\t\t\t\tconst index = userExperiences.findIndex((item) => item.subject.name === values.subject)\n\t\t\t\tconst selectedLevel = userExperiences[index]?.subject?.level.find((item) => item.curriculum === curriculum) || {}\n\n\t\t\t\treturn {\n\t\t\t\t\t...rest,\n\t\t\t\t\tpvid: selectedLevel.pvid || \"\",\n\t\t\t\t\tcurriculum,\n\t\t\t\t\tfromDate,\n\t\t\t\t\ttoDate,\n\t\t\t\t\tinstitution\n\t\t\t\t}\n\t\t\t})\n\t\t\tvalues = { subject: values.subject, isNonAcademic: false, isStore: !hasPvid, level }\n\t\t}\n\n\t\tif (hasPvid) {\n\t\t\tconst { source, ...rest } = values\n\t\t\tvalues = rest\n\t\t}\n\n\t\tif (deletedLevels.length > 0) {\n\t\t\tconst pvidList = deletedLevels.map((item) => item.pvid).filter((item) => Boolean(item))\n\t\t\tdeleteLevel({ variables: { pvidList } })\n\t\t}\n\n\t\tconst handler = isNonAcademic ? updateNonAcademic : updateExperience\n\t\thandler({ variables: { list: values } }).finally(() => setSubmitting(false))\n\t}\n\n\tconst handleDelete = (subject) => {\n\t\tconst handler = isNonAcademic ? deleteNonAcademic : deleteExperiences\n\t\thandler({ variables: { subject } })\n\t}\n\n\tconst handleDeleteLocalLevels = (subject) => (level) => {\n\t\tconst index = userExperiences.findIndex((item) => item.subject.name === subject)\n\t\tconst selected = userExperiences[index].subject?.level?.find((item) => item.curriculum === level) || {}\n\t\tsetDeletedLevels((prev) => [...prev, selected])\n\t}\n\n\tconst handleAddNewField = () => setIsAdding(true)\n\n\tuseEffect(() => {\n\t\tsetUserExperiences(isNonAcademic ? userData.experienceNonAcademicList : userData.experienceList)\n\t}, [isNonAcademic, userData.experienceList, userData.experienceNonAcademicList])\n\n\treturn (\n\t\t<Col lg={16} xs={24} style={{ padding: \"2em\" }}>\n\t\t\t<Heading\n\t\t\t\tcontent={<Trans>Tutoring experiences</Trans>}\n\t\t\t\tsubheader={<Trans>Please fill in your tutoring experiences</Trans>}\n\t\t\t\tlevel={4}\n\t\t\t\tmarginBottom=\"2em\"\n\t\t\t/>\n\n\t\t\t<EditMode\n\t\t\t\tisAdding={isAdding}\n\t\t\t\ti18n={i18n}\n\t\t\t\tdata={{ isNonAcademic, levelOptions, subjectOptions, userExperiences }}\n\t\t\t\thandlers={{ handleSave, handleCancel, handleDelete, handleDeleteLocalLevels }}\n\t\t\t/>\n\n\t\t\t{!isAdding && (\n\t\t\t\t<div style={{ marginBottom: \"2em\" }}>\n\t\t\t\t\t<Button block type=\"dashed\" size=\"medium\" icon=\"plus\" onClick={handleAddNewField} style={{ marginBottom: \"2em\" }}>\n\t\t\t\t\t\t&nbsp; <Trans>Add a new experience</Trans>\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<Divider className=\"mb4em\" />\n\n\t\t\t<Row type=\"flex\" justify=\"space-between\">\n\t\t\t\t<Col lg={12} xs={24}>\n\t\t\t\t\t<ButtonLink type=\"primary\" block={mobile} size=\"large\" onClick={() => onPrev(\"educations\")}>\n\t\t\t\t\t\t<Trans>\n\t\t\t\t\t\t\t<Icon type=\"left\" /> Back to Educations\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t</ButtonLink>\n\t\t\t\t</Col>\n\t\t\t\t<Col lg={12} xs={24} style={{ textAlign: !mobile && \"right\" }}>\n\t\t\t\t\t<Button type=\"primary\" block={mobile} size=\"large\" htmlType=\"submit\" onClick={() => onNext(\"certifications\")}>\n\t\t\t\t\t\t<Trans>\n\t\t\t\t\t\t\tGo to Certifications <Icon type=\"right\" />\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t</Button>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Col>\n\t)\n}\n\nfunction EditMode({ data, handlers, i18n, isAdding }) {\n\tconst { handleSave, handleCancel, handleDelete, handleDeleteLocalLevels } = handlers\n\tconst { isNonAcademic, levelOptions, subjectOptions, userExperiences = [] } = data\n\tconst { options: nonAcademicOptions } = useLifelongCategories()\n\n\tif (isAdding) {\n\t\treturn (\n\t\t\t<Formik onSubmit={handleSave} initialValues={{ institution: \"\", isPresent: false, isPrivateTutor: false }}>\n\t\t\t\t{({ handleSubmit, values }) => (\n\t\t\t\t\t<Form layout=\"vertical\" onSubmit={handleSubmit} style={{ marginBottom: \"2em\" }}>\n\t\t\t\t\t\t<Row gutter={16} type=\"flex\">\n\t\t\t\t\t\t\t<Col lg={isNonAcademic ? 12 : 24} xs={isNonAcademic ? 12 : 24}>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tname=\"institution\"\n\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Tuition's name`)}\n\t\t\t\t\t\t\t\t\tlabel={<Trans>Tuition's name</Trans>}\n\t\t\t\t\t\t\t\t\tdisabled={values.isPrivateTutor}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col lg={12} xs={12}>\n\t\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\t\tcascader={isNonAcademic}\n\t\t\t\t\t\t\t\t\tname=\"subject\"\n\t\t\t\t\t\t\t\t\tlabel={<Trans>Subject</Trans>}\n\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Subject`)}\n\t\t\t\t\t\t\t\t\toptions={subjectOptions}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t{!isNonAcademic && (\n\t\t\t\t\t\t\t\t<Col lg={12} xs={12}>\n\t\t\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\t\t\tmode=\"multiple\"\n\t\t\t\t\t\t\t\t\t\tname=\"curriculum\"\n\t\t\t\t\t\t\t\t\t\tlabel={<Trans>Curriculum</Trans>}\n\t\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Curriculum`)}\n\t\t\t\t\t\t\t\t\t\toptions={levelOptions}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row gutter={16}>\n\t\t\t\t\t\t\t<Col lg={12} xs={12}>\n\t\t\t\t\t\t\t\t<DateInput\n\t\t\t\t\t\t\t\t\tmonthly\n\t\t\t\t\t\t\t\t\tname=\"fromDate\"\n\t\t\t\t\t\t\t\t\tlabel={<Trans>Date joined</Trans>}\n\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Date joined`)}\n\t\t\t\t\t\t\t\t\tclassName=\"width-100\"\n\t\t\t\t\t\t\t\t\tdisabledDate={(current) => current && current > moment()}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col lg={12} xs={12}>\n\t\t\t\t\t\t\t\t<DateInput\n\t\t\t\t\t\t\t\t\tmonthly\n\t\t\t\t\t\t\t\t\tname=\"toDate\"\n\t\t\t\t\t\t\t\t\tlabel={<Trans>Date resigned</Trans>}\n\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Date resigned`)}\n\t\t\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\n\t\t\t\t\t\t\t\t\tdisabledDate={(current) => current && current > moment()}\n\t\t\t\t\t\t\t\t\tdisabled={values.isPresent}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col lg={24} xs={24}>\n\t\t\t\t\t\t\t\t<CheckboxInput name=\"isPrivateTutor\">\n\t\t\t\t\t\t\t\t\t<Trans>I was a private tutor</Trans>\n\t\t\t\t\t\t\t\t</CheckboxInput>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col lg={24} xs={24} style={{ marginBottom: \"2em\" }}>\n\t\t\t\t\t\t\t\t<CheckboxInput name=\"isPresent\">\n\t\t\t\t\t\t\t\t\t<Trans>I'm currently working here</Trans>\n\t\t\t\t\t\t\t\t</CheckboxInput>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<SubmitButton block>\n\t\t\t\t\t\t\t<Trans>Save this experience</Trans>\n\t\t\t\t\t\t</SubmitButton>{\" \"}\n\t\t\t\t\t\t&nbsp;{\" \"}\n\t\t\t\t\t\t<ButtonLink block onClick={handleCancel}>\n\t\t\t\t\t\t\t<Trans>Cancel</Trans>\n\t\t\t\t\t\t</ButtonLink>\n\t\t\t\t\t\t<FormikDebug />\n\t\t\t\t\t</Form>\n\t\t\t\t)}\n\t\t\t</Formik>\n\t\t)\n\t}\n\n\t// if ((userExperiences || []).length === 0) return <Empty description={<Trans>No experiences data</Trans>} />\n\n\treturn userExperiences.map((item, idx) => {\n\t\tconst getSubjectDefault = () => {\n\t\t\tconst subjectName = userExperiences[idx].subject.name.split(\" > \")\n\t\t\tconst subject = nonAcademicOptions.find((item) => item.label === subjectName[0]) || {}\n\t\t\tconst subSubject = subject?.children?.find((item) => item.label === subjectName[1]) || {}\n\t\t\treturn isNonAcademic ? [subject.label, subSubject.label] : item.subject.name\n\t\t}\n\t\tconst level = item.subject?.level\n\t\tconst initials = {\n\t\t\tsubject: getSubjectDefault(),\n\t\t\tpvid: level && level[0].pvid,\n\t\t\tfromDate: level && level[0].fromDate,\n\t\t\ttoDate: level && level[0].toDate,\n\t\t\tinstitution: level && level[0].institution,\n\t\t\tisPrivateTutor: level && level[0].isPrivateTutor,\n\t\t\tisPresent: level && level[0].isPresent,\n\t\t\tcurriculum: level && level.map((item) => item.curriculum)\n\t\t}\n\t\treturn (\n\t\t\t<Formik key={item.subject.name} onSubmit={handleSave} initialValues={initials}>\n\t\t\t\t{({ handleSubmit, values, dirty }) => (\n\t\t\t\t\t<Form layout=\"vertical\" onSubmit={handleSubmit} style={{ marginBottom: \"2em\" }}>\n\t\t\t\t\t\t<Row gutter={16}>\n\t\t\t\t\t\t\t<Col lg={isNonAcademic ? 12 : 24} xs={isNonAcademic ? 12 : 24}>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tname=\"institution\"\n\t\t\t\t\t\t\t\t\tlabel={<Trans>Tuition's name</Trans>}\n\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Tuition's name`)}\n\t\t\t\t\t\t\t\t\tdisabled={values.isPrivateTutor || item.isPrivateTutor}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col lg={12} xs={12}>\n\t\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\t\tcascader={isNonAcademic}\n\t\t\t\t\t\t\t\t\tname=\"subject\"\n\t\t\t\t\t\t\t\t\tlabel={<Trans>Subject</Trans>}\n\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Subject`)}\n\t\t\t\t\t\t\t\t\toptions={subjectOptions}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t{!isNonAcademic && (\n\t\t\t\t\t\t\t\t<Col lg={12} xs={12}>\n\t\t\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\t\t\tmode=\"multiple\"\n\t\t\t\t\t\t\t\t\t\tname=\"curriculum\"\n\t\t\t\t\t\t\t\t\t\tlabel={<Trans>Curriculum</Trans>}\n\t\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Curriculum`)}\n\t\t\t\t\t\t\t\t\t\toptions={levelOptions}\n\t\t\t\t\t\t\t\t\t\tonDeselect={handleDeleteLocalLevels(item.subject.name)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row gutter={16}>\n\t\t\t\t\t\t\t<Col lg={12} xs={12}>\n\t\t\t\t\t\t\t\t<DateInput\n\t\t\t\t\t\t\t\t\tmonthly\n\t\t\t\t\t\t\t\t\tname=\"fromDate\"\n\t\t\t\t\t\t\t\t\tlabel={<Trans>Date joined</Trans>}\n\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Date joined`)}\n\t\t\t\t\t\t\t\t\tclassName=\"width-100\"\n\t\t\t\t\t\t\t\t\tdisabledDate={(current) => current && current > moment()}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col lg={12} xs={12}>\n\t\t\t\t\t\t\t\t<DateInput\n\t\t\t\t\t\t\t\t\tmonthly\n\t\t\t\t\t\t\t\t\tname=\"toDate\"\n\t\t\t\t\t\t\t\t\tlabel={<Trans>Date resigned</Trans>}\n\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Date resigned`)}\n\t\t\t\t\t\t\t\t\tdisabled={values.isPresent || item.isPresent}\n\t\t\t\t\t\t\t\t\tclassName=\"width-100\"\n\t\t\t\t\t\t\t\t\tdisabledDate={(current) => current && current > moment()}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col lg={24}>\n\t\t\t\t\t\t\t\t<CheckboxInput name=\"isPrivateTutor\">\n\t\t\t\t\t\t\t\t\t<Trans>I was a private tutor</Trans>\n\t\t\t\t\t\t\t\t</CheckboxInput>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col lg={24}>\n\t\t\t\t\t\t\t\t<CheckboxInput name=\"isPresent\">\n\t\t\t\t\t\t\t\t\t<Trans>I'm currently working here</Trans>\n\t\t\t\t\t\t\t\t</CheckboxInput>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<SubmitButton type=\"primary\" disabled={!dirty}>\n\t\t\t\t\t\t\t<Trans>Update</Trans>\n\t\t\t\t\t\t</SubmitButton>{\" \"}\n\t\t\t\t\t\t&nbsp;{\" \"}\n\t\t\t\t\t\t<Popconfirm title={<Trans>Delete this experience?</Trans>} onConfirm={() => handleDelete(item.subject.name)}>\n\t\t\t\t\t\t\t<ButtonLink icon=\"close\">\n\t\t\t\t\t\t\t\t&nbsp; <Trans>Delete</Trans>\n\t\t\t\t\t\t\t</ButtonLink>\n\t\t\t\t\t\t</Popconfirm>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t</Form>\n\t\t\t\t)}\n\t\t\t</Formik>\n\t\t)\n\t})\n}\n\nexport default withI18n()(Experiences)\n","import React, { useState } from \"react\"\nimport { Row, Col, Form, Icon, Popconfirm, Divider, message } from \"antd\"\nimport { Heading, Button, ButtonLink, Alert, Upload, Empty } from \"components\"\nimport { Formik } from \"formik\"\nimport TextInput from \"components/forms/TextInput\"\nimport { withRouter } from \"react-router\"\nimport styled from \"styled-components\"\nimport SelectInput from \"components/forms/SelectInput\"\nimport { yearListFrom1980 } from \"dummy\"\nimport * as yup from \"yup\"\nimport { SubmitButton } from \"formik-antd\"\nimport { mutateUploadCertification, mutateDeleteCertification, mutateAddCertification, MUTATE_UPDATE_CERTIFICATE } from \"queries/profile\"\nimport { client, mobile, renderError } from \"helpers\"\nimport { useMutation } from \"react-apollo\"\nimport { Trans, t } from \"@lingui/macro\"\nimport { withI18n } from \"@lingui/react\"\nimport { country } from \"App\"\n\nconst FieldRow = styled.div`\n\tposition: relative;\n\t&:hover {\n\t\t.delete {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tvisibility: visible;\n\t\t}\n\t}\n\t.delete {\n\t\tdisplay: none;\n\t\tcursor: pointer;\n\t\tvisibility: hidden;\n\t\tposition: absolute;\n\t\tright: 0;\n\t\tborder-radius: 50%;\n\t\twidth: 25px;\n\t\tcolor: #ff9d00;\n\t\theight: 25px;\n\t\tz-index: 99;\n\t\t&:hover {\n\t\t\tbackground: #eee;\n\t\t}\n\t}\n\t.ant-upload.ant-upload-select {\n\t\tdisplay: block;\n\t}\n`\n\nconst Drag = styled.div`\n\ttext-align: center;\n\tdisplay: block;\n\tpadding: 2em;\n\tbackground: #f3f3f3;\n\tborder-radius: 8px;\n\tmargin-bottom: 2em;\n\th4 {\n\t\tfont-size: 1.2em;\n\t}\n\t> p {\n\t\tfont-size: 4em;\n\t}\n`\n\nconst yearList = yearListFrom1980.map((item) => ({ value: String(item), label: item }))\n\nfunction Certifications({ onPrev, history, onCertifications, fetchUser, i18n }) {\n\tconst { certifications = [], setCertifications } = onCertifications\n\tconst [isAdding, setIsAdding] = useState(false)\n\tconst [localFile, setLocalFile] = useState({ file: \"\", imagePreview: \"\" })\n\n\tconst [uploadCertification, { loading: loadingUpload }] = useMutation(mutateUploadCertification, {\n\t\tclient: client.resourceClient,\n\t\tonCompleted: (data) => {\n\t\t\tsetLocalFile((prev) => ({ ...prev, actual: (data.uploadCertification || {}).path }))\n\t\t},\n\t})\n\n\tconst [addCertification] = useMutation(mutateAddCertification, {\n\t\tclient: client.profileClient,\n\t\tonCompleted: () => {\n\t\t\tfetchUser()\n\t\t\tmessage.success(i18n._(t`Your certificate has been added`))\n\t\t},\n\t\tonError: (err) => renderError(err),\n\t})\n\n\tconst [updateCertification] = useMutation(MUTATE_UPDATE_CERTIFICATE, {\n\t\tclient: client.profileClient,\n\t\tonCompleted: () => {\n\t\t\tfetchUser()\n\t\t\tmessage.success(i18n._(t`Your certificate has been updated`))\n\t\t},\n\t\tonError: (err) => renderError(err),\n\t})\n\n\tconst [deleteCertification] = useMutation(mutateDeleteCertification, {\n\t\tclient: client.profileClient,\n\t\tonCompleted: () => {\n\t\t\tfetchUser()\n\t\t\tmessage.success(i18n._(t`Your certificate has been deleted`))\n\t\t},\n\t\tonError: (err) => renderError(err),\n\t})\n\n\tconst handleWrapup = () => {\n\t\thistory.push(`/${country}/profile/info/thankyou`)\n\t}\n\n\tconst handleDelete = (pvid) => deleteCertification({ variables: { pvid: Number(pvid) } })\n\n\tconst handleCancel = () => {\n\t\tsetIsAdding(false)\n\t\tsetLocalFile({})\n\t}\n\n\tconst handleUploadToLocal = (file) => {\n\t\tconst reader = new FileReader()\n\t\treader.onloadend = () => {\n\t\t\tsetLocalFile((prev) => ({ ...prev, file, imagePreview: reader.result }))\n\t\t}\n\t\treader.readAsDataURL(file)\n\t\treturn false\n\t}\n\n\tconst handleAddNewField = () => {\n\t\tsetIsAdding(true)\n\t}\n\n\tconst handleSave = (values, { setSubmitting }) => {\n\t\tconst hasPvid = values.hasOwnProperty(\"pvid\")\n\t\tif (!hasPvid) {\n\t\t\tvalues = {\n\t\t\t\t...values,\n\t\t\t\trelativePath: localFile.actual,\n\t\t\t\tissuedDate: values.issuedDate + \"/01/01\",\n\t\t\t}\n\t\t}\n\t\tconst handler = hasPvid ? updateCertification : addCertification\n\t\thandler({ variables: values }).finally(() => {\n\t\t\tsetIsAdding(false)\n\t\t\tsetSubmitting(false)\n\t\t\tsetLocalFile({})\n\t\t})\n\t}\n\n\tconst handleUploadCert = () => {\n\t\tuploadCertification({ variables: { file: localFile.file } })\n\t}\n\n\t// useEffect(() => {\n\t//     setCertifications(certifications)\n\t// }, [certifications])\n\n\treturn (\n\t\t<Col lg={16} xs={24} style={{ padding: \"2em\" }}>\n\t\t\t<Heading\n\t\t\t\tcontent={<Trans>Certifications</Trans>}\n\t\t\t\tsubheader={<Trans>Please fill in your certifications</Trans>}\n\t\t\t\tlevel={4}\n\t\t\t\tmarginBottom=\"2em\"\n\t\t\t/>\n\t\t\t{certifications.length === 0 && !isAdding && <Empty description={<Trans>No certifications for now</Trans>} />}\n\t\t\t{isAdding ? (\n\t\t\t\t<Formik onSubmit={handleSave} initialValues={{ name: \"\", issuer: \"\" }} validationSchema={validationSchema}>\n\t\t\t\t\t{({ handleSubmit }) => (\n\t\t\t\t\t\t<Form layout=\"vertical\" onSubmit={handleSubmit} style={{ marginBottom: \"2em\" }}>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t{localFile.file ? (\n\t\t\t\t\t\t\t\t\tlocalFile.actual ? (\n\t\t\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\t\t\ttype=\"success\"\n\t\t\t\t\t\t\t\t\t\t\tshowIcon\n\t\t\t\t\t\t\t\t\t\t\tmessage={\n\t\t\t\t\t\t\t\t\t\t\t\t<Trans>\n\t\t\t\t\t\t\t\t\t\t\t\t\tYour certificate is uploaded. Now please fill in the details of the certificate.\n\t\t\t\t\t\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tblock\n\t\t\t\t\t\t\t\t\t\t\ttype=\"dashed\"\n\t\t\t\t\t\t\t\t\t\t\ticon=\"upload\"\n\t\t\t\t\t\t\t\t\t\t\tloading={loadingUpload}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: \"2em\" }}\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleUploadCert}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t&nbsp; <Trans>Upload this certificate now</Trans>\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Upload\n\t\t\t\t\t\t\t\t\t\tbeforeUpload={handleUploadToLocal}\n\t\t\t\t\t\t\t\t\t\tmultiple={false}\n\t\t\t\t\t\t\t\t\t\tlistType=\"picture\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: \"2em\", display: \"block\" }}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Drag>\n\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon type=\"inbox\" />\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<Heading\n\t\t\t\t\t\t\t\t\t\t\t\tcontent={<Trans>Drag and drop your certification</Trans>}\n\t\t\t\t\t\t\t\t\t\t\t\tsubheader={<Trans>Supported formats: .pdf, .doc, .docx, .png, .jpg, .jpeg</Trans>}\n\t\t\t\t\t\t\t\t\t\t\t\tlevel={4}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Drag>\n\t\t\t\t\t\t\t\t\t</Upload>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Name of certification`)}\n\t\t\t\t\t\t\t\t\tlabel={<Trans>Name of certification</Trans>}\n\t\t\t\t\t\t\t\t\tdisabled={!localFile.actual}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Row gutter={16}>\n\t\t\t\t\t\t\t\t\t<Col lg={16}>\n\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\tname=\"issuer\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Issuer`)}\n\t\t\t\t\t\t\t\t\t\t\tlabel={<Trans>Issuer</Trans>}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!localFile.actual}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col lg={8}>\n\t\t\t\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\t\t\t\tname=\"issuedDate\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Year issued`)}\n\t\t\t\t\t\t\t\t\t\t\toptions={yearList}\n\t\t\t\t\t\t\t\t\t\t\tlabel={<Trans>Year issued</Trans>}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!localFile.actual}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t<SubmitButton type=\"primary\" size=\"large\">\n\t\t\t\t\t\t\t\t<Trans>Save changes</Trans>\n\t\t\t\t\t\t\t</SubmitButton>{\" \"}\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t<ButtonLink size=\"large\" onClick={handleCancel}>\n\t\t\t\t\t\t\t\t<Trans>Cancel</Trans>\n\t\t\t\t\t\t\t</ButtonLink>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t{certifications.map((item, idx) => {\n\t\t\t\t\t\tconst { name = \"\", issuer = \"\", issuedDate = \"\", pvid } = item\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Formik onSubmit={handleSave} initialValues={{ pvid: Number(pvid), name, issuer, issuedDate }}>\n\t\t\t\t\t\t\t\t\t{({ handleSubmit, dirty }) => (\n\t\t\t\t\t\t\t\t\t\t<Form layout=\"vertical\" onSubmit={handleSubmit} style={{ marginBottom: \"2em\" }}>\n\t\t\t\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Name of certification`)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={<Trans>Name of certification</Trans>}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<Row gutter={16}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col lg={16}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"issuer\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Issuer`)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={<Trans>Issuer</Trans>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col lg={8}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"issuedDate\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n._(t`Year issued`)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={yearList}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={<Trans>Year issued</Trans>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t<SubmitButton type=\"primary\" disabled={!dirty}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Trans>Update certificate</Trans>\n\t\t\t\t\t\t\t\t\t\t\t\t</SubmitButton>{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t&nbsp;{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t<Popconfirm\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={<Trans>Delete this certificate?</Trans>}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonConfirm={() => handleDelete(item.pvid)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ButtonLink icon=\"close\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t&nbsp;<Trans>Delete</Trans>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ButtonLink>\n\t\t\t\t\t\t\t\t\t\t\t\t</Popconfirm>\n\t\t\t\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Formik>\n\t\t\t\t\t\t\t\t{idx !== certifications.length - 1 && <Divider />}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t\t<Button block type=\"dashed\" size=\"medium\" icon=\"plus\" onClick={handleAddNewField} style={{ marginBottom: \"2em\" }}>\n\t\t\t\t\t\t&nbsp; <Trans>Add a new certificate</Trans>\n\t\t\t\t\t</Button>\n\t\t\t\t</>\n\t\t\t)}\n\n\t\t\t<Divider className=\"mb4em\" />\n\n\t\t\t<Row type=\"flex\" justify=\"space-between\">\n\t\t\t\t<Col lg={12} xs={24}>\n\t\t\t\t\t<ButtonLink type=\"primary\" block={mobile} size=\"large\" onClick={() => onPrev(\"experiences\")}>\n\t\t\t\t\t\t<Trans>\n\t\t\t\t\t\t\t<Icon type=\"left\" /> Back to Experiences\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t</ButtonLink>\n\t\t\t\t</Col>\n\t\t\t\t<Col lg={12} xs={24} style={{ textAlign: !mobile && \"right\" }}>\n\t\t\t\t\t<Button type=\"primary\" block={mobile} size=\"large\" onClick={handleWrapup}>\n\t\t\t\t\t\t<Trans>\n\t\t\t\t\t\t\tNext <Icon type=\"right\" />\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t</Button>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Col>\n\t)\n}\n\nconst validationSchema = yup.object().shape({\n\tname: yup.string().required(`You have to tell the name of the certificate`),\n\tissuer: yup.string().required(`You have to tell the issuer`),\n\tissuedDate: yup.string().required(`You have to tell when the certificate is issued`),\n})\n\nexport default withI18n()(withRouter(Certifications))\n","import React, { useState, useEffect, Suspense } from \"react\"\nimport { Row, Col, Icon, Modal } from \"antd\"\nimport { Heading, Card, Section, ButtonLink, Steps, Donut, Loading } from \"components\"\nimport { Switch, Route, Redirect, withRouter } from \"react-router-dom\"\nimport styled from \"styled-components\"\nimport uuid from \"uuid/v4\"\n\nimport orangeEl from \"assets/images/ellipse-orange.png\"\nimport purpleEl from \"assets/images/ellipse-purple.png\"\nimport { mobile, media, newClient } from \"helpers\"\nimport { useMutation, useQuery } from \"react-apollo\"\nimport { mutateUserProfile, mutateUpdateProfile } from \"queries/profile\"\nimport decorating from \"assets/images/decorating.png\"\nimport { Trans, t } from \"@lingui/macro\"\nimport { queryFetchSubjects, queryFetchLevels, queryFetchCurriculums } from \"queries/data\"\nimport { withI18n } from \"@lingui/react\"\nimport GifPlayer from \"components/GifPlayer\"\nimport { baseStyles } from \"styles/base\"\n\nimport Name from \"./Name\"\nimport Subjects from \"./Subjects\"\nimport AboutMe from \"./AboutMe\"\nimport PreferField from \"./PreferField\"\nimport Educations from \"./Educations\"\nimport Experiences from \"./Experiences\"\nimport Certifications from \"./Certifications\"\n\nconst StyledCard = styled(Card).attrs({\n\tautoHeight: true,\n\tnoHover: true\n})`\n\tposition: relative;\n\t.ant-card-body {\n\t\tpadding: 0;\n\t\t.ant-card-meta {\n\t\t\tdisplay: none;\n\t\t\tvisibility: hidden;\n\t\t}\n\t\timg {\n\t\t\tborder-radius: 10px 0 0 10px;\n\t\t}\n\t}\n`\n\nconst BackgroundSection = styled(Section)`\n\theight: 100%;\n\tposition: relative;\n\tpadding: 0;\n\t/* background: url(${decorating}) no-repeat; */\n\tbackground-size: cover;\n\tbackground-blend-mode: darken;\n\tborder-radius: 10px 0 0 10px;\n\t&:before {\n\t\tcontent: \"\";\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tposition: absolute;\n\t\tbackground-color: ${baseStyles.primaryColorRgba};\n\t\tz-index: 0;\n\t}\n\t&& {\n\t\t.steps {\n\t\t\tpadding-left: 4em;\n\t\t\tpadding-top: 3em;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tcolor: #fff;\n\t\t\t.ant-steps-item-title {\n\t\t\t\tcolor: #fff;\n\t\t\t}\n\t\t}\n\t}\n\n\t${media.mobile`\n        && {\n            .steps {\n                width: 100%;\n                overflow-x: scroll;\n            }\n        }\n    `}\n`\n\nconst StyledHeading = styled(Heading)`\n\t${media.mobile`\n        && {\n            h2 {\n                line-height: 1;\n                margin-bottom: .5em;\n            }\n        }\n    `}\n`\n\nconst initialValues = {\n\taboutme: {\n\t\tfirstName: \"\",\n\t\tlastName: \"\",\n\t\tdob: Date.now(),\n\t\tnric: \"\",\n\t\tphone: \"\",\n\t\tgender: \"\",\n\t\trace: \"\",\n\t\taddress: \"\",\n\t\tdescription: \"\"\n\t},\n\tsubjects: [\n\t\t{\n\t\t\tpvid: uuid(),\n\t\t\tprogrammeLevelPvid: \"\",\n\t\t\tprogrammeSubjectPvid: \"\",\n\t\t\tpricePerHour: 0,\n\t\t\torderList: 0\n\t\t},\n\t\t{\n\t\t\tpvid: uuid(),\n\t\t\tprogrammeLevelPvid: \"\",\n\t\t\tprogrammeSubjectPvid: \"\",\n\t\t\tpricePerHour: 0,\n\t\t\torderList: 0\n\t\t}\n\t],\n\teducations: [\n\t\t{\n\t\t\tid: uuid(),\n\t\t\tinstitution: \"\",\n\t\t\tmonthFrom: \"01\",\n\t\t\tmonthTo: \"01\",\n\t\t\tyearFrom: \"2000\",\n\t\t\tyearTo: \"2000\",\n\t\t\tisPresent: false\n\t\t},\n\t\t{\n\t\t\tid: uuid(),\n\t\t\tinstitution: \"\",\n\t\t\tmonthFrom: \"01\",\n\t\t\tmonthTo: \"01\",\n\t\t\tyearFrom: \"2000\",\n\t\t\tyearTo: \"2000\",\n\t\t\tisPresent: false\n\t\t}\n\t],\n\texperiences: [\n\t\t{\n\t\t\tid: uuid(),\n\t\t\tcurriculum: \"\",\n\t\t\tlevel: \"\",\n\t\t\tsubject: \"\",\n\t\t\tmonthFrom: \"01\",\n\t\t\tmonthTo: \"01\",\n\t\t\tyearFrom: \"2000\",\n\t\t\tyearTo: \"2000\",\n\t\t\tinstitution: \"\",\n\t\t\tisPrivateTutor: false,\n\t\t\tisPresent: false\n\t\t},\n\t\t{\n\t\t\tid: uuid(),\n\t\t\tcurriculum: \"\",\n\t\t\tlevel: \"\",\n\t\t\tsubject: \"\",\n\t\t\tmonthFrom: \"01\",\n\t\t\tmonthTo: \"01\",\n\t\t\tyearFrom: \"2000\",\n\t\t\tyearTo: \"2000\",\n\t\t\tinstitution: \"\",\n\t\t\tisPrivateTutor: false,\n\t\t\tisPresent: false\n\t\t}\n\t]\n}\n\n// const stepsMapping = {\n// \tname: { id: 0, title: \"Name\" },\n// \tpreferfield: { id: 1, title: \"Preferrable field\" },\n// \taboutme: { id: 2, title: \"About me\" },\n// \tsubjects: { id: 3, title: \"Subjects\" },\n// \teducations: { id: 4, title: \"Educations\" },\n// \texperiences: { id: 5, title: \"Experiences\" },\n// \tcertifications: { id: 6, title: \"Certifications\" },\n// \tcolleagues: { id: 7, title: \"Colleagues\" },\n// \tdone: { id: 8, title: \"Done\" }\n// }\n\nconst stepsArray = (pathname) => {\n\tswitch (pathname) {\n\t\tcase \"name\":\n\t\t\treturn 0\n\t\tcase \"preferfield\":\n\t\t\treturn 1\n\t\tcase \"aboutme\":\n\t\t\treturn 2\n\t\tcase \"subjects\":\n\t\t\treturn 3\n\t\tcase \"educations\":\n\t\t\treturn 4\n\t\tcase \"experiences\":\n\t\t\treturn 5\n\t\tcase \"certifications\":\n\t\t\treturn 6\n\t\tcase \"done\":\n\t\t\treturn 7\n\t\tdefault:\n\t\t\treturn -1\n\t}\n}\n\nconst programmeClient = newClient(\"programme\")\n\nfunction AdditionalInfoTutor({ history, location, country, i18n }) {\n\tconst pathname = (location.pathname || \"\").split(\"/\")[4]\n\tconst userDetails = JSON.parse(localStorage.getItem(\"userDetails\")) || {}\n\n\tconst { data: dataSubjects = {} } = useQuery(queryFetchSubjects, {\n\t\tclient: programmeClient,\n\t\tvariables: { country: userDetails.country }\n\t})\n\tconst { data: dataLevels = {} } = useQuery(queryFetchLevels, {\n\t\tclient: programmeClient,\n\t\tvariables: { country: userDetails.country }\n\t})\n\tconst { data: dataCurriculums = {} } = useQuery(queryFetchCurriculums, {\n\t\tclient: programmeClient,\n\t\tvariables: { country: userDetails.country }\n\t})\n\tconst [activeStep, setActiveStep] = useState(stepsArray(pathname))\n\tconst [aboutme, setAboutme] = useState(\"\")\n\tconst [educations, setEducations] = useState(initialValues.educations)\n\tconst [experiences, setExperiences] = useState(initialValues.experiences)\n\tconst [certifications, setCertifications] = useState([])\n\tconst [userData, setUserData] = useState({})\n\n\tconst [fetchUser, { loading: loadingFetch }] = useMutation(mutateUserProfile, {\n\t\tclient: newClient(),\n\t\tonCompleted: (data) => {\n\t\t\tdata = data.getProfile || {}\n\t\t\tsetUserData(data)\n\t\t\tsetAboutme(data.description)\n\t\t\tsetCertifications(data.certificateList)\n\t\t}\n\t})\n\n\tconst [updateProfile] = useMutation(mutateUpdateProfile, {\n\t\tclient: newClient(\"account\"),\n\t\tonCompleted: (data) => {\n\t\t\tsetUserData(data)\n\t\t\tfetchUser()\n\t\t}\n\t})\n\n\tconst handleUpdateProfile = (values, section) => {\n\t\tupdateProfile({ variables: { ...values } }).then(() => handleNext(section))\n\t}\n\n\tconst handleNext = (section) => {\n\t\tsetActiveStep((activeStep) => activeStep + 1)\n\t\thistory.push(`/${country}/profile/onboarding_steps/${section.toLowerCase()}`)\n\t}\n\n\tconst handlePrev = (section) => {\n\t\tsetActiveStep((activeStep) => activeStep - 1)\n\t\thistory.push(`/${country}/profile/onboarding_steps/${section.toLowerCase()}`)\n\t}\n\n\tconst handleSkipSteps = () => {\n\t\tModal.confirm({\n\t\t\ttitle: i18n._(t`Skip this?`),\n\t\t\tcontent: i18n._(t`Are you sure want to skip this at the moment?`),\n\t\t\tcentered: true,\n\t\t\tonOk() {\n\t\t\t\thistory.push(`/${country}`)\n\t\t\t}\n\t\t})\n\t}\n\n\tconst steps = stepsArray(pathname)\n\n\tuseEffect(() => {\n\t\tconst isFirstTime = localStorage.getItem(\"firstTime\") === \"true\"\n\t\tif (!localStorage.getItem(\"token\") || !isFirstTime) history.push(`/${country}/404`)\n\t\tfetchUser()\n\t\tsetActiveStep(steps)\n\t}, [country, history, steps])\n\n\treturn (\n\t\t<Row type=\"flex\" justify=\"center\" align=\"middle\" style={{ marginTop: !mobile && \"2em\" }}>\n\t\t\t<Col lg={20} xs={24}>\n\t\t\t\t<Section textAlign=\"center\" centered width={mobile ? \"100%\" : \"80%\"}>\n\t\t\t\t\t<StyledHeading\n\t\t\t\t\t\tcontent={<Trans>You are almost done</Trans>}\n\t\t\t\t\t\tsubheader={\n\t\t\t\t\t\t\t<Trans>\n\t\t\t\t\t\t\t\tA better profile is the one that has a lot of informations to dig in. Therefore, it's recommended for you,\n\t\t\t\t\t\t\t\tas a tutor, to fill out additional informations you might have to complete your profile.\n\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Section>\n\t\t\t\t<StyledCard>\n\t\t\t\t\t<Donut src={orangeEl} bottom=\"-140px\" left=\"-180px\" style={{ zIndex: -1 }} />\n\t\t\t\t\t<Donut src={purpleEl} width=\"200px\" top=\"-90px\" right=\"-90px\" style={{ zIndex: -1 }} />\n\t\t\t\t\t<Row type=\"flex\">\n\t\t\t\t\t\t{!mobile && (\n\t\t\t\t\t\t\t<Col lg={8} xs={24}>\n\t\t\t\t\t\t\t\t<BackgroundSection>\n\t\t\t\t\t\t\t\t\t<div className=\"steps\">\n\t\t\t\t\t\t\t\t\t\t<Steps\n\t\t\t\t\t\t\t\t\t\t\tprogressDot\n\t\t\t\t\t\t\t\t\t\t\tcurrent={activeStep}\n\t\t\t\t\t\t\t\t\t\t\tsteps={[\n\t\t\t\t\t\t\t\t\t\t\t\t\"Name\",\n\t\t\t\t\t\t\t\t\t\t\t\t\"Prefer field\",\n\t\t\t\t\t\t\t\t\t\t\t\t\"About me\",\n\t\t\t\t\t\t\t\t\t\t\t\t\"Subjects\",\n\t\t\t\t\t\t\t\t\t\t\t\t\"Educations\",\n\t\t\t\t\t\t\t\t\t\t\t\t\"Experiences\",\n\t\t\t\t\t\t\t\t\t\t\t\t\"Certifications\",\n\t\t\t\t\t\t\t\t\t\t\t\t\"Done\"\n\t\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<GifPlayer\n\t\t\t\t\t\t\t\t\t\t\tsrc=\"https://assets1.lottiefiles.com/packages/lf20_IJauXS.json\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"100%\", height: \"80%\", position: \"relative\", top: 70 }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</BackgroundSection>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{/* <Suspense fallback={<Loading />}> */}\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t<Redirect\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tfrom={`/${country}/profile/onboarding_steps`}\n\t\t\t\t\t\t\t\tto={`/${country}/profile/onboarding_steps/name`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\tpath={`/:country/profile/onboarding_steps/name`}\n\t\t\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t\t\t<Name\n\t\t\t\t\t\t\t\t\t\tonActiveStep={{ activeStep, setActiveStep }}\n\t\t\t\t\t\t\t\t\t\thandlers={{ handleNext, handleUpdateProfile }}\n\t\t\t\t\t\t\t\t\t\tonAboutme={{ aboutme, setAboutme }}\n\t\t\t\t\t\t\t\t\t\tonData={{ userData, setUserData, initialValues: initialValues.aboutme }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\tpath={`/:country/profile/onboarding_steps/preferfield`}\n\t\t\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t\t\t<PreferField\n\t\t\t\t\t\t\t\t\t\tonActiveStep={{ activeStep, setActiveStep }}\n\t\t\t\t\t\t\t\t\t\thandlers={{ handleNext, handleUpdateProfile }}\n\t\t\t\t\t\t\t\t\t\tonAboutme={{ aboutme, setAboutme }}\n\t\t\t\t\t\t\t\t\t\tonData={{ userData, setUserData, initialValues: initialValues.aboutme }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\tpath={`/:country/profile/onboarding_steps/aboutme`}\n\t\t\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t\t\t<AboutMe\n\t\t\t\t\t\t\t\t\t\tonActiveStep={{ activeStep, setActiveStep }}\n\t\t\t\t\t\t\t\t\t\thandlers={{ handleNext, handlePrev, handleUpdateProfile }}\n\t\t\t\t\t\t\t\t\t\tonAboutme={{ aboutme, setAboutme }}\n\t\t\t\t\t\t\t\t\t\tonData={{ userData }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\tpath={`/:country/profile/onboarding_steps/subjects`}\n\t\t\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t\t\t<Subjects\n\t\t\t\t\t\t\t\t\t\tonActiveStep={{ activeStep, setActiveStep }}\n\t\t\t\t\t\t\t\t\t\thandlers={{ handleNext, handlePrev }}\n\t\t\t\t\t\t\t\t\t\tonData={{ userData }}\n\t\t\t\t\t\t\t\t\t\tloading={loadingFetch}\n\t\t\t\t\t\t\t\t\t\tfetchUser={fetchUser}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\tpath={`/:country/profile/onboarding_steps/educations`}\n\t\t\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t\t\t<Educations\n\t\t\t\t\t\t\t\t\t\tonActiveStep={{ activeStep, setActiveStep }}\n\t\t\t\t\t\t\t\t\t\tonNext={handleNext}\n\t\t\t\t\t\t\t\t\t\tonPrev={handlePrev}\n\t\t\t\t\t\t\t\t\t\tonData={{ userData }}\n\t\t\t\t\t\t\t\t\t\tonEducations={{ educations, setEducations }}\n\t\t\t\t\t\t\t\t\t\tloading={loadingFetch}\n\t\t\t\t\t\t\t\t\t\tfetchUser={fetchUser}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\tpath={`/:country/profile/onboarding_steps/experiences`}\n\t\t\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t\t\t<Experiences\n\t\t\t\t\t\t\t\t\t\tonActiveStep={{ activeStep, setActiveStep }}\n\t\t\t\t\t\t\t\t\t\tonNext={handleNext}\n\t\t\t\t\t\t\t\t\t\tonPrev={handlePrev}\n\t\t\t\t\t\t\t\t\t\tdata={{ dataSubjects, dataCurriculums, dataLevels, userData }}\n\t\t\t\t\t\t\t\t\t\tonExperiences={{ experiences, setExperiences }}\n\t\t\t\t\t\t\t\t\t\tfetchUser={fetchUser}\n\t\t\t\t\t\t\t\t\t\tloading={loadingFetch}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\tpath={`/:country/profile/onboarding_steps/certifications`}\n\t\t\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t\t\t<Certifications\n\t\t\t\t\t\t\t\t\t\tonActiveStep={{ activeStep, setActiveStep }}\n\t\t\t\t\t\t\t\t\t\tonNext={handleNext}\n\t\t\t\t\t\t\t\t\t\tonPrev={handlePrev}\n\t\t\t\t\t\t\t\t\t\tfetchUser={fetchUser}\n\t\t\t\t\t\t\t\t\t\tonCertifications={{ certifications, setCertifications }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t{/* </Suspense> */}\n\t\t\t\t\t</Row>\n\t\t\t\t</StyledCard>\n\t\t\t\t<Section centered textAlign=\"center\">\n\t\t\t\t\t{activeStep > 0 && (\n\t\t\t\t\t\t<ButtonLink onClick={handleSkipSteps}>\n\t\t\t\t\t\t\t<Trans>\n\t\t\t\t\t\t\t\tLet me fill out everything later <Icon type=\"right\" />{\" \"}\n\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t</ButtonLink>\n\t\t\t\t\t)}\n\t\t\t\t</Section>\n\t\t\t</Col>\n\t\t</Row>\n\t)\n}\n\nexport default withRouter(withI18n()(AdditionalInfoTutor))\n"],"sourceRoot":""}