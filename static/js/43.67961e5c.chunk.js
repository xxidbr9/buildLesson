(this.webpackJsonpcudysg=this.webpackJsonpcudysg||[]).push([[43],{1112:function(e,t,n){e.exports=n.p+"static/media/decorating.794e4ad9.png"},1262:function(e,t,n){"use strict";n.r(t),n.d(t,"initialValues",(function(){return U}));n(92);var a=n(4),r=(n(91),n(34)),o=(n(98),n(23)),c=(n(574),n(385)),i=n(26),l=n(28),u=n(3),s=n(0),d=n.n(s),m=n(43),f=n(27),p=n(10),b=n(1112),g=n.n(b),h=n(368),E=n(13),y=n(66),j=n(82),O=n(29),v=n(5),k=n(45),D=n(212);function x(){var e=Object(u.a)(["\n\t&& {\n\t\t.ant-card-body {\n\t\t\tpadding: 0;\n\t\t}\n\t}\n"]);return x=function(){return e},e}function w(){var e=Object(u.a)(["\n\theight: 100%;\n\tposition: relative;\n\t/* background: url(",') no-repeat; */\n\tbackground-size: cover;\n\tbackground-blend-mode: darken;\n\tborder-radius: 10px 0 0 10px;\n\t&:before {\n\t\tcontent: "";\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tposition: absolute;\n\t\tbackground-color: ',";\n\t\tz-index: 0;\n\t}\n\t&& {\n\t\t.steps {\n\t\t\tpadding-left: 4em;\n\t\t\tpadding-top: 3em;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tcolor: #fff;\n\t\t\t.ant-steps-item-title {\n\t\t\t\tcolor: #fff;\n\t\t\t}\n\t\t}\n\t}\n"]);return w=function(){return e},e}var _=d.a.lazy((function(){return n.e(62).then(n.bind(null,1334))})),P=d.a.lazy((function(){return Promise.all([n.e(1),n.e(2),n.e(20)]).then(n.bind(null,1335))})),N=d.a.lazy((function(){return n.e(61).then(n.bind(null,1336))})),C=Object(p.b)(m.u)(w(),g.a,k.a.primaryColorRgba),S=Object(p.b)(m.g)(x()),U={firstName:"",lastName:"",dob:Date.now(),nric:"",phone:"",gender:"",race:"",address:"",description:""},z=Object(E.l)("programme");t.default=Object(v.withI18n)()((function(e){var t=e.i18n,n=Object(s.useState)("name"),u=Object(l.a)(n,2),p=u[0],b=u[1],g=Object(s.useState)({}),k=Object(l.a)(g,2),x=k[0],w=k[1],U=Object(f.g)(),I=(Object(f.h)().pathname||"").split("/")[4],L=Object(y.c)(h.b,{client:z,variables:{country:O.d}}).data,T=void 0===L?{}:L,J=Object(y.b)(j.N,{client:Object(E.l)("profile"),onCompleted:function(e){e=e.getProfile||{},w(e)}}),A=Object(l.a)(J,1)[0],B=Object(y.b)(j.G,{client:Object(E.l)("account"),onCompleted:function(e){w(e),A()}}),H=Object(l.a)(B,2),G=H[0],R=H[1].loading,V=function(e,t){G({variables:Object(i.a)({},e)}).then((function(){return X(t)}))},X=function(e){e=e.toLowerCase(),b((function(e){return e+1})),U.push("/".concat(O.d,"/profile/onboarding_students/").concat(e))},Y=function(e){e=e.toLowerCase(),b((function(e){return e-1})),U.push("/".concat(O.d,"/profile/onboarding_students/").concat(e))},q=function(e){switch(e){case"name":return 0;case"basic":return 1;case"curriculum":return 2;case"done":return 3;default:return-1}}(I);return Object(s.useEffect)((function(){localStorage.getItem("token")&&"true"===localStorage.getItem("firstTime")||U.push("/".concat(O.d,"/404")),A(),b(q)}),[A,U]),d.a.createElement(m.u,{width:E.k?"100%":"75%",style:{margin:"0 auto",marginTop:"3em"}},d.a.createElement(m.l,{content:d.a.createElement(v.Trans,{id:"You are almost done!"}),subheader:d.a.createElement(v.Trans,{id:"It's time to complete your profile so other people could recognize you better"}),marginBottom:"3em",style:{textAlign:"center"}}),d.a.createElement(S,{noHover:!0,autoHeight:!0},d.a.createElement(r.a,{gutter:32,type:"flex"},!E.k&&d.a.createElement(o.a,{lg:8,xs:24},d.a.createElement(C,{noPadding:!0},d.a.createElement("div",{className:"steps"},d.a.createElement(m.v,{progressDot:!0,current:p,steps:["Name","Basic","Curriculum","Done"]})),d.a.createElement("div",null,d.a.createElement(D.a,{src:"https://assets1.lottiefiles.com/packages/lf20_IJauXS.json",style:{width:"100%",height:"80%",position:"relative",top:70}})))),d.a.createElement(s.Suspense,{fallback:d.a.createElement(m.o,null)},d.a.createElement(f.d,null,d.a.createElement(f.a,{exact:!0,from:"/:country/profile/onboarding_students",to:"/:country/profile/onboarding_students/name"}),d.a.createElement(f.b,{path:"/:country/profile/onboarding_students/name",render:function(){return d.a.createElement(_,{handlers:{handleNext:X,handlePrev:Y,onUpdateProfile:V},fetchUser:A,onData:{userData:x,setUserData:w},loading:R})}}),d.a.createElement(f.b,{path:"/:country/profile/onboarding_students/basic",render:function(){return d.a.createElement(P,{handlers:{handleNext:X,handlePrev:Y,onUpdateProfile:V},onData:{userData:x,setUserData:w},loading:R})}}),d.a.createElement(f.b,{path:"/:country/profile/onboarding_students/curriculum",render:function(){return d.a.createElement(N,{handlers:{handleNext:X,handlePrev:Y},levelData:T.getProgrammeLevelList,onData:{userData:x,setUserData:w},fetchUser:A})}}))))),d.a.createElement(m.u,{centered:!0},d.a.createElement(m.e,{onClick:function(){c.a.confirm({title:t._({id:"Skip this?"}),content:t._({id:"Are you sure want to skip this at the moment?"}),centered:!0,onOk:function(){U.push("/".concat(O.d))}})}},d.a.createElement(v.Trans,{id:"Let me fill out everything later <0/>",components:[d.a.createElement(a.a,{type:"right"})]}))))}))}}]);
//# sourceMappingURL=43.67961e5c.chunk.js.map