{"version":3,"sources":["store/actions/contentfulActions.js","pages/Counselling/Assessment/index.jsx"],"names":["loadingContentful","type","types","fetchEcommerceProducts","category","dispatch","contentfulClient","getEntries","content_type","then","items","payload","map","item","fields","catch","err","console","error","fetchEcommerceSites","fetchShopCategories","select","fetchConsultants","fetchLifelongSliders","fetchAssessments","data","fetchAssessmentOptions","fetchAssessmentCategories","fetchAssessmentResults","points","StyledSteps","styled","StyledCard","Card","attrs","autoHeight","noHover","selected","baseStyles","primaryColor","lightGrey","two","Assessment","useState","current","setCurrent","answers","setAnswers","selectedAnswer","setSelectedAnswer","isDifferentCategory","setIsDifferentCategory","useDispatch","push","useHistory","assessments","useSelector","contentful","options","assessmentOptions","useParams","isLastSlide","length","quizTaken","localStorage","getItem","scrollContainer","useRef","active","prop","title","quizAnswersFromStorage","JSON","parse","useEffect","log","visible","footer","className","Paragraph","Text","strong","block","onClick","removeItem","setItem","country","centered","maxWidth","level","content","subheader","lg","mobile","ref","direction","Step","key","xs","justify","color","greenColor","primary","upperCase","onConfirm","window","location","reload","size","icon","reverse","marginBottom","value","answer","label","point","answerList","index","findIndex","scrollBy","top","left","behavior","stringify","prev","pathname","state","isSuccess","handleNext","slice","disabled"],"mappings":"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","file":"static/js/46.ce0369f2.chunk.js","sourcesContent":["import { contentfulClient } from \"App\"\nimport * as types from \"store/constants\"\n\nconst loadingContentful = () => ({ type: types.LOADING_CONTENTFUL })\n\nexport const fetchEcommerceProducts = ({ category = \"\" } = {}) => (dispatch) => {\n\tdispatch(loadingContentful())\n\treturn contentfulClient\n\t\t.getEntries({ content_type: \"product\", \"fields.category\": category })\n\t\t.then(({ items }) => {\n\t\t\tdispatch({ type: types.FETCH_ECOMMERCE_PRODUCTS, payload: items.map((item) => item.fields) })\n\t\t})\n\t\t.catch((err) => {\n\t\t\tdispatch({ type: types.FETCH_ECOMMERCE_PRODUCTS_ERROR })\n\t\t\tconsole.error(err)\n\t\t})\n}\n\nexport const fetchEcommerceSites = () => (dispatch) => {\n\tdispatch(loadingContentful())\n\treturn contentfulClient\n\t\t.getEntries({ content_type: \"eCommerceSites\" })\n\t\t.then(({ items }) => dispatch({ type: types.FETCH_ECOMMERCE_SITES, payload: items.map((item) => item.fields) }))\n\t\t.catch((err) => {\n\t\t\tdispatch({ type: types.FETCH_ECOMMERCE_SITES_ERROR })\n\t\t\tconsole.error(err)\n\t\t})\n}\n\nexport const fetchShopCategories = () => (dispatch) => {\n\tdispatch(loadingContentful())\n\treturn contentfulClient\n\t\t.getEntries({ content_type: \"product\", select: \"fields.category\" })\n\t\t.then(({ items }) => dispatch({ type: types.FETCH_SHOP_CATEGORIES, payload: items.map((item) => item.fields) }))\n\t\t.catch((err) => {\n\t\t\tdispatch({ type: types.FETCH_SHOP_CATEGORIES_ERROR })\n\t\t\tconsole.error(err)\n\t\t})\n}\n\nexport const fetchConsultants = () => (dispatch) => {\n\tdispatch(loadingContentful())\n\treturn contentfulClient\n\t\t.getEntries({ content_type: \"consultants\" })\n\t\t.then(({ items }) => {\n\t\t\tdispatch({ type: types.FETCH_CONSULTANTS, payload: items.map((item) => item.fields) })\n\t\t})\n\t\t.catch((err) => {\n\t\t\tdispatch({ type: types.FETCH_CONSULTANTS_ERROR })\n\t\t\tconsole.error(err)\n\t\t})\n}\n\nexport const fetchLifelongSliders = () => (dispatch) => {\n\tdispatch(loadingContentful())\n\treturn contentfulClient\n\t\t.getEntries({ content_type: \"lifelongSlider\" })\n\t\t.then(({ items }) => {\n\t\t\tdispatch({ type: types.FETCH_LIFELONG_SLIDERS, payload: items.map((item) => item.fields) })\n\t\t})\n\t\t.catch((err) => {\n\t\t\tdispatch({ type: types.FETCH_LIFELONG_SLIDERS_ERROR })\n\t\t\tconsole.error(err)\n\t\t})\n}\n\nexport const fetchAssessments = (category) => (dispatch) => {\n\tdispatch(loadingContentful())\n\treturn contentfulClient\n\t\t.getEntries({ content_type: \"counsellingAssessment\" })\n\t\t.then(({ items }) => {\n\t\t\tconst data = items.map((item) => item.fields)\n\t\t\tdispatch({ type: types.FETCH_ASSESSMENTS, payload: { data, category } })\n\t\t})\n\t\t.catch((err) => {\n\t\t\tdispatch({ type: types.FETCH_ASSESSMENTS_ERROR })\n\t\t\tconsole.error(err)\n\t\t})\n}\n\nexport const fetchAssessmentOptions = (category) => (dispatch) => {\n\tdispatch(loadingContentful())\n\treturn contentfulClient\n\t\t.getEntries({ content_type: \"counsellingOptions\" })\n\t\t.then(({ items }) => {\n\t\t\tdispatch({ type: types.FETCH_ASSESSMENT_OPTIONS, payload: { data: items.map((item) => item.fields), category } })\n\t\t})\n\t\t.catch((err) => {\n\t\t\tdispatch({ type: types.FETCH_ASSESSMENT_OPTIONS_ERROR })\n\t\t\tconsole.error(err)\n\t\t})\n}\n\nexport const fetchAssessmentCategories = () => (dispatch) => {\n\tdispatch(loadingContentful())\n\treturn contentfulClient\n\t\t.getEntries({ content_type: \"counsellingCategories\" })\n\t\t.then(({ items }) => {\n\t\t\tdispatch({ type: types.FETCH_ASSESSMENT_CATEGORIES, payload: items.map((item) => item.fields) })\n\t\t})\n\t\t.catch((err) => {\n\t\t\tdispatch({ type: types.FETCH_ASSESSMENT_CATEGORIES_ERROR })\n\t\t\tconsole.error(err)\n\t\t})\n}\n\nexport const fetchAssessmentResults = (points) => (dispatch) => {\n\tdispatch(loadingContentful())\n\treturn contentfulClient\n\t\t.getEntries({ content_type: \"counsellingResults\" })\n\t\t.then(({ items }) => {\n\t\t\tdispatch({ type: types.FETCH_ASSESSMENT_RESULTS, payload: items.map((item) => item.fields), points })\n\t\t})\n\t\t.catch((err) => {\n\t\t\tdispatch({ type: types.FETCH_ASSESSMENT_RESULTS_ERROR })\n\t\t\tconsole.error(err)\n\t\t})\n}\n","import React, { useEffect, useState, useRef } from \"react\"\nimport { Layout, Section, Heading, Button } from \"components\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport styled from \"styled-components/macro\"\nimport { Trans } from \"@lingui/macro\"\nimport { fetchAssessments, fetchAssessmentOptions, fetchAssessmentCategories } from \"store/actions/contentfulActions\"\nimport { Row, Col, Steps, Typography, Popconfirm } from \"antd\"\nimport Tag from \"components/Tag\"\nimport { baseStyles } from \"styles/base\"\nimport { useParams, useHistory } from \"react-router\"\nimport { Card } from \"components\"\nimport { mobile, upperCase } from \"helpers\"\nimport { country } from \"App\"\nimport { Modal } from \"components\"\nimport { ButtonLink } from \"components\"\n\nconst StyledSteps = styled(Steps)`\n\t.ant-steps-item {\n\t\t.ant-steps-item-container {\n\t\t\t.ant-steps-item-title {\n\t\t\t\tline-height: 1.4;\n\t\t\t\tpadding-bottom: 1em;\n\t\t\t}\n\t\t}\n\t}\n`\n\nconst StyledCard = styled(Card).attrs({\n\tautoHeight: true,\n\tnoHover: true\n})`\n\t&& {\n\t\tcursor: pointer;\n\t\tborder: ${({ selected }) => (selected ? `2px solid ${baseStyles.primaryColor}` : \"2px solid transparent\")};\n\t\tbackground-color: ${({ selected }) => selected && baseStyles.lightGrey.two};\n\t\t&:hover {\n\t\t\tbackground-color: ${baseStyles.lightGrey.two};\n\t\t\ttransition: all 0.2s ease;\n\t\t}\n\t}\n`\n\nexport default function Assessment() {\n\tconst [current, setCurrent] = useState(0)\n\tconst [answers, setAnswers] = useState([])\n\tconst [selectedAnswer, setSelectedAnswer] = useState({})\n\tconst [isDifferentCategory, setIsDifferentCategory] = useState(false)\n\tconst dispatch = useDispatch()\n\tconst { push } = useHistory()\n\tconst assessments = useSelector(({ contentful }) => contentful.assessments)\n\tconst options = useSelector(({ contentful }) => contentful.assessmentOptions)\n\tconst { category } = useParams()\n\tconst isLastSlide = current === assessments.length - 1\n\t// const noAnswerSelected = Object.keys(selectedAnswer).length === 0\n\tconst quizTaken = localStorage.getItem(\"quiz_taken\")\n\tconst scrollContainer = useRef(null)\n\n\tconst active = (prop) => assessments[current] && assessments[current][prop]\n\tconst title = active(\"title\")\n\n\tconst quizAnswersFromStorage = JSON.parse(localStorage.getItem(\"quiz_answers\")) || []\n\n\t// const handleSelectAnswer = (target) => {\n\t// \tconst selected = { title, label: target.label, value: target.value, point: target.point }\n\t// \tsetSelectedAnswer(selected)\n\t// }\n\n\tconst handleNext = (answer) => {\n\t\tconst selected = { title, label: answer.label, value: answer.value, point: answer.point }\n\t\tlet answerList = [...quizAnswersFromStorage]\n\t\tconst index = quizAnswersFromStorage.findIndex((item) => item.title === answer.title)\n\t\tif (index > -1) answerList[index] = selected\n\t\telse answerList = [...answerList, selected]\n\t\tscrollContainer.current.scrollBy({ top: 30, left: 0, behavior: \"smooth\" })\n\t\tsetAnswers(answerList)\n\t\tlocalStorage.setItem(\"quiz_answers\", JSON.stringify(answerList))\n\t\tlocalStorage.setItem(\"quiz_taken\", category)\n\t\tsetCurrent((prev) => prev + 1)\n\t\tsetSelectedAnswer({})\n\t\tif (isLastSlide) {\n\t\t\tpush({ pathname: `/${country}/counselling/assessment-${category}/success`, state: { isSuccess: true, answers: answerList } })\n\t\t}\n\t}\n\n\tconst handlePrev = () => {\n\t\tlet answerList = [...quizAnswersFromStorage]\n\t\tanswerList = answerList.slice(0, quizAnswersFromStorage.length - 1)\n\t\tsetAnswers(answerList)\n\t\tlocalStorage.setItem(\"quiz_answers\", JSON.stringify(answerList))\n\t\tscrollContainer.current.scrollBy({ top: -30, left: 0, behavior: \"smooth\" })\n\t\tsetCurrent((prev) => prev - 1)\n\t}\n\n\tconst handleStartNewSession = () => {\n\t\tlocalStorage.removeItem(\"quiz_answers\")\n\t\tlocalStorage.setItem(\"quiz_taken\", category)\n\t\tsetIsDifferentCategory(false)\n\t}\n\n\tconst handleBackToPrevSession = () => {\n\t\tpush(`/${country}/counselling/assessment-${quizTaken}`)\n\t\tsetIsDifferentCategory(false)\n\t}\n\n\tconst handleStartOver = () => {\n\t\tlocalStorage.removeItem(\"quiz_answers\")\n\t\twindow.location.reload(true)\n\t}\n\n\tuseEffect(() => {\n\t\tdispatch(fetchAssessments(category))\n\t\tdispatch(fetchAssessmentOptions(category))\n\t\tdispatch(fetchAssessmentCategories())\n\t}, [category, dispatch])\n\n\tuseEffect(() => {\n\t\tif (quizTaken) {\n\t\t\tif (quizTaken === category) {\n\t\t\t\tsetCurrent(quizAnswersFromStorage.length)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tsetIsDifferentCategory(true)\n\t\t}\n\t}, [category, quizAnswersFromStorage.length, quizTaken])\n\n\tconsole.log({ selectedAnswer, answers, options, current, scrollContainer })\n\n\treturn (\n\t\t<Layout>\n\t\t\t<Modal visible={isDifferentCategory} footer={false}>\n\t\t\t\t<Typography className=\"mb2em\">\n\t\t\t\t\t<Typography.Paragraph>\n\t\t\t\t\t\tPreviously you were taking a <Typography.Text strong>{quizTaken} level assessment</Typography.Text> and it's still\n\t\t\t\t\t\trunning. Do you want to start a new <Typography.Text strong>{category} level assessment</Typography.Text> session\n\t\t\t\t\t\tinstead?\n\t\t\t\t\t</Typography.Paragraph>\n\t\t\t\t</Typography>\n\t\t\t\t<Button type=\"primary\" block className=\"mb1em\" onClick={handleStartNewSession}>\n\t\t\t\t\tYes, start a new one instead\n\t\t\t\t</Button>\n\t\t\t\t<ButtonLink block onClick={handleBackToPrevSession}>\n\t\t\t\t\tNo, take me back to previous assessment\n\t\t\t\t</ButtonLink>\n\t\t\t</Modal>\n\t\t\t<Section centered maxWidth=\"1200px\">\n\t\t\t\t<Heading\n\t\t\t\t\tlevel={4}\n\t\t\t\t\tcontent=\"Assessment for You\"\n\t\t\t\t\tsubheader=\"Take this assessment so that we can take a deep analysis regarding your current mental status\"\n\t\t\t\t/>\n\t\t\t\t<Row type=\"flex\">\n\t\t\t\t\t<Col lg={6}>\n\t\t\t\t\t\t{!mobile && (\n\t\t\t\t\t\t\t<Section ref={scrollContainer} className=\"section pr1em oy-auto h-100vh no-scrollbar\">\n\t\t\t\t\t\t\t\t<StyledSteps current={current} direction={mobile ? \"horizontal\" : \"vertical\"} className=\"mb4em\">\n\t\t\t\t\t\t\t\t\t{assessments.map((item) => (\n\t\t\t\t\t\t\t\t\t\t<Steps.Step key={item.title} title={item.title} />\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</StyledSteps>\n\t\t\t\t\t\t\t</Section>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col lg={18} xs={24}>\n\t\t\t\t\t\t<Section className=\"section height-100\">\n\t\t\t\t\t\t\t{mobile && <Typography.Paragraph>{current + 1 + \" / \" + assessments.length}</Typography.Paragraph>}\n\t\t\t\t\t\t\t<Row type=\"flex\" justify=\"space-between\">\n\t\t\t\t\t\t\t\t<Col lg={10}>\n\t\t\t\t\t\t\t\t\t<Tag className=\"mb2em\" color={baseStyles.greenColor.primary}>\n\t\t\t\t\t\t\t\t\t\t{upperCase(category)} level assessment\n\t\t\t\t\t\t\t\t\t</Tag>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col lg={12} className=\"ta-right\">\n\t\t\t\t\t\t\t\t\t<Popconfirm\n\t\t\t\t\t\t\t\t\t\ttitle={<Trans>Are you sure want to start over the assessment?</Trans>}\n\t\t\t\t\t\t\t\t\t\tonConfirm={handleStartOver}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Button type=\"dashed\" size=\"medium\" icon=\"poweroff\">\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;<Trans>Start over...</Trans>\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Popconfirm>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<Heading\n\t\t\t\t\t\t\t\treverse\n\t\t\t\t\t\t\t\tcss={`\n\t\t\t\t\t\t\t\t\t.title {\n\t\t\t\t\t\t\t\t\t\tmargin-bottom: 1em;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t.subheader {\n\t\t\t\t\t\t\t\t\t\tfont-size: 1.2em;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\tmarginBottom=\"2em\"\n\t\t\t\t\t\t\t\tlevel={4}\n\t\t\t\t\t\t\t\tcontent={active(\"title\")}\n\t\t\t\t\t\t\t\tsubheader={<strong>{active(\"question\")}</strong>}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t{options.map((item) => {\n\t\t\t\t\t\t\t\tconst selected = active(\"title\") === selectedAnswer.title && item.value === selectedAnswer.value\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<StyledCard selected={selected} key={item.value} onClick={() => handleNext(item)}>{`${[item.value]}. ${\n\t\t\t\t\t\t\t\t\t\titem.label\n\t\t\t\t\t\t\t\t\t}`}</StyledCard>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\n\t\t\t\t\t\t\t<Row type=\"flex\" justify=\"space-between\">\n\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t<Button type=\"primary\" icon=\"left\" onClick={handlePrev} disabled={current === 0}>\n\t\t\t\t\t\t\t\t\t\tPrev\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t{/* <Col className=\"ta-right\">\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\t\t\t\tonClick={handleNext}\n\t\t\t\t\t\t\t\t\t\tdisabled={noAnswerSelected}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{isLastSlide ? \"See result\" : \"Next\"}&nbsp;\n\t\t\t\t\t\t\t\t\t\t<Icon type=\"right\" />\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Col> */}\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Section>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Section>\n\t\t</Layout>\n\t)\n}\n"],"sourceRoot":""}